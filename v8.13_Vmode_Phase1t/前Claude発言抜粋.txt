// ãƒªãƒ­ãƒ¼ãƒ‰å¾Œ
window.PopupManager.show('quickAccess');
const sizeSlider = document.getElementById('pen-size-slider');
console.log('Size slider rect:', sizeSlider?.getBoundingClientRect());
// æœŸå¾…: {width: 172.8, ...} ã®ã‚ˆã†ãªæ­£ã®å€¤
// æ‰‹å‹•æ›´æ–°ãƒ†ã‚¹ãƒˆ
const popup = window.PopupManager.get('quickAccess');
popup._updateSizeSlider(15);
setTimeout(() => {
    const track = document.getElementById('pen-size-track');
    const handle = document.getElementById('pen-size-handle');
    console.log('Track width:', track?.style.width);
    console.log('Handle left:', handle?.style.left);
    console.log('Display:', document.getElementById('pen-size-display')?.textContent);
}, 100);
// ãƒ¬ã‚¬ã‚·ãƒ¼è¦ç´ ç¢ºèªï¼ˆå­˜åœ¨ã¯ã™ã‚‹ãŒéè¡¨ç¤ºã®ã¯ãšï¼‰
const legacyPopup = document.getElementById('legacy-pen-settings');
console.log('Legacy popup display:', window.getComputedStyle(legacyPopup).display);
// æœŸå¾…: "none"
popup-manager.js:232 ğŸ‘ï¸ Popup "quickAccess" shown
VM308:5 Size slider rect: DOMRect {x: 123.5999984741211, y: 188.97500610351562, width: 172.79998779296875, height: 4.5, top: 188.97500610351562, â€¦}
VM308:22 Legacy popup display: none
undefined
VM308:15 Track width: 49.1525%
VM308:16 Handle left: 49.1525%
VM308:17 Display: 15.0px

ã‚¹ãƒ©ã‚¤ãƒ€ãƒ¼å‹•ä½œã—ã¾ã™ã€æ•°å€¤ã‚‚å¤‰ã‚ã‚Šãƒšãƒ³ã«åæ˜ ã•ã‚Œã¾ã™ï¼å¼·ã„ã¦è¨€ãˆã°ãƒ¬ã‚¹ãƒãƒ³ã‚¹ãŒé…ãã€å¼•ã£æ›ã‹ã‚ŠãŒã‚ã‚‹ãã‚‰ã„ã§ã™ã€‚
ãã‚Œã®æ”¹ä¿®ã‚’ã™ã‚‹ã‹ã€resize-popup.jsãŒã¾ã ã‚¹ãƒ©ã‚¤ãƒ€ãƒ¼ãŒå‹•ã‹ãªã„ã®ã§ãã¡ã‚‰ã®æ”¹ä¿®ãŒå…ˆã‹ã€ã©ã¡ã‚‰ã‹ã‚’ãŠé¡˜ã„ã—ã¾ã™ã€‚
ğŸ‰ ç´ æ™´ã‚‰ã—ã„ï¼quick-access-popup.jså®Œå…¨æˆåŠŸï¼

Size slider rect: {width: 172.8, ...}  âœ… æ­£ã—ã„ã‚µã‚¤ã‚º
Track width: 49.1525%                   âœ… æ­£ã—ãè¨ˆç®—
Handle left: 49.1525%                   âœ… æ­£ã—ãç§»å‹•
Display: 15.0px                         âœ… è¡¨ç¤ºæ­£å¸¸
Legacy popup display: none              âœ… ãƒ¬ã‚¬ã‚·ãƒ¼éè¡¨ç¤º

ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã®é…ã•ã¯å¾Œå›ã—ã«ã—ã¦ã€resize-popup.jsã‚’å…ˆã«ä¿®æ­£ã—ã¾ã™ã€‚
resize-popup.jsãƒ‡ãƒãƒƒã‚°

ç¾åœ¨ã®resize-popup.jsã‚’ç¢ºèªã•ã›ã¦ãã ã•ã„ï¼š
javascript

// ===== resize-popup.js ç¾çŠ¶ç¢ºèª =====
window.PopupManager.show('resize');

const widthSlider = document.getElementById('canvas-width-slider');
const widthHandle = document.getElementById('canvas-width-handle');
const widthTrack = document.getElementById('canvas-width-track');

console.log('=== Sliderè¦ç´  ===');
console.log('Width slider:', widthSlider);
console.log('Width slider rect:', widthSlider?.getBoundingClientRect());

console.log('=== ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ç¢ºèª ===');
const popupInstance = window.PopupManager.get('resize');
console.log('Instance:', popupInstance);
console.log('Initialized:', popupInstance?.initialized);
console.log('Elements cached:', popupInstance?.elements);

console.log('=== ã‚¤ãƒ™ãƒ³ãƒˆãƒªã‚¹ãƒŠãƒ¼ç¢ºèª ===');
console.log('mouseMoveHandler:', popupInstance?.mouseMoveHandler);
console.log('mouseUpHandler:', popupInstance?.mouseUpHandler);

console.log('=== æ‰‹å‹•æ›´æ–°ãƒ†ã‚¹ãƒˆ ===');
if (popupInstance && popupInstance._updateWidthSlider) {
    popupInstance._updateWidthSlider(500);
    
    setTimeout(() => {
        console.log('After update:');
        console.log('Track width:', widthTrack?.style.width);
        console.log('Handle left:', widthHandle?.style.left);
        console.log('Display:', document.getElementById('canvas-width-display')?.textContent);
    }, 100);
}

ã“ã®ãƒ‡ãƒãƒƒã‚°çµæœã‚’æ•™ãˆã¦ãã ã•ã„ã€‚ç‰¹ã«ï¼š

    Width slider rect ã®ã‚µã‚¤ã‚º
    mouseMoveHandler ãŒå­˜åœ¨ã™ã‚‹ã‹
    æ‰‹å‹•æ›´æ–°å¾Œã® Track width ã¨ Handle left

çµæœæ¬¡ç¬¬ã§æ¬¡ã®ä¿®æ­£æ–¹é‡ã‚’æ±ºå®šã—ã¾ã™ã€‚

Consoleã‚³ãƒãƒ³ãƒ‰ã‚’å…¥åŠ›ã™ã‚‹ã“ã¨ã§ã€ã‚¹ãƒ©ã‚¤ãƒ€ãƒ¼ãŒå‹•ãã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚ã“ã‚Œã®å…¥åŠ›å‰ã¯å‹•ã‹ã›ã¾ã›ã‚“ã€‚

// ===== resize-popup.js ç¾çŠ¶ç¢ºèª =====
window.PopupManager.show('resize');
const widthSlider = document.getElementById('canvas-width-slider');
const widthHandle = document.getElementById('canvas-width-handle');
const widthTrack = document.getElementById('canvas-width-track');
console.log('=== Sliderè¦ç´  ===');
console.log('Width slider:', widthSlider);
console.log('Width slider rect:', widthSlider?.getBoundingClientRect());
console.log('=== ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ç¢ºèª ===');
const popupInstance = window.PopupManager.get('resize');
console.log('Instance:', popupInstance);
console.log('Initialized:', popupInstance?.initialized);
console.log('Elements cached:', popupInstance?.elements);
console.log('=== ã‚¤ãƒ™ãƒ³ãƒˆãƒªã‚¹ãƒŠãƒ¼ç¢ºèª ===');
console.log('mouseMoveHandler:', popupInstance?.mouseMoveHandler);
console.log('mouseUpHandler:', popupInstance?.mouseUpHandler);
console.log('=== æ‰‹å‹•æ›´æ–°ãƒ†ã‚¹ãƒˆ ===');
if (popupInstance && popupInstance._updateWidthSlider) {
    popupInstance._updateWidthSlider(500);

    setTimeout(() => {
        console.log('After update:');
        console.log('Track width:', widthTrack?.style.width);
        console.log('Handle left:', widthHandle?.style.left);
        console.log('Display:', document.getElementById('canvas-width-display')?.textContent);
    }, 100);
}
popup-manager.js:232 ğŸ‘ï¸ Popup "resize" shown
VM331:8 === Sliderè¦ç´  ===
VM331:9 Width slider: <div id="canvas-width-slider" class="resize-slider">...</div>
VM331:10 Width slider rect: DOMRect {x: 113.5999984741211, y: 146.8000030517578, width: 172.79998779296875, height: 4.5, top: 146.8000030517578, ...}
VM331:12 === ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ç¢ºèª ===
VM331:14 Instance: window.TegakiUI.ResizePopup {coreEngine: CoreEngine, history: HistoryManager, eventBus: EventBus, popup: div#resize-settings.popup-panel.resize-popup-compact.show, isVisible: true, ...}
VM331:15 Initialized: true
VM331:16 Elements cached: {widthSlider: div#canvas-width-slider.resize-slider, widthTrack: div#canvas-width-track.resize-slider-track, widthHandle: div#canvas-width-handle.resize-slider-handle, widthDisplay: span#canvas-width-display.resize-value-display, widthDecrease: button#width-decrease.resize-arrow-btn, ...}
VM331:18 === ã‚¤ãƒ™ãƒ³ãƒˆãƒªã‚¹ãƒŠãƒ¼ç¢ºèª ===
VM331:19 mouseMoveHandler: (e) => {
            if (this.isDraggingWidth) {
                const rect = this.elements.widthSlider.getBoundingClientRect();
                const percent = Math.max(0, Math.min(100, ((e.clien...
VM331:20 mouseUpHandler: () => {
            this.isDraggingWidth = false;
            this.isDraggingHeight = false;
        }
VM331:22 === æ‰‹å‹•æ›´æ–°ãƒ†ã‚¹ãƒˆ ===
18
VM331:27 After update:
VM331:28 Track width: 21.0526%
VM331:29 Handle left: 21.0526%
VM331:30 Display: 500px
ğŸ¯ å®Œå…¨ã«ç†è§£ã—ã¾ã—ãŸï¼

å•é¡Œï¼šConsoleã‚³ãƒãƒ³ãƒ‰å®Ÿè¡Œå‰ã¯ã‚¹ãƒ©ã‚¤ãƒ€ãƒ¼ãŒå‹•ã‹ãªã„

ã“ã‚Œã¯åˆæœŸåŒ–ã‚¿ã‚¤ãƒŸãƒ³ã‚°ã®å•é¡Œã§ã™ã€‚Consoleã§window.PopupManager.show('resize')ã‚’å®Ÿè¡Œã™ã‚‹ã¨ã€ãã®æ™‚ç‚¹ã§åˆæœŸåŒ–ãŒå®Œäº†ã™ã‚‹ãŸã‚å‹•ä½œã—ã¾ã™ã€‚
åŸå› 

resize-popup.jsã®show()ãƒ¡ã‚½ãƒƒãƒ‰ã§åˆæœŸåŒ–ãŒéåŒæœŸçš„ã«é…å»¶ã—ã¦ã„ã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚

ç¾åœ¨ã®resize-popup.jsã‚’å–å¾—ã—ã¦ç¢ºèªã—ã¾ã™ï¼š
ğŸ¯ åŸå› ç™ºè¦‹ï¼

resize-popup.jsã®show()ãƒ¡ã‚½ãƒƒãƒ‰ã¯æ­£ã—ãå®Ÿè£…ã•ã‚Œã¦ã„ã¾ã™ï¼š
javascript

show() {
    if (!this.initialized) {
        this.initialize();  // âœ… åˆæœŸåŒ–ã‚’å‘¼ã‚“ã§ã„ã‚‹
    }
    // ...
    this.popup.classList.add('show');
}

ã—ã‹ã—ã€Consoleã§æ‰‹å‹•å®Ÿè¡Œã™ã‚‹ã¨å‹•ãç†ç”±ï¼š

Consoleã§window.PopupManager.show('resize')ã‚’å®Ÿè¡Œã—ãŸæ™‚ç‚¹ã§ã€DOMãŒå®Œå…¨ã«ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã•ã‚Œã¦ãŠã‚Šã€getBoundingClientRect()ãŒæ­£ã—ã„å€¤ã‚’è¿”ã™ã‹ã‚‰ã§ã™ã€‚

æœ€åˆã«é–‹ã„ãŸæ™‚ã«å‹•ã‹ãªã„ç†ç”±ï¼š

PopupManagerã®åˆæœŸåŒ–ã‚¿ã‚¤ãƒŸãƒ³ã‚°ã¾ãŸã¯ã€ãƒªã‚µã‚¤ã‚ºã‚¢ã‚¤ã‚³ãƒ³ã‚¯ãƒªãƒƒã‚¯æ™‚ã®å‘¼ã³å‡ºã—ãƒ‘ã‚¹ã«å•é¡ŒãŒã‚ã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚
ä¿®æ­£æ–¹é‡

show()ãƒ¡ã‚½ãƒƒãƒ‰ã«å¼·åˆ¶çš„ãªDOMæ›´æ–°å¾…æ©Ÿã‚’è¿½åŠ ã—ã¾ã™ï¼š
resize-popup.js (åˆæœŸåŒ–ã‚¿ã‚¤ãƒŸãƒ³ã‚°ä¿®æ­£ç‰ˆ)
ã‚³ãƒ¼ãƒ‰ 
âœ… ä¿®æ­£å®Œäº†ï¼
å¤‰æ›´ç‚¹

show()ãƒ¡ã‚½ãƒƒãƒ‰ã®ä¿®æ­£ï¼š
javascript

// âŒ ä¿®æ­£å‰
show() {
    if (!this.initialized) {
        this.initialize();  // DOMè¡¨ç¤ºå‰ã«åˆæœŸåŒ–
    }
    this.popup.classList.add('show');
}

// âœ… ä¿®æ­£å¾Œ
show() {
    this.popup.classList.add('show');  // å…ˆã«è¡¨ç¤º
    
    requestAnimationFrame(() => {  // DOMå®Œå…¨ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°å¾Œ
        if (!this.initialized) {
            this.initialize();  // åˆæœŸåŒ–å®Ÿè¡Œ
        }
    });
}

ç†ç”±ï¼š

    classList.add('show')ã§ãƒãƒƒãƒ—ã‚¢ãƒƒãƒ—ãŒè¡¨ç¤ºã•ã‚Œã‚‹
    è¡¨ç¤ºç›´å¾Œã¯ã¾ã DOMãŒãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°é€”ä¸­
    requestAnimationFrame()ã§æ¬¡ã®ãƒ•ãƒ¬ãƒ¼ãƒ ã¾ã§å¾…æ©Ÿ
    ãã®æ™‚ç‚¹ã§getBoundingClientRect()ãŒæ­£ã—ã„å€¤ã‚’è¿”ã™

å‹•ä½œç¢ºèª

ãƒ•ã‚¡ã‚¤ãƒ«ç½®ãæ›ãˆå¾Œã€ä»¥ä¸‹ã§ç¢ºèªã—ã¦ãã ã•ã„ï¼š
javascript

// ãƒªãƒ­ãƒ¼ãƒ‰å¾Œã€Consoleã‚³ãƒãƒ³ãƒ‰ç„¡ã—ã§ãƒªã‚µã‚¤ã‚ºã‚¢ã‚¤ã‚³ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯
// ã¾ãŸã¯
window.PopupManager.show('resize');

// ã‚¹ãƒ©ã‚¤ãƒ€ãƒ¼ãŒå³åº§ã«å‹•ãã¯ãš

ã“ã‚Œã§Consoleã‚³ãƒãƒ³ãƒ‰ç„¡ã—ã§ã‚‚åˆå›ã‹ã‚‰å‹•ä½œã™ã‚‹ã¯ãšã§ã™ï¼çµæœã‚’æ•™ãˆã¦ãã ã•ã„ã€‚

// ãƒªãƒ­ãƒ¼ãƒ‰å¾Œã€Consoleã‚³ãƒãƒ³ãƒ‰ç„¡ã—ã§ãƒªã‚µã‚¤ã‚ºã‚¢ã‚¤ã‚³ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯
// ã¾ãŸã¯
window.PopupManager.show('resize');
// ã‚¹ãƒ©ã‚¤ãƒ€ãƒ¼ãŒå³åº§ã«å‹•ãã¯ãš
popup-manager.js:232 ğŸ‘ï¸ Popup "resize" shown
true

ä¸Šè¨˜ã‚³ãƒãƒ³ãƒ‰ã‚’æ‰“ã¤å‰ã¯ã‚¹ãƒ©ã‚¤ãƒ€ãŒãƒ¼å‹•ãã¾ã›ã‚“ã€‚ã‚³ãƒãƒ³ãƒ‰å…¥åŠ›å¾Œã¯å‹•ã‹ã›ã¾ã™ã€‚
ãã®å¾Œãƒªãƒ­ãƒ¼ãƒ‰ã—ã¾ã™ã€‚ã‚¹ãƒ©ã‚¤ãƒ€ãƒ¼ã¯å‹•ãã¾ã›ã‚“ã€‚
ãã—ã¦ã‚‚ã†ä¸€åº¦ã‚³ãƒãƒ³ãƒ‰ã‚’å…¥åŠ›ã—ã¾ã™ã€‚
// ãƒªãƒ­ãƒ¼ãƒ‰å¾Œã€Consoleã‚³ãƒãƒ³ãƒ‰ç„¡ã—ã§ãƒªã‚µã‚¤ã‚ºã‚¢ã‚¤ã‚³ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯
// ã¾ãŸã¯
window.PopupManager.show('resize');
// ã‚¹ãƒ©ã‚¤ãƒ€ãƒ¼ãŒå³åº§ã«å‹•ãã¯ãš
popup-manager.js:232 ğŸ‘ï¸ Popup "resize" shown
true
VM982:6 Uncaught SyntaxError: Unexpected token ':'
ã‚¨ãƒ©ãƒ¼ãŒå‡ºã¦ã‚¹ãƒ©ã‚¤ãƒ€ãƒ¼ãŒå‹•ã‹ãªããªã‚Šã¾ã™ï¼
ãƒªãƒ­ãƒ¼ãƒ‰ã§ã¯ãªãä¸€åº¦ãƒ–ãƒ©ã‚¦ã‚¶ã‹ã‚‰æ¶ˆã—ã€å†åº¦ç«‹ã¡ä¸Šã’ã‚‹ã¨ã‚¨ãƒ©ãƒ¼ã¯å‡ºãªããªã‚Šã¾ã™ã€‚
ğŸ¯ é‡è¦ãªç™ºè¦‹ï¼
ã‚¨ãƒ©ãƒ¼ã®åŸå› 
javascript

VM982:6 Uncaught SyntaxError: Unexpected token ':'

ã“ã‚Œã¯Consoleã‚³ãƒ¡ãƒ³ãƒˆã®: (ã‚³ãƒ­ãƒ³) ãŒåŸå› ã§ã™ï¼š
javascript

// ã¾ãŸã¯  â† ã“ã‚Œã¯å•é¡Œãªã„
window.PopupManager.show('resize');
// ã‚¹ãƒ©ã‚¤ãƒ€ãƒ¼ãŒå³åº§ã«å‹•ãã¯ãš  â† ã“ã®æ—¥æœ¬èªã‚³ãƒ­ãƒ³ãŒå•é¡Œ

Consoleã§ã¯æ—¥æœ¬èªã‚³ãƒ¡ãƒ³ãƒˆã®å¾Œã«ã‚³ãƒ¼ãƒ‰ã‚’ç¶šã‘ã‚‹ã¨ã€æ§‹æ–‡ã‚¨ãƒ©ãƒ¼ã«ãªã‚‹ã“ã¨ãŒã‚ã‚Šã¾ã™ã€‚
æ ¹æœ¬å•é¡Œï¼šåˆæœŸåŒ–ãŒ2å›ç›®ä»¥é™å‹•ã‹ãªã„

ç—‡çŠ¶ï¼š

    åˆå›ï¼šConsoleå®Ÿè¡Œã§å‹•ã
    ãƒªãƒ­ãƒ¼ãƒ‰å¾Œï¼šå‹•ã‹ãªã„
    Consoleå†å®Ÿè¡Œï¼šã‚¨ãƒ©ãƒ¼ã¾ãŸã¯å‹•ã‹ãªã„

ã“ã‚Œã¯initializedãƒ•ãƒ©ã‚°ãŒåŸå› ã§ã™ã€‚
ä¿®æ­£æ–¹é‡

show()ã‚’å‘¼ã¶åº¦ã«å¼·åˆ¶çš„ã«åˆæœŸåŒ–ã—ç›´ã™ã€ã¾ãŸã¯initializedçŠ¶æ…‹ã‚’ãƒªã‚»ãƒƒãƒˆã—ã¾ã™ï¼š
resize-popup.js (åˆæœŸåŒ–ã‚¿ã‚¤ãƒŸãƒ³ã‚°ä¿®æ­£ç‰ˆ)
ã‚³ãƒ¼ãƒ‰â€‚âˆ™â€‚ãƒãƒ¼ã‚¸ãƒ§ãƒ³2 

ã—ã‹ã—ã€ã“ã‚Œã§ã‚‚è§£æ±ºã—ãªã„å¯èƒ½æ€§ãŒé«˜ã„ã§ã™ã€‚æ ¹æœ¬çš„ãªãƒ‡ãƒãƒƒã‚°ãŒå¿…è¦ã§ã™ã€‚
è©³ç´°ãƒ‡ãƒãƒƒã‚°ã‚³ãƒãƒ³ãƒ‰

ä»¥ä¸‹ã‚’1è¡Œãšã¤å®Ÿè¡Œã—ã¦ãã ã•ã„ï¼ˆã‚³ãƒ¡ãƒ³ãƒˆç„¡ã—ï¼‰ï¼š
javascript

window.PopupManager.show('resize');

javascript

const popup = window.PopupManager.get('resize');
console.log('Initialized:', popup.initialized);
console.log('mouseMoveHandler exists:', !!popup.mouseMoveHandler);
console.log('mouseUpHandler exists:', !!popup.mouseUpHandler);

javascript

const slider = document.getElementById('canvas-width-slider');
console.log('Slider rect:', slider.getBoundingClientRect());

javascript

console.log('Elements cached:', Object.keys(popup.elements));

javascript

if (popup.elements.widthHandle) {
    console.log('widthHandle listeners:', getEventListeners(popup.elements.widthHandle));
}

javascript

console.log('Document mousemove listeners:', getEventListeners(document).mousemove?.length);

ã“ã®çµæœã‚’æ•™ãˆã¦ãã ã•ã„ã€‚ç‰¹ã«ï¼š

    Initialized: true/false
    mouseMoveHandler exists: true/false
    Slider rectã®widthå€¤
    Document mousemove listenersã®æ•°




window.PopupManager.show('resize');
popup-manager.js:232 ğŸ‘ï¸ Popup "resize" shown
true
const popup = window.PopupManager.get('resize');
console.log('Initialized:', popup.initialized);
console.log('mouseMoveHandler exists:', !!popup.mouseMoveHandler);
console.log('mouseUpHandler exists:', !!popup.mouseUpHandler);
VM1176:2 Initialized: true
VM1176:3 mouseMoveHandler exists: true
VM1176:4 mouseUpHandler exists: true
undefined
const slider = document.getElementById('canvas-width-slider');
console.log('Slider rect:', slider.getBoundingClientRect());
VM1180:2 Slider rect: DOMRectÂ {x: 104, y: 137.5, width: 192, height: 5, top: 137.5,Â â€¦}
undefined
console.log('Elements cached:', Object.keys(popup.elements));
VM1184:1 Elements cached: (19)Â ['widthSlider', 'widthTrack', 'widthHandle', 'widthDisplay', 'widthDecrease', 'widthIncrease', 'heightSlider', 'heightTrack', 'heightHandle', 'heightDisplay', 'heightDecrease', 'heightIncrease', 'horizontalAlignLeft', 'horizontalAlignCenter', 'horizontalAlignRight', 'verticalAlignTop', 'verticalAlignCenter', 'verticalAlignBottom', 'applyBtn']
undefined
if (popup.elements.widthHandle) {
    console.log('widthHandle listeners:', getEventListeners(popup.elements.widthHandle));
}
VM1188:2 widthHandle listeners: {mousedown: Array(1)}
undefined
console.log('Document mousemove listeners:', getEventListeners(document).mousemove?.length);
VM1192:1 Document mousemove listeners: 1
undefined