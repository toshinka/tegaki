# ğŸš€ Tegaki Phase2-3è¨ˆç”»æ›¸ v7 - PixiJS v8åŸºç›¤é«˜åº¦æ©Ÿèƒ½å®Ÿè£…

> **v8ç§»è¡Œå®Œäº†å¾Œã®é«˜åº¦æ©Ÿèƒ½å®Ÿè£…è¨ˆç”»** - ãƒ¬ã‚¤ãƒ¤ãƒ¼ãƒ»å¤‰å½¢ãƒ»ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ãƒ»å‡ºåŠ›æ©Ÿèƒ½

## ğŸ¯ å‰ææ¡ä»¶

### âœ… Phase1.8å®Œäº†å¿…é ˆ
- PixiJS v8ç§»è¡Œå®Œäº†ãƒ»WebGPUå¯¾å¿œ
- ãƒšãƒ³ãƒ„ãƒ¼ãƒ«ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æç”»å®Ÿç¾
- v8 Containeréšå±¤åŸºç›¤æ§‹ç¯‰
- å…¨æ—¢å­˜æ©Ÿèƒ½v8å¯¾å¿œå®Œäº†

### ğŸš« Phase2é–‹å§‹å‰ç¦æ­¢äº‹é …
- Phase1.8æœªå®Œäº†ã§ã®ç€æ‰‹
- v7ã¨v8æ··åœ¨çŠ¶æ…‹ã§ã®æ©Ÿèƒ½è¿½åŠ 
- WebGPUæœªå¯¾å¿œç’°å¢ƒã§ã®é«˜åº¦æ©Ÿèƒ½å®Ÿè£…

---

## ğŸ¨ **Phase2 - ãƒ¬ã‚¤ãƒ¤ãƒ¼ãƒ»å¤‰å½¢ãƒ»é«˜åº¦æç”»ï¼ˆv8åŸºç›¤ï¼‰**

### ğŸ¯ Phase2ç›®æ¨™
- ãƒãƒ«ãƒãƒ¬ã‚¤ãƒ¤ãƒ¼ç·¨é›†ç’°å¢ƒæ§‹ç¯‰
- é¸æŠãƒ»å¤‰å½¢ãƒ„ãƒ¼ãƒ«å®Ÿè£…
- é«˜åº¦æç”»ãƒ„ãƒ¼ãƒ«è¿½åŠ 
- éç ´å£Šç·¨é›†å¼·åŒ–

### ğŸ“‹ Phase2.1 - ãƒ¬ã‚¤ãƒ¤ãƒ¼ç®¡ç†ã‚·ã‚¹ãƒ†ãƒ 

#### ğŸ¨ LayerManagerï¼ˆæ–°è¦å®Ÿè£…ï¼‰
```javascript
/**
 * ğŸ¨ LayerManager - v8 Containeréšå±¤æ´»ç”¨ãƒ¬ã‚¤ãƒ¤ãƒ¼ç®¡ç†
 * ğŸ“‹ RESPONSIBILITY: ãƒ¬ã‚¤ãƒ¤ãƒ¼ä½œæˆãƒ»ç®¡ç†ãƒ»æ“ä½œãƒ»é †åºåˆ¶å¾¡
 * ğŸš« PROHIBITION: v7 @pixi/layersä¾å­˜ãƒ»ç›´æ¥Containeræ“ä½œ
 * âœ… PERMISSION: v8 Containeræ©Ÿèƒ½ãƒ•ãƒ«æ´»ç”¨ãƒ»WebGPUæœ€é©åŒ–
 */
class LayerManager {
    // ä½¿ç”¨ãƒ•ã‚¡ã‚¤ãƒ«ãƒ»ãƒ¡ã‚½ãƒƒãƒ‰ãƒ»ã‚·ãƒ³ãƒœãƒ«å®šç¾©
    // ğŸ“„ managers/layer-manager.js
    // ğŸ”— ä¾å­˜: CanvasManagerInstance, EventBusInstance
    // ğŸ“¤ æä¾›: createLayer, deleteLayer, reorderLayers, setLayerProperties
    
    // å®Ÿè£…äºˆå®šãƒ¡ã‚½ãƒƒãƒ‰ï¼ˆè©³ç´°ã‚³ãƒ¼ãƒ‰ã¯Phase1.8å®Œäº†å¾Œç­–å®šï¼‰
    createLayer(id, options): PIXI.Container
    deleteLayer(id): boolean
    duplicateLayer(sourceId, newId): PIXI.Container
    reorderLayers(layerIds): boolean
    setLayerBlendMode(id, mode): boolean
    setLayerOpacity(id, opacity): boolean
    setLayerVisible(id, visible): boolean
    mergeLayersDown(layerId): PIXI.Container
}
```

#### ğŸ–¼ï¸ LayerPanelï¼ˆæ–°è¦å®Ÿè£…ï¼‰
```javascript  
/**
 * ğŸ–¼ï¸ LayerPanel - ãƒ¬ã‚¤ãƒ¤ãƒ¼UIç®¡ç†
 * ğŸ“‹ RESPONSIBILITY: ãƒ¬ã‚¤ãƒ¤ãƒ¼ä¸€è¦§è¡¨ç¤ºãƒ»æ“ä½œUIãƒ»ãƒ‰ãƒ©ãƒƒã‚°&ãƒ‰ãƒ­ãƒƒãƒ—
 * ğŸš« PROHIBITION: ç›´æ¥ãƒ¬ã‚¤ãƒ¤ãƒ¼æ“ä½œãƒ»ManagerçµŒç”±ã›ãšDOMæ“ä½œ
 * âœ… PERMISSION: LayerManageré€£æºãƒ»è¦–è¦šçš„ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯
 */
class LayerPanel {
    // ğŸ“„ ui/layer-panel.jsï¼ˆæ–°è¦ä½œæˆï¼‰
    // ğŸ”— ä¾å­˜: LayerManager, EventBusInstance
    // ğŸ“¤ æä¾›: showLayerPanel, updateLayerList, handleLayerDrag
}
```

### ğŸ“‹ Phase2.2 - é¸æŠãƒ»å¤‰å½¢ã‚·ã‚¹ãƒ†ãƒ 

#### âœ‚ï¸ SelectionManagerï¼ˆæ–°è¦å®Ÿè£…ï¼‰
```javascript
/**
 * âœ‚ï¸ SelectionManager - ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆé¸æŠç®¡ç†
 * ğŸ“‹ RESPONSIBILITY: çŸ©å½¢ãƒ»æ¥•å††ãƒ»è‡ªç”±é¸æŠãƒ»é¸æŠç¯„å›²ç®¡ç†
 * ğŸš« PROHIBITION: ç›´æ¥Graphicsæ“ä½œãƒ»ManagerçµŒç”±ã›ãšå¤‰å½¢
 * âœ… PERMISSION: v8é«˜ç²¾åº¦åº§æ¨™ãƒ»ãƒãƒ«ãƒé¸æŠãƒ»é¸æŠç¯„å›²ä¿å­˜
 */
class SelectionManager {
    // ğŸ“„ managers/selection-manager.jsï¼ˆæ–°è¦ä½œæˆï¼‰
    // ğŸ”— ä¾å­˜: CanvasManagerInstance, CoordinateManagerInstance
    // ğŸ“¤ æä¾›: selectRectangle, selectEllipse, selectLasso, getSelectedObjects
    
    // å®Ÿè£…äºˆå®šãƒ¡ã‚½ãƒƒãƒ‰
    selectRectangle(x1, y1, x2, y2): Array<PIXI.DisplayObject>
    selectEllipse(centerX, centerY, radiusX, radiusY): Array<PIXI.DisplayObject>  
    selectLasso(points): Array<PIXI.DisplayObject>
    selectAll(): Array<PIXI.DisplayObject>
    clearSelection(): boolean
    addToSelection(object): boolean
    removeFromSelection(object): boolean
    getSelectionBounds(): PIXI.Rectangle
}
```

#### ğŸ”„ TransformToolï¼ˆæ–°è¦å®Ÿè£…ï¼‰
```javascript
/**
 * ğŸ”„ TransformTool - é¸æŠã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆå¤‰å½¢
 * ğŸ“‹ RESPONSIBILITY: ç§»å‹•ãƒ»å›è»¢ãƒ»æ‹¡å¤§ç¸®å°ãƒ»ãƒãƒ³ãƒ‰ãƒ«æ“ä½œ
 * ğŸš« PROHIBITION: ç›´æ¥transformæ“ä½œãƒ»åº§æ¨™è¨ˆç®—ãƒŸã‚¹
 * âœ… PERMISSION: v8é«˜ç²¾åº¦å¤‰å½¢ãƒ»WebGPUåŠ é€Ÿãƒ»ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ å¤‰å½¢
 */
class TransformTool extends AbstractTool {
    // ğŸ“„ tools/transform-tool.jsï¼ˆæ–°è¦ä½œæˆï¼‰
    // ğŸ”— ä¾å­˜: SelectionManager, CoordinateManagerInstance
    // ğŸ“¤ æä¾›: transformSelected, showTransformHandles, applyTransform
    
    // å®Ÿè£…äºˆå®šãƒ¡ã‚½ãƒƒãƒ‰
    showTransformHandles(selection): void
    hideTransformHandles(): void
    startTransform(handleType, startPoint): void
    updateTransform(currentPoint): void
    applyTransform(): void
    resetTransform(): void
}
```

### ğŸ“‹ Phase2.3 - é«˜åº¦æç”»ãƒ„ãƒ¼ãƒ«

#### ğŸ–Œï¸ BrushToolï¼ˆæ–°è¦å®Ÿè£…ï¼‰
```javascript
/**
 * ğŸ–Œï¸ BrushTool - ãƒ†ã‚¯ã‚¹ãƒãƒ£å¯¾å¿œãƒ–ãƒ©ã‚·
 * ğŸ“‹ RESPONSIBILITY: ãƒ†ã‚¯ã‚¹ãƒãƒ£ãƒ–ãƒ©ã‚·ãƒ»åœ§åŠ›æ„ŸçŸ¥ãƒ»ãƒ–ãƒ©ã‚·è¨­å®š
 * ğŸš« PROHIBITION: é‡è¤‡ãƒ†ã‚¯ã‚¹ãƒãƒ£èª­ã¿è¾¼ã¿ãƒ»ãƒ¡ãƒ¢ãƒªãƒªãƒ¼ã‚¯
 * âœ… PERMISSION: v8 RenderTextureæ´»ç”¨ãƒ»åœ§åŠ›æ„ŸçŸ¥å¯¾å¿œ
 */
class BrushTool extends AbstractTool {
    // ğŸ“„ tools/brush-tool.jsï¼ˆæ–°è¦ä½œæˆï¼‰
    // ğŸ”— ä¾å­˜: CanvasManagerInstance, TextureManagerï¼ˆæ–°è¦ï¼‰
    // ğŸ“¤ æä¾›: setBrushTexture, setPressureSensitivity, drawBrushStroke
}
```

#### ğŸ”º ShapeToolï¼ˆæ–°è¦å®Ÿè£…ï¼‰ 
```javascript
/**
 * ğŸ”º ShapeTool - å›³å½¢æç”»ãƒ„ãƒ¼ãƒ«
 * ğŸ“‹ RESPONSIBILITY: çŸ©å½¢ãƒ»æ¥•å††ãƒ»å¤šè§’å½¢ãƒ»ç›´ç·šæç”»
 * ğŸš« PROHIBITION: é‡è¤‡å›³å½¢ä½œæˆãƒ»åº§æ¨™è¨ˆç®—ã‚¨ãƒ©ãƒ¼
 * âœ… PERMISSION: v8 Graphicsæ´»ç”¨ãƒ»ã‚°ãƒªãƒƒãƒ‰ã‚¹ãƒŠãƒƒãƒ—ãƒ»æ¯”ä¾‹ç¶­æŒ
 */
class ShapeTool extends AbstractTool {
    // ğŸ“„ tools/shape-tool.jsï¼ˆæ–°è¦ä½œæˆï¼‰
    // ğŸ”— ä¾å­˜: CanvasManagerInstance, CoordinateManagerInstance  
    // ğŸ“¤ æä¾›: drawRectangle, drawEllipse, drawPolygon, drawLine
}
```

#### ğŸ¨ FillToolï¼ˆæ–°è¦å®Ÿè£…ï¼‰
```javascript
/**
 * ğŸ¨ FillTool - å¡—ã‚Šã¤ã¶ã—ãƒ»ã‚°ãƒ©ãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³
 * ğŸ“‹ RESPONSIBILITY: å¡—ã‚Šã¤ã¶ã—ãƒ»ã‚°ãƒ©ãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ãƒ»ãƒ‘ã‚¿ãƒ¼ãƒ³å¡—ã‚Š
 * ğŸš« PROHIBITION: ç„¡é™ãƒ«ãƒ¼ãƒ—ãƒ»ãƒ¡ãƒ¢ãƒªéå‰°ä½¿ç”¨
 * âœ… PERMISSION: ãƒ•ãƒ©ãƒƒãƒ‰ãƒ•ã‚£ãƒ«ãƒ»ã‚°ãƒ©ãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ãƒ»v8æœ€é©åŒ–
 */
class FillTool extends AbstractTool {
    // ğŸ“„ tools/fill-tool.jsï¼ˆæ–°è¦ä½œæˆï¼‰
    // ğŸ”— ä¾å­˜: CanvasManagerInstance, ColorManagerï¼ˆæ–°è¦ï¼‰
    // ğŸ“¤ æä¾›: floodFill, gradientFill, patternFill
}
```

### ğŸ“‹ Phase2.4 - UIå¼·åŒ–ãƒ»ãƒ‘ãƒãƒ«çµ±åˆ

#### ğŸ›ï¸ ToolPanelï¼ˆæ‹¡å¼µå®Ÿè£…ï¼‰
```javascript
/**
 * ğŸ›ï¸ ToolPanel - ãƒ„ãƒ¼ãƒ«ãƒ‘ãƒãƒ«æ‹¡å¼µ
 * ğŸ“‹ RESPONSIBILITY: å…¨ãƒ„ãƒ¼ãƒ«çµ±åˆUIãƒ»è¨­å®šãƒ‘ãƒãƒ«ãƒ»ã‚·ãƒ§ãƒ¼ãƒˆã‚«ãƒƒãƒˆè¡¨ç¤º
 * ğŸš« PROHIBITION: ãƒ„ãƒ¼ãƒ«ç›´æ¥æ“ä½œãƒ»è¨­å®šå€¤ç›´æ¥å¤‰æ›´
 * âœ… PERMISSION: ToolManagerçµŒç”±æ“ä½œãƒ»å‹•çš„UIæ›´æ–°
 */
class ToolPanel {
    // ğŸ“„ ui/tool-panel.jsï¼ˆæ‹¡å¼µï¼‰
    // ğŸ”— ä¾å­˜: ToolManagerInstance, ConfigManagerInstance
    // ğŸ“¤ æä¾›: showAdvancedTools, updateToolSettings, showShortcuts
}
```

---

## ğŸš€ **Phase3 - ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ãƒ»å‡ºåŠ›ãƒ»æœ€é©åŒ–ï¼ˆv8æœ€é©åŒ–ï¼‰**

### ğŸ¯ Phase3ç›®æ¨™  
- ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ™ãƒ¼ã‚¹ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³
- é«˜å“è³ªå‡ºåŠ›æ©Ÿèƒ½
- ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–
- ãƒ—ãƒ©ã‚°ã‚¤ãƒ³æ©Ÿèƒ½

### ğŸ“‹ Phase3.1 - ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³æ©Ÿèƒ½

#### ğŸ¬ AnimationManagerï¼ˆæ–°è¦å®Ÿè£…ï¼‰
```javascript
/**
 * ğŸ¬ AnimationManager - ãƒ•ãƒ¬ãƒ¼ãƒ ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ç®¡ç†
 * ğŸ“‹ RESPONSIBILITY: ãƒ•ãƒ¬ãƒ¼ãƒ ç®¡ç†ãƒ»ã‚¿ã‚¤ãƒ ãƒ©ã‚¤ãƒ³ãƒ»ã‚ªãƒ‹ã‚ªãƒ³ã‚¹ã‚­ãƒ³
 * ğŸš« PROHIBITION: ãƒ•ãƒ¬ãƒ¼ãƒ é‡è¤‡ä½œæˆãƒ»ãƒ¡ãƒ¢ãƒªãƒªãƒ¼ã‚¯
 * âœ… PERMISSION: v8 RenderTextureæ´»ç”¨ãƒ»ãƒ•ãƒ¬ãƒ¼ãƒ æœ€é©åŒ–
 */
class AnimationManager {
    // ğŸ“„ managers/animation-manager.jsï¼ˆæ–°è¦ä½œæˆï¼‰
    // ğŸ”— ä¾å­˜: CanvasManagerInstance, RecordManagerInstance
    // ğŸ“¤ æä¾›: createFrame, deleteFrame, playAnimation, exportGIF
    
    // å®Ÿè£…äºˆå®šãƒ¡ã‚½ãƒƒãƒ‰ï¼ˆè©³ç´°ã¯Phase2å®Œäº†å¾Œç­–å®šï¼‰
    createFrame(index): AnimationFrame
    duplicateFrame(sourceIndex, targetIndex): AnimationFrame
    deleteFrame(index): boolean
    setFrameRate(fps): void
    playAnimation(startFrame?, endFrame?): void
    pauseAnimation(): void
    stopAnimation(): void
    exportToGIF(options): Blob
}
```

#### ğŸï¸ Timelineï¼ˆæ–°è¦å®Ÿè£…ï¼‰
```javascript
/**
 * ğŸï¸ Timeline - ã‚¿ã‚¤ãƒ ãƒ©ã‚¤ãƒ³ UI
 * ğŸ“‹ RESPONSIBILITY: ãƒ•ãƒ¬ãƒ¼ãƒ è¡¨ç¤ºãƒ»ã‚¹ã‚¯ãƒ©ãƒ–ãƒ»ã‚­ãƒ¼ãƒ•ãƒ¬ãƒ¼ãƒ ç®¡ç†
 * ğŸš« PROHIBITION: ç›´æ¥ãƒ•ãƒ¬ãƒ¼ãƒ æ“ä½œãƒ»UIçŠ¶æ…‹ã¨ãƒ‡ãƒ¼ã‚¿ä¸æ•´åˆ
 * âœ… PERMISSION: AnimationManageré€£æºãƒ»è¦–è¦šçš„æ“ä½œ
 */
class Timeline {
    // ğŸ“„ ui/timeline.jsï¼ˆæ–°è¦ä½œæˆï¼‰
    // ğŸ”— ä¾å­˜: AnimationManager, EventBusInstance
    // ğŸ“¤ æä¾›: showTimeline, updateFrameList, handleFrameDrag
}
```

#### ğŸ§… OnionSkinï¼ˆæ–°è¦å®Ÿè£…ï¼‰
```javascript
/**
 * ğŸ§… OnionSkin - å‰å¾Œãƒ•ãƒ¬ãƒ¼ãƒ è¡¨ç¤º
 * ğŸ“‹ RESPONSIBILITY: å‰å¾Œãƒ•ãƒ¬ãƒ¼ãƒ åŠé€æ˜è¡¨ç¤ºãƒ»è¨­å®šç®¡ç†
 * ğŸš« PROHIBITION: éåº¦ãªãƒ•ãƒ¬ãƒ¼ãƒ è¡¨ç¤ºãƒ»æç”»ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹åŠ£åŒ–
 * âœ… PERMISSION: v8åŠé€æ˜ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ãƒ»å‹•çš„è¡¨ç¤ºåˆ‡æ›¿
 */  
class OnionSkin {
    // ğŸ“„ animation/onion-skin.jsï¼ˆæ–°è¦ä½œæˆï¼‰
    // ğŸ”— ä¾å­˜: AnimationManager, CanvasManagerInstance
    // ğŸ“¤ æä¾›: showOnionSkin, setOnionSkinFrames, setOpacity
}
```

### ğŸ“‹ Phase3.2 - é«˜å“è³ªå‡ºåŠ›æ©Ÿèƒ½

#### ğŸ“¤ ExportManagerï¼ˆæ–°è¦å®Ÿè£…ï¼‰
```javascript
/**
 * ğŸ“¤ ExportManager - é«˜å“è³ªå‡ºåŠ›ç®¡ç†
 * ğŸ“‹ RESPONSIBILITY: PNGãƒ»JPEGãƒ»GIFãƒ»SVGå‡ºåŠ›ãƒ»å“è³ªè¨­å®š
 * ğŸš« PROHIBITION: ä½å“è³ªå‡ºåŠ›ãƒ»ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿æ¬ è½
 * âœ… PERMISSION: v8 RenderTextureæ´»ç”¨ãƒ»é«˜è§£åƒåº¦å‡ºåŠ›
 */
class ExportManager {
    // ğŸ“„ managers/export-manager.jsï¼ˆæ–°è¦ä½œæˆï¼‰
    // ğŸ”— ä¾å­˜: CanvasManagerInstance, AnimationManager
    // ğŸ“¤ æä¾›: exportPNG, exportJPEG, exportGIF, exportSVG
    
    // å®Ÿè£…äºˆå®šãƒ¡ã‚½ãƒƒãƒ‰
    exportPNG(options): Blob
    exportJPEG(quality, options): Blob  
    exportGIF(animationOptions): Blob
    exportSVG(options): string
    exportHighRes(scale, format): Blob
    batchExport(frames, format): Array<Blob>
}
```

#### ğŸ¨ RenderOptimizerï¼ˆæ–°è¦å®Ÿè£…ï¼‰
```javascript
/**
 * ğŸ¨ RenderOptimizer - ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°æœ€é©åŒ–
 * ğŸ“‹ RESPONSIBILITY: WebGPUæœ€é©åŒ–ãƒ»ãƒ¡ãƒ¢ãƒªç®¡ç†ãƒ»æç”»åŠ¹ç‡åŒ–
 * ğŸš« PROHIBITION: éåº¦ãªæœ€é©åŒ–ãƒ»æ©Ÿèƒ½çŠ ç‰²ãƒ»ãƒ‡ãƒãƒƒã‚°å›°é›£åŒ–
 * âœ… PERMISSION: WebGPUæ´»ç”¨ãƒ»é©å¿œçš„å“è³ªèª¿æ•´
 */
class RenderOptimizer {
    // ğŸ“„ utils/render-optimizer.jsï¼ˆæ–°è¦ä½œæˆï¼‰
    // ğŸ”— ä¾å­˜: CanvasManagerInstance, ConfigManagerInstance
    // ğŸ“¤ æä¾›: optimizeForWebGPU, adaptiveQuality, memoryManagement
}
```

### ğŸ“‹ Phase3.3 - ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–

#### âš¡ PerformanceMonitorï¼ˆæ–°è¦å®Ÿè£…ï¼‰
```javascript
/**
 * âš¡ PerformanceMonitor - ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ç›£è¦–
 * ğŸ“‹ RESPONSIBILITY: FPSç›£è¦–ãƒ»ãƒ¡ãƒ¢ãƒªä½¿ç”¨é‡ãƒ»æç”»æ™‚é–“è¨ˆæ¸¬
 * ğŸš« PROHIBITION: éåº¦ãªç›£è¦–ãƒ»ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹åŠ£åŒ–
 * âœ… PERMISSION: ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ç›£è¦–ãƒ»æœ€é©åŒ–ææ¡ˆ
 */
class PerformanceMonitor {
    // ğŸ“„ debug/performance-monitor.jsï¼ˆæ–°è¦ä½œæˆï¼‰
    // ğŸ”— ä¾å­˜: ãªã—ï¼ˆç‹¬ç«‹ç›£è¦–ï¼‰
    // ğŸ“¤ æä¾›: startMonitoring, getPerformanceReport, suggestOptimizations
}
```

#### ğŸ§  MemoryManagerï¼ˆæ–°è¦å®Ÿè£…ï¼‰
```javascript  
/**
 * ğŸ§  MemoryManager - ãƒ¡ãƒ¢ãƒªç®¡ç†æœ€é©åŒ–
 * ğŸ“‹ RESPONSIBILITY: ãƒ†ã‚¯ã‚¹ãƒãƒ£ç®¡ç†ãƒ»ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆç ´æ£„ãƒ»GCæœ€é©åŒ–
 * ğŸš« PROHIBITION: æ‰‹å‹•ãƒ¡ãƒ¢ãƒªæ“ä½œãƒ»å¼·åˆ¶GCãƒ»ãƒ¡ãƒ¢ãƒªãƒªãƒ¼ã‚¯
 * âœ… PERMISSION: è‡ªå‹•æœ€é©åŒ–ãƒ»é©å¿œçš„ç®¡ç†ãƒ»ç›£è¦–æ©Ÿèƒ½
 */
class MemoryManager {
    // ğŸ“„ utils/memory-manager.jsï¼ˆæ–°è¦ä½œæˆï¼‰
    // ğŸ”— ä¾å­˜: PerformanceMonitor, ConfigManagerInstance
    // ğŸ“¤ æä¾›: optimizeMemory, cleanupTextures, monitorUsage
}
```

### ğŸ“‹ Phase3.4 - ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ãƒ»æ‹¡å¼µæ©Ÿèƒ½

#### ğŸ”Œ PluginManagerï¼ˆæ–°è¦å®Ÿè£…ï¼‰
```javascript
/**
 * ğŸ”Œ PluginManager - ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ç®¡ç†
 * ğŸ“‹ RESPONSIBILITY: ãƒ—ãƒ©ã‚°ã‚¤ãƒ³èª­ã¿è¾¼ã¿ãƒ»APIæä¾›ãƒ»ã‚µãƒ³ãƒ‰ãƒœãƒƒã‚¯ã‚¹
 * ğŸš« PROHIBITION: ä¸æ­£ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ãƒ»ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ç©´ãƒ»APIç ´ç¶»
 * âœ… PERMISSION: å®‰å…¨ãªAPIãƒ»ãƒ—ãƒ©ã‚°ã‚¤ãƒ³æ¤œè¨¼ãƒ»å‹•çš„èª­ã¿è¾¼ã¿
 */
class PluginManager {
    // ğŸ“„ core/plugin-manager.jsï¼ˆæ–°è¦ä½œæˆï¼‰
    // ğŸ”— ä¾å­˜: ErrorManagerInstance, SecurityManagerï¼ˆæ–°è¦ï¼‰
    // ğŸ“¤ æä¾›: loadPlugin, unloadPlugin, validatePlugin, getPluginAPI
}
```

---

## ğŸ”„ **å®Ÿè£…é †åºãƒ»ä¾å­˜é–¢ä¿‚**

### ğŸ“‹ Phase2å®Ÿè£…é †åº
```
Phase2.1: LayerManager â†’ LayerPanel
    â†“
Phase2.2: SelectionManager â†’ TransformTool  
    â†“
Phase2.3: BrushTool â†’ ShapeTool â†’ FillTool
    â†“
Phase2.4: ToolPanelæ‹¡å¼µãƒ»çµ±åˆãƒ†ã‚¹ãƒˆ
```

### ğŸ“‹ Phase3å®Ÿè£…é †åº
```
Phase3.1: AnimationManager â†’ Timeline â†’ OnionSkin
    â†“
Phase3.2: ExportManager â†’ RenderOptimizer
    â†“  
Phase3.3: PerformanceMonitor â†’ MemoryManager
    â†“
Phase3.4: PluginManagerãƒ»æœ€çµ‚çµ±åˆ
```

### âš ï¸ æ¶ç©ºãƒ¡ã‚½ãƒƒãƒ‰å¯¾ç­–ãƒ»æ•´åˆæ€§ç¢ºèª

#### ğŸ” Phase2é–‹å§‹å‰ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ
- [ ] Phase1.8å®Œäº†ãƒ»v8ç§»è¡Œå®Œå…¨çµ‚äº†ç¢ºèª
- [ ] å…¨æ—¢å­˜Manager v8å¯¾å¿œå‹•ä½œç¢ºèª
- [ ] WebGPUå¯¾å¿œãƒ»ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯å‹•ä½œç¢ºèª
- [ ] ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æç”»ãƒ»åº§æ¨™ç²¾åº¦ç¢ºèª

#### ğŸ” å„Phaseå®Œäº†ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ
- [ ] **ãƒ¡ã‚½ãƒƒãƒ‰å®Ÿè£…ç¢ºèª**: å…¨å®šç¾©ãƒ¡ã‚½ãƒƒãƒ‰å®Ÿè£…å®Œäº†
- [ ] **ä¾å­˜é–¢ä¿‚ç¢ºèª**: å‘¼ã³å‡ºã—å…ˆãƒ¡ã‚½ãƒƒãƒ‰å®Ÿåœ¨ç¢ºèª
- [ ] **Manageré€£æºç¢ºèª**: çµ±ä¸€APIä½¿ç”¨ç¢ºèª
- [ ] **ã‚¨ãƒ©ãƒ¼å‡¦ç†ç¢ºèª**: ErrorManagerçµŒç”±ç¢ºèª
- [ ] **ãƒ‡ãƒãƒƒã‚°æƒ…å ±ç¢ºèª**: getDebugInfoå®Ÿè£…ç¢ºèª

#### ğŸ“ ãƒ•ã‚¡ã‚¤ãƒ«ãƒ˜ãƒƒãƒ€ãƒ¼è¨˜è¼‰å¿…é ˆé …ç›®
```javascript
/**
 * ğŸ¨ ClassName - å½¹å‰²èª¬æ˜
 * ğŸ“‹ RESPONSIBILITY: ã“ã®ã‚¯ãƒ©ã‚¹ã®è²¬å‹™
 * ğŸš« PROHIBITION: ã‚„ã£ã¦ã¯ã„ã‘ãªã„ã“ã¨  
 * âœ… PERMISSION: ã‚„ã£ã¦ã‚‚è‰¯ã„ã“ã¨
 * 
 * ğŸ“„ FILE: ãƒ•ã‚¡ã‚¤ãƒ«ãƒ‘ã‚¹
 * ğŸ”— DEPENDENCIES: ä¾å­˜ã™ã‚‹Manager/Classä¸€è¦§
 * ğŸ“¤ PROVIDES: ä»–ãƒ•ã‚¡ã‚¤ãƒ«ã‹ã‚‰å‘¼ã³å‡ºã•ã‚Œã‚‹ãƒ¡ã‚½ãƒƒãƒ‰ä¸€è¦§
 * ğŸ”„ INTEGRATION: ä»–ã‚¯ãƒ©ã‚¹ã¨ã®é€£æºãƒ•ãƒ­ãƒ¼
 * 
 * ğŸ¯ PHASE: Phase2/Phase3å®Ÿè£…æ®µéš
 * âš ï¸ PREREQUISITES: å‰ææ¡ä»¶ãƒ»ä¾å­˜Phase
 */
```

---

## ğŸš¨ **Phase2-3å…±é€šç¦æ­¢äº‹é …**

### ğŸ’€ çµ¶å¯¾ç¦æ­¢ï¼ˆé‡å¤§é•åï¼‰
1. **Phase1.8æœªå®Œäº†ã§ã®ç€æ‰‹** - v8ç§»è¡Œå®Œäº†ãŒå‰æ
2. **æ¶ç©ºãƒ¡ã‚½ãƒƒãƒ‰å‘¼ã³å‡ºã—** - å®Ÿè£…å‰ãƒ¡ã‚½ãƒƒãƒ‰å‘¼ã³å‡ºã—ç¦æ­¢
3. **ManagerçµŒç”±ã—ãªã„ç›´æ¥æ“ä½œ** - PixiJSç›´æ¥æ“ä½œç¦æ­¢
4. **ã‚¨ãƒ©ãƒ¼æ¡ã‚Šã¤ã¶ã—** - try/catchæ¡ã‚Šã¤ã¶ã—ç¶™ç¶šç¦æ­¢
5. **ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ãƒ»ãƒ•ã‚§ã‚¤ãƒ«ã‚»ãƒ¼ãƒ•** - æ­£ã—ã„æ§‹é€ ã®ã¿ã§å‹•ä½œ

### âœ… Phase2-3å¿…é ˆéµå®ˆ
1. **æ®µéšçš„å®Ÿè£…** - Phaseå†…ã§ã‚‚æ©Ÿèƒ½å˜ä½ã§æ®µéšå®Ÿè£…
2. **æ—¢å­˜æ©Ÿèƒ½ä¿è­·** - Phase1æ©Ÿèƒ½ã®å‹•ä½œä¿è¨¼ç¶™ç¶š
3. **v8æ©Ÿèƒ½æ´»ç”¨** - WebGPUãƒ»Containeréšå±¤ãƒ»é«˜ç²¾åº¦åº§æ¨™
4. **çµ±åˆãƒ†ã‚¹ãƒˆå®Ÿæ–½** - Phaseå®Œäº†æ™‚ã®å…¨æ©Ÿèƒ½å‹•ä½œç¢ºèª  
5. **æ€§èƒ½ç›£è¦–ç¶™ç¶š** - æ©Ÿèƒ½è¿½åŠ ã«ã‚ˆã‚‹æ€§èƒ½åŠ£åŒ–ç›£è¦–

---

## ğŸ¯ **æˆåŠŸåŸºæº–**

### âœ… Phase2å®Œäº†åŸºæº–
- [ ] ãƒãƒ«ãƒãƒ¬ã‚¤ãƒ¤ãƒ¼ç·¨é›†ç’°å¢ƒå®Œå…¨å‹•ä½œ
- [ ] é¸æŠãƒ»å¤‰å½¢ãƒ„ãƒ¼ãƒ«å…¨æ©Ÿèƒ½å‹•ä½œ  
- [ ] é«˜åº¦æç”»ãƒ„ãƒ¼ãƒ«å®Ÿè£…ãƒ»å‹•ä½œç¢ºèª
- [ ] UIçµ±åˆãƒ»æ“ä½œæ€§å‘ä¸Šç¢ºèª
- [ ] æ—¢å­˜Phase1æ©Ÿèƒ½ã™ã¹ã¦å‹•ä½œç¶™ç¶š

### ğŸš€ Phase3å®Œäº†åŸºæº–
- [ ] ãƒ•ãƒ¬ãƒ¼ãƒ ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³å®Œå…¨å‹•ä½œ
- [ ] é«˜å“è³ªå‡ºåŠ›ï¼ˆPNGãƒ»JPEGãƒ»GIFï¼‰å‹•ä½œ
- [ ] ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–åŠ¹æœç¢ºèª
- [ ] ãƒ—ãƒ©ã‚°ã‚¤ãƒ³æ©Ÿèƒ½åŸºæœ¬å‹•ä½œ
- [ ] ç·åˆæ€§èƒ½ãƒ»å®‰å®šæ€§ç¢ºèª

### ğŸ“Š å®šé‡çš„ç›®æ¨™
- **ãƒ¡ãƒ¢ãƒªä½¿ç”¨é‡**: Phase2ã§+50%ä»¥ä¸‹ãƒ»Phase3ã§+100%ä»¥ä¸‹
- **æç”»æ€§èƒ½**: 60FPSç¶­æŒï¼ˆWebGPUç’°å¢ƒï¼‰
- **èµ·å‹•æ™‚é–“**: Phase3å®Œäº†å¾Œã‚‚5ç§’ä»¥å†…
- **ã‚¨ãƒ©ãƒ¼ç™ºç”Ÿç‡**: Phaseè¿½åŠ æ©Ÿèƒ½ã§ã®ã‚¨ãƒ©ãƒ¼1%ä»¥ä¸‹

---

## ğŸ”§ **ä½¿ç”¨äºˆå®šæŠ€è¡“ãƒ»ãƒ©ã‚¤ãƒ–ãƒ©ãƒª**

### âœ… Phase2è¿½åŠ äºˆå®š
```javascript
// ãƒ¬ã‚¤ãƒ¤ãƒ¼ãƒ»å¤‰å½¢ç”¨
// å…¨ã¦v8å¯¾å¿œç‰ˆãƒ»CDNçµŒç”±
"@pixi/graphics-extras": "v8å¯¾å¿œç‰ˆ"  // é«˜åº¦å›³å½¢
"@pixi/math-extras": "v8å¯¾å¿œç‰ˆ"      // æ•°å­¦è¨ˆç®—å¼·åŒ–

// UIå¼·åŒ–ç”¨  
"@pixi/ui": "v2.1.0"                // UI ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆæ‹¡å¼µ
```

### ğŸš€ Phase3è¿½åŠ äºˆå®š
```javascript
// ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ãƒ»å‡ºåŠ›ç”¨
"@pixi/gif": "^2.1.1"               // GIFå‡ºåŠ›ï¼ˆv8äº’æ›ç¢ºèªæ¸ˆã¿ï¼‰
"gif.js": "^0.2.0"                  // GIFç”Ÿæˆæœ€é©åŒ–
"canvas-to-blob": "^1.0.0"          // é«˜å“è³ªå‡ºåŠ›

// ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ»ç›£è¦–ç”¨
"stats.js": "^0.17.0"               // FPS/ãƒ¡ãƒ¢ãƒªç›£è¦–
```

### ğŸš« ä½¿ç”¨ç¦æ­¢ï¼ˆç¶™ç¶šï¼‰
- TypeScriptãƒ»ESMãƒ»ãƒ“ãƒ«ãƒ‰ãƒ„ãƒ¼ãƒ«
- jQueryãƒ»å¤ã„ãƒ©ã‚¤ãƒ–ãƒ©ãƒª
- ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒªã‚¹ã‚¯ã‚ã‚‹ãƒ©ã‚¤ãƒ–ãƒ©ãƒª
- v8éå¯¾å¿œãƒ©ã‚¤ãƒ–ãƒ©ãƒª

---

**ğŸ“ æ›´æ–°æ–¹é‡**: Phase1.8å®Œäº†å¾Œã«è©³ç´°å®Ÿè£…è¨ˆç”»ãƒ»å…·ä½“çš„ã‚³ãƒ¼ãƒ‰ä¾‹è¿½åŠ   
**ğŸ¯ é‡ç‚¹æ–¹é‡**: v8æ©Ÿèƒ½ãƒ•ãƒ«æ´»ç”¨ãƒ»WebGPUæœ€é©åŒ–ãƒ»æ®µéšçš„å®Ÿè£…ãƒ»å“è³ªä¿è¨¼  
**ğŸ’€ åŸºæœ¬åŸå‰‡**: æ€ªç‰©ã‚³ãƒ¼ãƒ‰æ’²æ»…ç¶™ç¶šãƒ»ã‚¨ãƒ©ãƒ¼éš è”½ç¦æ­¢ãƒ»æ¶ç©ºãƒ¡ã‚½ãƒƒãƒ‰æ’²æ»…  
**ğŸš€ æœ€çµ‚ç›®æ¨™**: ãƒ—ãƒ­å“è³ªæç”»ãƒ„ãƒ¼ãƒ«ãƒ»60FPSãƒ»é«˜å“è³ªå‡ºåŠ›ãƒ»æ‹¡å¼µæ€§ç¢ºä¿