# ğŸ“š Tegaki Symbol Dictionary v6 - Phase1.5å¯¾å¿œ

> **ç¢ºå®šAPIä»•æ§˜ãƒ»ç”¨èªãƒ»è¨˜å·çµ±ä¸€å®šç¾©** - å®Ÿè£…å®Œäº†å¾Œã®ç¢ºå®šäº‹é …ã®ã¿è¨˜è¼‰

## ğŸŒ ã‚°ãƒ­ãƒ¼ãƒãƒ«åå‰ç©ºé–“ï¼ˆç¢ºå®šï¼‰

### window.Tegaki.*ï¼ˆå¿…é ˆç™»éŒ²ï¼‰
```javascript
window.Tegaki = {
    // === Phase1ç¢ºå®šã‚¯ãƒ©ã‚¹ ===
    TegakiApplication,          // app-core.js ã§å®šç¾©
    AppCore,                    // main.js ã§å®šç¾©  
    CanvasManager,              // canvas-manager.js ã§å®šç¾©
    ToolManager,                // tool-manager.js ã§å®šç¾©
    PenTool,                    // pen-tool.js ã§å®šç¾©
    EraserTool,                 // eraser-tool.js ã§å®šç¾©
    AbstractTool,               // abstract-tool.js ã§å®šç¾©
    
    // === Phase1.5ç¢ºå®šã‚¯ãƒ©ã‚¹ ===
    NavigationManager,          // navigation-manager.js ã§å®šç¾©
    RecordManager,              // record-manager.js ã§å®šç¾©
    CoordinateManager,          // coordinate-manager.js ã§å®šç¾©
    ShortcutManager,            // shortcut-manager.js ã§å®šç¾©
    
    // === ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ã‚¯ãƒ©ã‚¹ ===
    ErrorManager,               // error-manager.js ã§å®šç¾©
    ConfigManager,              // config-manager.js ã§å®šç¾©
    EventBus,                   // event-bus.js ã§å®šç¾©
    TegakiIcons,               // icons.js ã§å®šç¾©
    
    // === ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ï¼ˆè‡ªå‹•ä½œæˆï¼‰ ===
    ErrorManagerInstance,       // error-manager.js ã§ä½œæˆ
    ConfigManagerInstance,      // config-manager.js ã§ä½œæˆ
    EventBusInstance,          // event-bus.js ã§ä½œæˆ
    NavigationManagerInstance, // navigation-manager.js ã§ä½œæˆ
    RecordManagerInstance,     // record-manager.js ã§ä½œæˆ
    CoordinateManagerInstance, // coordinate-manager.js ã§ä½œæˆ
    ShortcutManagerInstance,   // shortcut-manager.js ã§ä½œæˆ
    
    // === Phase1-1.5å…±é€šã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ ===
    CanvasManagerInstance,     // main.js ã§ä½œæˆ
    ToolManagerInstance        // main.js ã§ä½œæˆ
};

// ãƒ‡ãƒãƒƒã‚°ç”¨ã‚°ãƒ­ãƒ¼ãƒãƒ«å‚ç…§
window.TegakiAppInstance;      // bootstrap.js ã§ä½œæˆ
```

## ğŸ¯ TegakiApplicationï¼ˆapp-core.jsï¼‰

### ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ï¼ˆç¢ºå®šï¼‰
```javascript
class TegakiApplication {
    initialized: boolean        // åˆæœŸåŒ–çŠ¶æ…‹
    pixiApp: PIXI.Application  // PixiJS Application
    appCore: AppCore           // AppCore ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹
}
```

### ãƒ¡ã‚½ãƒƒãƒ‰ï¼ˆå®Ÿè£…ç¢ºå®šï¼‰
```javascript
// åˆæœŸåŒ–ç³»
constructor()                           // ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹åŒ–ãƒ»è‡ªå‹•åˆæœŸåŒ–
async initialize()                      // åŸºæœ¬åˆæœŸåŒ–å®Ÿè¡Œ
async initializeAppCore()              // AppCoreä½œæˆãƒ»åˆæœŸåŒ–
createCanvas()                         // PixiJS Applicationä½œæˆãƒ»DOMé…ç½®
setupUI()                             // UIã‚¤ãƒ™ãƒ³ãƒˆè¨­å®š

// ã‚¤ãƒ™ãƒ³ãƒˆå‡¦ç†ç³»
setupCanvasEvents()                    // ã‚­ãƒ£ãƒ³ãƒã‚¹ã‚¤ãƒ™ãƒ³ãƒˆè¨­å®š
setupToolButtons()                     // ãƒ„ãƒ¼ãƒ«ãƒœã‚¿ãƒ³ã‚¤ãƒ™ãƒ³ãƒˆ
selectTool(toolName: string)           // ãƒ„ãƒ¼ãƒ«é¸æŠ
updateToolButtons(activeToolName)      // ãƒ„ãƒ¼ãƒ«ãƒœã‚¿ãƒ³UIæ›´æ–°
updateStatusDisplay()                  // ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹è¡¨ç¤ºæ›´æ–°

// ãƒã‚¤ãƒ³ã‚¿ãƒ¼ã‚¤ãƒ™ãƒ³ãƒˆç³»
handlePointerDown(e: PointerEvent)     // ãƒã‚¤ãƒ³ã‚¿ãƒ¼æŠ¼ä¸‹
handlePointerMove(e: PointerEvent)     // ãƒã‚¤ãƒ³ã‚¿ãƒ¼ç§»å‹•  
handlePointerUp(e: PointerEvent)       // ãƒã‚¤ãƒ³ã‚¿ãƒ¼è§£æ”¾

// ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ç³»
showSuccessMessage()                   // èµ·å‹•å®Œäº†é€šçŸ¥
getDebugInfo()                        // ãƒ‡ãƒãƒƒã‚°æƒ…å ±å–å¾—
```

## ğŸ–Šï¸ AppCoreï¼ˆmain.jsï¼‰

### ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ï¼ˆç¢ºå®šï¼‰
```javascript
class AppCore {
    initialized: boolean       // åˆæœŸåŒ–çŠ¶æ…‹
    canvasManager: CanvasManager    // CanvasManagerå‚ç…§
    toolManager: ToolManager   // ToolManagerå‚ç…§
}
```

### ãƒ¡ã‚½ãƒƒãƒ‰ï¼ˆå®Ÿè£…ç¢ºå®šï¼‰
```javascript
// åˆæœŸåŒ–ç³»
constructor()                          // ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ä½œæˆ
async initialize()                     // Managerä½œæˆãƒ»é€£æºè¨­å®š

// Managerç®¡ç†ç³»
setPixiApp(pixiApp: PIXI.Application) // CanvasManagerã«PixiAppè¨­å®š
getCanvasManager()                     // CanvasManagerå–å¾—
getToolManager()                       // ToolManagerå–å¾—

// çŠ¶æ…‹ç¢ºèªç³»
isReady(): boolean                     // åˆæœŸåŒ–å®Œäº†ç¢ºèª
performBasicChecks()                   // åŸºæœ¬æ©Ÿèƒ½ç¢ºèª

// ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«ç³»
start()                               // ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³é–‹å§‹
destroy()                             // ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—
getDebugInfo()                        // ãƒ‡ãƒãƒƒã‚°æƒ…å ±å–å¾—
```

## ğŸ¨ CanvasManagerï¼ˆmanagers/canvas-manager.jsï¼‰

### ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ï¼ˆç¢ºå®šï¼‰
```javascript
class CanvasManager {
    pixiApp: PIXI.Application          // PixiJS Applicationå‚ç…§
    layers: Map<string, PIXI.Container> // ãƒ¬ã‚¤ãƒ¤ãƒ¼Map
    initialized: boolean               // åˆæœŸåŒ–çŠ¶æ…‹
}
```

### ãƒ¡ã‚½ãƒƒãƒ‰ï¼ˆå®Ÿè£…ç¢ºå®šï¼‰  
```javascript
// PixiJSç®¡ç†ç³»
setPixiApp(pixiApp: PIXI.Application) // PixiJS Applicationè¨­å®š
getPixiApp(): PIXI.Application        // PixiJS Applicationå–å¾—

// ãƒ¬ã‚¤ãƒ¤ãƒ¼ç®¡ç†ç³»
createLayer(layerId: string): PIXI.Container    // ãƒ¬ã‚¤ãƒ¤ãƒ¼ä½œæˆ
getLayer(layerId: string): PIXI.Container       // ãƒ¬ã‚¤ãƒ¤ãƒ¼å–å¾—  
getMainLayer(): PIXI.Container                  // ãƒ¡ã‚¤ãƒ³ãƒ¬ã‚¤ãƒ¤ãƒ¼å–å¾—
addGraphicsToLayer(graphics, layerId)           // Graphicsé…ç½®

// ã‚­ãƒ£ãƒ³ãƒã‚¹æ“ä½œç³»
clear()                               // å…¨ãƒ¬ã‚¤ãƒ¤ãƒ¼ã‚¯ãƒªã‚¢
clearLayer(layerId: string)           // ç‰¹å®šãƒ¬ã‚¤ãƒ¤ãƒ¼ã‚¯ãƒªã‚¢
resizeCanvas(width: number, height: number)     // ã‚µã‚¤ã‚ºå¤‰æ›´

// ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ç³»
isReady(): boolean                    // æº–å‚™çŠ¶æ…‹ç¢ºèª
getDebugInfo()                        // ãƒ‡ãƒãƒƒã‚°æƒ…å ±
```

## ğŸ–Šï¸ ToolManagerï¼ˆmanagers/tool-manager.jsï¼‰

### ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ï¼ˆç¢ºå®šï¼‰
```javascript
class ToolManager {
    canvasManager: CanvasManager       // CanvasManagerå‚ç…§
    currentTool: Tool                  // ç¾åœ¨é¸æŠãƒ„ãƒ¼ãƒ«
    currentToolName: string            // ç¾åœ¨ãƒ„ãƒ¼ãƒ«å
    tools: Map<string, Tool>           // ãƒ„ãƒ¼ãƒ«Map
}
```

### ãƒ¡ã‚½ãƒƒãƒ‰ï¼ˆå®Ÿè£…ç¢ºå®šï¼‰
```javascript
// Manageré€£æºç³»
setCanvasManager(canvasManager)        // CanvasManagerè¨­å®š

// ãƒ„ãƒ¼ãƒ«ç®¡ç†ç³»
createTools()                          // ãƒ„ãƒ¼ãƒ«ä½œæˆï¼ˆå†…éƒ¨ï¼‰
selectTool(toolName: string)           // ãƒ„ãƒ¼ãƒ«é¸æŠ
getCurrentTool(): Tool                 // ç¾åœ¨ãƒ„ãƒ¼ãƒ«å–å¾—
getCurrentToolName(): string           // ç¾åœ¨ãƒ„ãƒ¼ãƒ«åå–å¾—

// ã‚¤ãƒ™ãƒ³ãƒˆè»¢é€ç³»
handlePointerDown(x: number, y: number, event) // ãƒã‚¤ãƒ³ã‚¿ãƒ¼æŠ¼ä¸‹è»¢é€
handlePointerMove(x: number, y: number, event) // ãƒã‚¤ãƒ³ã‚¿ãƒ¼ç§»å‹•è»¢é€  
handlePointerUp(x: number, y: number, event)   // ãƒã‚¤ãƒ³ã‚¿ãƒ¼è§£æ”¾è»¢é€

// ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ç³»
getDebugInfo()                        // ãƒ‡ãƒãƒƒã‚°æƒ…å ±å–å¾—
```

## ğŸ”§ AbstractToolï¼ˆtools/abstract-tool.jsï¼‰- Phase1.5åŸºç›¤

### ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ï¼ˆåŸºåº•ã‚¯ãƒ©ã‚¹ï¼‰
```javascript
class AbstractTool {
    canvasManager: CanvasManager       // CanvasManagerå‚ç…§ï¼ˆå…±é€šï¼‰
    toolName: string                   // ãƒ„ãƒ¼ãƒ«åï¼ˆå€‹åˆ¥è¨­å®šï¼‰
}
```

### ãƒ¡ã‚½ãƒƒãƒ‰ï¼ˆåŸºåº•å®Ÿè£…ï¼‰
```javascript
// Manageré€£æºç³»ï¼ˆå…±é€šï¼‰
setCanvasManager(canvasManager)        // CanvasManagerè¨­å®š

// æŠ½è±¡ãƒ¡ã‚½ãƒƒãƒ‰ï¼ˆç¶™æ‰¿å…ˆã§å®Ÿè£…å¿…é ˆï¼‰
onPointerDown(x: number, y: number, event) // ãƒã‚¤ãƒ³ã‚¿ãƒ¼æŠ¼ä¸‹å‡¦ç†
onPointerMove(x: number, y: number, event) // ãƒã‚¤ãƒ³ã‚¿ãƒ¼ç§»å‹•å‡¦ç†
onPointerUp(x: number, y: number, event)   // ãƒã‚¤ãƒ³ã‚¿ãƒ¼è§£æ”¾å‡¦ç†

// ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ç³»ï¼ˆå…±é€šï¼‰
validateCanvasManager()               // CanvasManagerå­˜åœ¨ç¢ºèª
getDebugInfo()                        // ãƒ‡ãƒãƒƒã‚°æƒ…å ±å–å¾—ï¼ˆåŸºåº•å®Ÿè£…ï¼‰
```

## âœï¸ PenToolï¼ˆtools/pen-tool.jsï¼‰

### ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ï¼ˆç¢ºå®šï¼‰
```javascript
class PenTool extends AbstractTool {
    isDrawing: boolean                 // æç”»çŠ¶æ…‹
    currentPath: PIXI.Graphics         // ç¾åœ¨ã®æç”»ãƒ‘ã‚¹
    points: Array<{x, y}>             // æç”»ç‚¹é…åˆ—
    
    // æç”»è¨­å®š
    color: number                      // ç·šè‰²ï¼ˆ16é€²æ•°ï¼‰
    lineWidth: number                  // ç·šå¹…
    opacity: number                    // ä¸é€æ˜åº¦
}
```

### ãƒ¡ã‚½ãƒƒãƒ‰ï¼ˆå®Ÿè£…ç¢ºå®šï¼‰
```javascript
// æç”»ã‚¤ãƒ™ãƒ³ãƒˆç³»ï¼ˆAbstractToolå®Ÿè£…ï¼‰
onPointerDown(x: number, y: number, event) // æç”»é–‹å§‹
onPointerMove(x: number, y: number, event) // æç”»ç¶™ç¶š
onPointerUp(x: number, y: number, event)   // æç”»çµ‚äº†

// è¨­å®šå¤‰æ›´ç³»
setPenColor(color: string|number)      // è‰²å¤‰æ›´
setPenWidth(width: number)             // ç·šå¹…å¤‰æ›´  
setPenOpacity(opacity: number)         // ä¸é€æ˜åº¦å¤‰æ›´

// ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ç³»
getSettings()                          // ç¾åœ¨è¨­å®šå–å¾—
getDebugInfo()                         // ãƒ‡ãƒãƒƒã‚°æƒ…å ±
```

## ğŸ§¹ EraserToolï¼ˆtools/eraser-tool.jsï¼‰

### ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ï¼ˆç¢ºå®šï¼‰
```javascript
class EraserTool extends AbstractTool {
    isErasing: boolean                 // æ¶ˆå»çŠ¶æ…‹
    eraserSize: number                 // æ¶ˆã—ã‚´ãƒ ã‚µã‚¤ã‚º
}
```

### ãƒ¡ã‚½ãƒƒãƒ‰ï¼ˆå®Ÿè£…çŠ¶æ³ï¼‰
```javascript
// Manageré€£æºç³»ï¼ˆAbstractToolç¶™æ‰¿ï¼‰
setCanvasManager(canvasManager)        // CanvasManagerè¨­å®š

// æ¶ˆå»ã‚¤ãƒ™ãƒ³ãƒˆç³»ï¼ˆå®Ÿè£…çŠ¶æ³è¦ç¢ºèªï¼‰
onPointerDown(x: number, y: number, event) // æ¶ˆå»é–‹å§‹
onPointerMove(x: number, y: number, event) // æ¶ˆå»ç¶™ç¶š  
onPointerUp(x: number, y: number, event)   // æ¶ˆå»çµ‚äº†

// è¨­å®šå¤‰æ›´ç³»
setEraserSize(size: number)            // æ¶ˆã—ã‚´ãƒ ã‚µã‚¤ã‚ºå¤‰æ›´

// ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ç³»
getDebugInfo()                         // ãƒ‡ãƒãƒƒã‚°æƒ…å ±å–å¾—
```

## ğŸ§­ NavigationManagerï¼ˆjs/utils/navigation-manager.jsï¼‰- Phase1.5

### ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ï¼ˆç¢ºå®šï¼‰
```javascript
class NavigationManager {
    canvasManager: CanvasManager       // CanvasManagerå‚ç…§
    transform: Object                  // å¤‰å½¢çŠ¶æ…‹ {x, y, scale, rotation}
    isDragging: boolean               // ãƒ‰ãƒ©ãƒƒã‚°çŠ¶æ…‹
    lastPointerPosition: {x, y}       // æœ€å¾Œã®ãƒã‚¤ãƒ³ã‚¿ãƒ¼ä½ç½®
}
```

### ãƒ¡ã‚½ãƒƒãƒ‰ï¼ˆå®Ÿè£…ç¢ºå®šï¼‰
```javascript
// Manageré€£æºç³»
setCanvasManager(canvasManager)        // CanvasManagerè¨­å®š

// ã‚­ãƒ£ãƒ³ãƒã‚¹å¤‰å½¢ç³»
panCanvas(deltaX: number, deltaY: number)     // ãƒ‘ãƒ³ï¼ˆç§»å‹•ï¼‰
zoomCanvas(scale: number, centerX?: number, centerY?: number) // ã‚ºãƒ¼ãƒ 
rotateCanvas(angle: number, centerX?: number, centerY?: number) // å›è»¢
resetCanvasTransform()                 // å¤‰å½¢ãƒªã‚»ãƒƒãƒˆ

// å¤‰å½¢çŠ¶æ…‹ç®¡ç†ç³»
getCanvasTransform(): Object           // ç¾åœ¨ã®å¤‰å½¢çŠ¶æ…‹å–å¾—
setCanvasTransform(transform: Object)  // å¤‰å½¢çŠ¶æ…‹è¨­å®š
saveTransformState()                   // å¤‰å½¢çŠ¶æ…‹ä¿å­˜
restoreTransformState()                // å¤‰å½¢çŠ¶æ…‹å¾©å…ƒ

// ã‚¤ãƒ™ãƒ³ãƒˆå‡¦ç†ç³»
handlePanStart(x: number, y: number)   // ãƒ‘ãƒ³é–‹å§‹
handlePanMove(x: number, y: number)    // ãƒ‘ãƒ³ç§»å‹•
handlePanEnd()                         // ãƒ‘ãƒ³çµ‚äº†
handleWheel(event: WheelEvent)         // ãƒã‚¦ã‚¹ãƒ›ã‚¤ãƒ¼ãƒ«

// ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ç³»
isReady(): boolean                     // æº–å‚™çŠ¶æ…‹ç¢ºèª
getDebugInfo()                         // ãƒ‡ãƒãƒƒã‚°æƒ…å ±å–å¾—
```

## ğŸ“ RecordManagerï¼ˆjs/utils/record-manager.jsï¼‰- Phase1.5

### ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ï¼ˆç¢ºå®šï¼‰
```javascript
class RecordManager {
    canvasManager: CanvasManager       // CanvasManagerå‚ç…§
    history: Array<OperationRecord>    // æ“ä½œå±¥æ­´
    currentIndex: number               // ç¾åœ¨ä½ç½®
    maxHistorySize: number            // æœ€å¤§å±¥æ­´ã‚µã‚¤ã‚º
}
```

### ãƒ¡ã‚½ãƒƒãƒ‰ï¼ˆå®Ÿè£…ç¢ºå®šï¼‰
```javascript
// Manageré€£æºç³»
setCanvasManager(canvasManager)        // CanvasManagerè¨­å®š

// æ“ä½œè¨˜éŒ²ç³»
recordOperation(operation: Object)     // æ“ä½œè¨˜éŒ²
recordDraw(graphics: PIXI.Graphics, layerId: string) // æç”»è¨˜éŒ²
recordErase(targetInfo: Object)        // æ¶ˆå»è¨˜éŒ²
recordTransform(transformData: Object) // å¤‰å½¢è¨˜éŒ²

// Undo/Redoç³»
canUndo(): boolean                     // Undoå¯èƒ½ç¢ºèª
canRedo(): boolean                     // Redoå¯èƒ½ç¢ºèª
undo(): boolean                        // Undoå®Ÿè¡Œ
redo(): boolean                        // Redoå®Ÿè¡Œ

// å±¥æ­´ç®¡ç†ç³»
clearHistory()                         // å±¥æ­´ã‚¯ãƒªã‚¢
getHistoryInfo(): Object              // å±¥æ­´æƒ…å ±å–å¾—
setMaxHistorySize(size: number)       // æœ€å¤§å±¥æ­´ã‚µã‚¤ã‚ºè¨­å®š

// ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ç³»
isReady(): boolean                     // æº–å‚™çŠ¶æ…‹ç¢ºèª
getDebugInfo()                         // ãƒ‡ãƒãƒƒã‚°æƒ…å ±å–å¾—
```

## ğŸ“ CoordinateManagerï¼ˆjs/utils/coordinate-manager.jsï¼‰- Phase1.5

### ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ï¼ˆç¢ºå®šï¼‰
```javascript
class CoordinateManager {
    canvasManager: CanvasManager       // CanvasManagerå‚ç…§
    navigationManager: NavigationManager // NavigationManagerå‚ç…§
}
```

### ãƒ¡ã‚½ãƒƒãƒ‰ï¼ˆå®Ÿè£…ç¢ºå®šï¼‰
```javascript
// Manageré€£æºç³»
setCanvasManager(canvasManager)        // CanvasManagerè¨­å®š
setNavigationManager(navigationManager) // NavigationManagerè¨­å®š

// åº§æ¨™å¤‰æ›ç³»
screenToCanvas(screenX: number, screenY: number): {x, y} // ã‚¹ã‚¯ãƒªãƒ¼ãƒ³â†’ã‚­ãƒ£ãƒ³ãƒã‚¹
canvasToScreen(canvasX: number, canvasY: number): {x, y} // ã‚­ãƒ£ãƒ³ãƒã‚¹â†’ã‚¹ã‚¯ãƒªãƒ¼ãƒ³
getCanvasRect(): DOMRect              // ã‚­ãƒ£ãƒ³ãƒã‚¹è¦ç´ ä½ç½®å–å¾—
getTransformedCoordinates(x: number, y: number): {x, y} // å¤‰å½¢è€ƒæ…®åº§æ¨™

// ã‚¤ãƒ™ãƒ³ãƒˆåº§æ¨™ç³»
extractPointerCoordinates(event: PointerEvent): {x, y} // ã‚¤ãƒ™ãƒ³ãƒˆåº§æ¨™æŠ½å‡º
normalizeCoordinates(x: number, y: number): {x, y} // åº§æ¨™æ­£è¦åŒ–

// ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ç³»
isReady(): boolean                     // æº–å‚™çŠ¶æ…‹ç¢ºèª
getDebugInfo()                         // ãƒ‡ãƒãƒƒã‚°æƒ…å ±å–å¾—
```

## âŒ¨ï¸ ShortcutManagerï¼ˆjs/utils/shortcut-manager.jsï¼‰- Phase1.5

### ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ï¼ˆç¢ºå®šï¼‰
```javascript
class ShortcutManager {
    shortcuts: Map<string, Function>   // ã‚·ãƒ§ãƒ¼ãƒˆã‚«ãƒƒãƒˆMap
    keyState: Set<string>             // æŠ¼ä¸‹ä¸­ã‚­ãƒ¼çŠ¶æ…‹
    enabled: boolean                  // ã‚·ãƒ§ãƒ¼ãƒˆã‚«ãƒƒãƒˆæœ‰åŠ¹çŠ¶æ…‹
}
```

### ãƒ¡ã‚½ãƒƒãƒ‰ï¼ˆå®Ÿè£…ç¢ºå®šï¼‰
```javascript
// ã‚·ãƒ§ãƒ¼ãƒˆã‚«ãƒƒãƒˆç™»éŒ²ç³»
registerShortcut(key: string, callback: Function) // ã‚·ãƒ§ãƒ¼ãƒˆã‚«ãƒƒãƒˆç™»éŒ²
registerCombo(keys: string[], callback: Function) // çµ„ã¿åˆã‚ã›ç™»éŒ²
unregisterShortcut(key: string)       // ã‚·ãƒ§ãƒ¼ãƒˆã‚«ãƒƒãƒˆå‰Šé™¤

// ã‚·ãƒ§ãƒ¼ãƒˆã‚«ãƒƒãƒˆåˆ¶å¾¡ç³»
enable()                              // ã‚·ãƒ§ãƒ¼ãƒˆã‚«ãƒƒãƒˆæœ‰åŠ¹åŒ–
disable()                             // ã‚·ãƒ§ãƒ¼ãƒˆã‚«ãƒƒãƒˆç„¡åŠ¹åŒ–
isEnabled(): boolean                  // æœ‰åŠ¹çŠ¶æ…‹ç¢ºèª

// ã‚¤ãƒ™ãƒ³ãƒˆå‡¦ç†ç³»
handleKeyDown(event: KeyboardEvent)   // ã‚­ãƒ¼æŠ¼ä¸‹å‡¦ç†
handleKeyUp(event: KeyboardEvent)     // ã‚­ãƒ¼è§£æ”¾å‡¦ç†

// ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã‚·ãƒ§ãƒ¼ãƒˆã‚«ãƒƒãƒˆç³»
registerDefaultShortcuts()            // ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆç™»éŒ²
// Ctrl+Z: Undo, Ctrl+Y: Redo, Space: Pan Mode, +/-: Zoomç­‰

// ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ç³»
getDebugInfo()                        // ãƒ‡ãƒãƒƒã‚°æƒ…å ±å–å¾—
```

## ğŸš¨ ErrorManagerï¼ˆjs/utils/error-manager.jsï¼‰

### ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ï¼ˆç¢ºå®šï¼‰
```javascript
class ErrorManager {
    errors: Array<ErrorRecord>         // ã‚¨ãƒ©ãƒ¼è¨˜éŒ²é…åˆ—
    maxErrors: number                 // æœ€å¤§è¨˜éŒ²æ•°
}
```

### ãƒ¡ã‚½ãƒƒãƒ‰ï¼ˆå®Ÿè£…ç¢ºå®šï¼‰
```javascript
// ã‚¨ãƒ©ãƒ¼è¡¨ç¤ºç³»ï¼ˆå°‚ä»»è²¬å‹™ï¼‰
showError(type: string, message: string, options?) // ã‚¨ãƒ©ãƒ¼è¡¨ç¤º
showVisualNotification(type, message, options)     // è¦–è¦šé€šçŸ¥

// ã‚·ãƒ§ãƒ¼ãƒˆã‚«ãƒƒãƒˆç³»
showInfo(message: string, options?)    // æƒ…å ±è¡¨ç¤º
showWarning(message: string, options?) // è­¦å‘Šè¡¨ç¤º
showCritical(message: string, options?) // é‡è¦ã‚¨ãƒ©ãƒ¼è¡¨ç¤º

// è¨˜éŒ²ç®¡ç†ç³»
getErrors(): Array                     // ã‚¨ãƒ©ãƒ¼è¨˜éŒ²å–å¾—
clear()                               // ã‚¨ãƒ©ãƒ¼è¨˜éŒ²ã‚¯ãƒªã‚¢
setMaxErrors(count: number)           // æœ€å¤§è¨˜éŒ²æ•°è¨­å®š

// å†…éƒ¨å‡¦ç†ç³»ï¼ˆè‰²è¨­å®šï¼‰
getBackgroundColor(type): string       // èƒŒæ™¯è‰²å–å¾—
getTextColor(type): string            // ãƒ†ã‚­ã‚¹ãƒˆè‰²å–å¾—  
getBorderColor(type): string          // ãƒœãƒ¼ãƒ€ãƒ¼è‰²å–å¾—

// ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ç³»
getDebugInfo()                        // ãƒ‡ãƒãƒƒã‚°æƒ…å ±å–å¾—
```

## âš™ï¸ ConfigManagerï¼ˆjs/utils/config-manager.jsï¼‰

### ãƒ¡ã‚½ãƒƒãƒ‰ï¼ˆåŸºæœ¬å®Ÿè£…ç¢ºå®šï¼‰  
```javascript
// è¨­å®šç®¡ç†ç³»
getCanvasConfig(): Object             // ã‚­ãƒ£ãƒ³ãƒã‚¹è¨­å®šå–å¾—
getToolConfig(toolName: string): Object // ãƒ„ãƒ¼ãƒ«è¨­å®šå–å¾—
getNavigationConfig(): Object         // ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³è¨­å®šå–å¾—
getShortcutConfig(): Object           // ã‚·ãƒ§ãƒ¼ãƒˆã‚«ãƒƒãƒˆè¨­å®šå–å¾—

// è¨­å®šæ›´æ–°ç³»
updateCanvasConfig(config: Object)    // ã‚­ãƒ£ãƒ³ãƒã‚¹è¨­å®šæ›´æ–°
updateToolConfig(toolName: string, config: Object) // ãƒ„ãƒ¼ãƒ«è¨­å®šæ›´æ–°

// ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ç³»
getDebugInfo()                        // ãƒ‡ãƒãƒƒã‚°æƒ…å ±å–å¾—
```

## ğŸ“¡ EventBusï¼ˆjs/utils/event-bus.jsï¼‰

### ãƒ¡ã‚½ãƒƒãƒ‰ï¼ˆåŸºæœ¬å®Ÿè£…ç¢ºå®šï¼‰
```javascript
// ã‚¤ãƒ™ãƒ³ãƒˆé…ä¿¡ç³»
on(eventName: string, callback: Function) // ã‚¤ãƒ™ãƒ³ãƒˆç™»éŒ²
emit(eventName: string, data?: any)   // ã‚¤ãƒ™ãƒ³ãƒˆç™ºç«
off(eventName: string, callback?: Function) // ã‚¤ãƒ™ãƒ³ãƒˆå‰Šé™¤
once(eventName: string, callback: Function) // ä¸€å›é™ã‚Šã‚¤ãƒ™ãƒ³ãƒˆ

// ã‚¤ãƒ™ãƒ³ãƒˆç®¡ç†ç³»
listEvents(): string[]                // ç™»éŒ²ã‚¤ãƒ™ãƒ³ãƒˆä¸€è¦§
hasListeners(eventName: string): boolean // ãƒªã‚¹ãƒŠãƒ¼å­˜åœ¨ç¢ºèª
clear()                              // å…¨ã‚¤ãƒ™ãƒ³ãƒˆå‰Šé™¤

// ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ç³»
getDebugInfo()                       // ãƒ‡ãƒãƒƒã‚°æƒ…å ±å–å¾—
```

## ğŸ¨ TegakiIconsï¼ˆassets/icons.jsï¼‰

### ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ï¼ˆç¢ºå®šï¼‰
```javascript
TegakiIcons = {
    svgData: Object                    // SVGå®šç¾©ãƒ‡ãƒ¼ã‚¿ï¼ˆ9ã‚¢ã‚¤ã‚³ãƒ³ï¼‰
    buttonMappings: Object             // ãƒœã‚¿ãƒ³IDâ†’ã‚¢ã‚¤ã‚³ãƒ³åãƒãƒƒãƒ”ãƒ³ã‚°
}
```

### ãƒ¡ã‚½ãƒƒãƒ‰ï¼ˆå®Ÿè£…ç¢ºå®šï¼‰
```javascript
// ã‚¢ã‚¤ã‚³ãƒ³ç”Ÿæˆç³»
createIcon(iconName: string, options?: Object): SVGElement // SVGã‚¢ã‚¤ã‚³ãƒ³è¦ç´ ä½œæˆ

// ã‚¢ã‚¤ã‚³ãƒ³é…ç½®ç³»
replaceButtonIcon(buttonId: string, iconName: string) // ç‰¹å®šãƒœã‚¿ãƒ³ã‚¢ã‚¤ã‚³ãƒ³ç½®æ›
replaceAllToolIcons()              // å…¨ãƒ„ãƒ¼ãƒ«ãƒœã‚¿ãƒ³ä¸€æ‹¬ç½®æ›ï¼ˆãƒ¡ã‚¤ãƒ³æ©Ÿèƒ½ï¼‰

// ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ç³»
getDebugInfo(): Object             // ãƒ‡ãƒãƒƒã‚°æƒ…å ±å–å¾—
```

### å¯¾å¿œã‚¢ã‚¤ã‚³ãƒ³ï¼ˆ9ç¨®é¡ç¢ºå®šï¼‰
```javascript
// SVGå®šç¾©æ¸ˆã¿ã‚¢ã‚¤ã‚³ãƒ³
'download'   // ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ï¼ˆ@tabler/iconsï¼‰
'resize'     // ãƒªã‚µã‚¤ã‚ºï¼ˆ@tabler/iconsï¼‰ 
'palette'    // ã‚«ãƒ©ãƒ¼ãƒ‘ãƒ¬ãƒƒãƒˆï¼ˆlucide-staticï¼‰
'pen'        // ãƒ™ã‚¯ã‚¿ãƒ¼ãƒšãƒ³ï¼ˆlucide-staticï¼‰
'eraser'     // æ¶ˆã—ã‚´ãƒ ï¼ˆlucide-staticï¼‰
'fill'       // å¡—ã‚Šã¤ã¶ã—ï¼ˆlucide-staticï¼‰
'select'     // ç¯„å›²é¸æŠï¼ˆlucide-staticï¼‰
'layers'     // ãƒ¬ã‚¤ãƒ¤ãƒ¼ï¼ˆlucide-staticï¼‰
'settings'   // è¨­å®šï¼ˆ@tabler/iconsï¼‰
```

## ğŸ”„ Phase1.5ç¢ºå®šåˆæœŸåŒ–ãƒ•ãƒ­ãƒ¼

### ğŸš€ HTMLèª­ã¿è¾¼ã¿é †åºï¼ˆç¢ºå®šï¼‰
1. **PixiJS CDN** â†’ PixiJSåˆ©ç”¨å¯èƒ½
2. **error-manager.js** â†’ ErrorManagerInstance ä½œæˆ
3. **config-manager.js** â†’ ConfigManagerInstance ä½œæˆ  
4. **event-bus.js** â†’ EventBusInstance ä½œæˆ
5. **coordinate-manager.js** â†’ CoordinateManagerInstance ä½œæˆ
6. **navigation-manager.js** â†’ NavigationManagerInstance ä½œæˆ
7. **record-manager.js** â†’ RecordManagerInstance ä½œæˆ
8. **shortcut-manager.js** â†’ ShortcutManagerInstance ä½œæˆ
9. **minimal-deps.js** â†’ æœ€å°ä¾å­˜é–¢ä¿‚å‡¦ç†
10. **assets/icons.js** â†’ TegakiIcons å®šç¾©ãƒ»åˆ©ç”¨å¯èƒ½
11. **canvas-manager.js** â†’ CanvasManager ã‚¯ãƒ©ã‚¹å®šç¾©
12. **tool-manager.js** â†’ ToolManager ã‚¯ãƒ©ã‚¹å®šç¾©
13. **abstract-tool.js** â†’ AbstractTool ã‚¯ãƒ©ã‚¹å®šç¾©
14. **pen-tool.js** â†’ PenTool ã‚¯ãƒ©ã‚¹å®šç¾©
15. **eraser-tool.js** â†’ EraserTool ã‚¯ãƒ©ã‚¹å®šç¾©
16. **app-core.js** â†’ TegakiApplication ã‚¯ãƒ©ã‚¹å®šç¾©
17. **main.js** â†’ AppCore ã‚¯ãƒ©ã‚¹å®šç¾©
18. **bootstrap.js** â†’ TegakiApplication ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹åŒ–

## ğŸ® Phase1.5çµ±åˆãƒ•ãƒ­ãƒ¼ï¼ˆç¢ºå®šï¼‰

### ğŸ”„ Manageré€£æºï¼ˆç¢ºå®šãƒ‘ã‚¿ãƒ¼ãƒ³ï¼‰
```javascript
// AppCoreåˆæœŸåŒ–æ™‚ã®é€£æºè¨­å®š
const canvasManager = new CanvasManager();
const toolManager = new ToolManager();
const navigationManager = window.Tegaki.NavigationManagerInstance;
const recordManager = window.Tegaki.RecordManagerInstance;
const coordinateManager = window.Tegaki.CoordinateManagerInstance;

// ç›¸äº’ä¾å­˜è¨­å®š
toolManager.setCanvasManager(canvasManager);
navigationManager.setCanvasManager(canvasManager);
recordManager.setCanvasManager(canvasManager);
coordinateManager.setCanvasManager(canvasManager);
coordinateManager.setNavigationManager(navigationManager);
```

### ğŸ–Šï¸ ãƒ„ãƒ¼ãƒ«ã§ã®éç ´å£Šç·¨é›†é€£æº
```javascript
// PenToolæç”»æ™‚ã®è¨˜éŒ²é€£æº
onPointerUp(x, y, event) {
    if (this.currentPath && this.isDrawing) {
        // æç”»å®Œäº†ã‚’RecordManagerã«è¨˜éŒ²
        window.Tegaki.RecordManagerInstance.recordDraw(
            this.currentPath, 
            'main'
        );
        
        this.finalizePath();
        this.isDrawing = false;
    }
}
```

## ğŸš« Phase1.5å¯¾è±¡å¤–ï¼ˆæœªå®Ÿè£…ãƒ»Phase2ä»¥é™ï¼‰

### âŒ ãƒ¬ã‚¤ãƒ¤ãƒ¼ç®¡ç†ï¼ˆPhase2ï¼‰
```javascript
// æœªå®Ÿè£…ãƒ»å‘¼ã³å‡ºã—ç¦æ­¢
LayerManager, LayerObject, LayerPanel
MultiLayerManager, LayerTransformTool
```

### âŒ é«˜åº¦æ©Ÿèƒ½ï¼ˆPhase3ï¼‰
```javascript
// æœªå®Ÿè£…ãƒ»å‘¼ã³å‡ºã—ç¦æ­¢
AnimationSequence, FrameManager, GIFExporter
BrushTool, TextureTool, VectorPath, PhysicalBrushRenderer
AIStrokeProcessor, PerformanceManager
```

## ğŸ”§ ãƒ‡ãƒãƒƒã‚°ãƒ»æ¤œè¨¼ç”¨ç¢ºå®šã‚·ãƒ³ãƒœãƒ«

### ğŸš¨ å®Ÿè¡Œæ™‚ç¢ºèªç”¨
```javascript
// Phase1.5ã‚°ãƒ­ãƒ¼ãƒãƒ«åå‰ç©ºé–“æ¤œè¨¼
console.assert(window.Tegaki.NavigationManagerInstance, 'NavigationManager not available');
console.assert(window.Tegaki.RecordManagerInstance, 'RecordManager not available');
console.assert(window.Tegaki.CoordinateManagerInstance, 'CoordinateManager not available');
console.assert(window.Tegaki.ShortcutManagerInstance, 'ShortcutManager not available');

// åŸºæœ¬æ©Ÿèƒ½æ¤œè¨¼
const debugInfo = window.TegakiAppInstance.getDebugInfo();
console.log('ğŸ¨ App Debug:', debugInfo);

// Phase1.5æ©Ÿèƒ½æ¤œè¨¼
const navDebug = window.Tegaki.NavigationManagerInstance.getDebugInfo();
console.log('ğŸ§­ Navigation Debug:', navDebug);
```

## ğŸ“Š ãƒ‡ãƒãƒƒã‚°æƒ…å ±æ§‹é€ ï¼ˆç¢ºå®šãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆï¼‰

### ğŸ¯ å…±é€šãƒ‡ãƒãƒƒã‚°æƒ…å ±ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ
```javascript
// å…¨Managerãƒ»Toolå…±é€šã®getDebugInfo()æˆ»ã‚Šå€¤æ§‹é€ 
{
    className: string,                 // ã‚¯ãƒ©ã‚¹å
    initialized: boolean,              // åˆæœŸåŒ–çŠ¶æ…‹
    hasRequiredDeps: boolean,          // å¿…è¦ä¾å­˜é–¢ä¿‚å­˜åœ¨ç¢ºèª
    itemCount: number,                // ç®¡ç†ã‚¢ã‚¤ãƒ†ãƒ æ•°
    currentState: string,             // ç¾åœ¨çŠ¶æ…‹
    lastError: string || null,        // æœ€å¾Œã®ã‚¨ãƒ©ãƒ¼
    additionalInfo: Object            // ã‚¯ãƒ©ã‚¹å›ºæœ‰æƒ…å ±
}
```

## âš™ï¸ ç¢ºå®šè¨­å®šæ§‹é€ 

### ğŸ¨ ã‚­ãƒ£ãƒ³ãƒã‚¹è¨­å®š
```javascript
// ConfigManager.getCanvasConfig() æˆ»ã‚Šå€¤
{
    width: 800,
    height: 600,
    backgroundColor: 0x1a1a1a,
    antialias: true,
    resolution: window.devicePixelRatio || 1
}
```

### ğŸ–Šï¸ ãƒ„ãƒ¼ãƒ«è¨­å®š
```javascript
// ConfigManager.getToolConfig('pen') æˆ»ã‚Šå€¤
{
    color: 0x800000,
    lineWidth: 4,
    opacity: 1.0,
    lineCap: 'round',
    lineJoin: 'round'
}
```

### ğŸ§­ ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³è¨­å®š
```javascript
// ConfigManager.getNavigationConfig() æˆ»ã‚Šå€¤
{
    panSensitivity: 1.0,
    zoomSensitivity: 0.1,
    minZoom: 0.1,
    maxZoom: 10.0,
    smoothPan: true,
    smoothZoom: true
}
```

---

ğŸ“ **æ›´æ–°æ–¹é‡**: å®Ÿè£…å®Œäº†å¾Œã«æœ¬è¾å…¸ã«ç¢ºå®šäº‹é …è¿½åŠ ãƒ»æ¶ç©ºãƒ¡ã‚½ãƒƒãƒ‰å®šç¾©ç¦æ­¢  
ğŸ¯ **æ¤œè¨¼æ–¹æ³•**: å„ãƒ•ã‚¡ã‚¤ãƒ«ã§ `window.Tegaki.XXX` ãŒå­˜åœ¨ã™ã‚‹ã“ã¨ã‚’ç¢ºèª  
ğŸ’€ **åŸºæœ¬åŸå‰‡**: å®Ÿè£…ã•ã‚Œã¦ã„ãªã„ãƒ¡ã‚½ãƒƒãƒ‰ã¯å®šç¾©ç¦æ­¢ãƒ»äºŒé‡å®Ÿè£…ç¦æ­¢