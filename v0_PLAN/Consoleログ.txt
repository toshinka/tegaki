config.js:537 âœ… config.js (ã‚­ãƒ¼ãƒãƒƒãƒ”ãƒ³ã‚°å®Œå…¨ä¸€å…ƒç®¡ç†ç‰ˆ) loaded
config.js:538    ğŸ¯ ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ä¸­å¿ƒè¨­è¨ˆ: ã™ã¹ã¦ã®ã‚·ãƒ§ãƒ¼ãƒˆã‚«ãƒƒãƒˆã‚’TEGAKI_KEYMAPã§ç®¡ç†
config.js:539    ğŸ¯ ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆå¯¾å¿œ: vMode, Ctrl, Shift, Alt ã‚’æŸ”è»Ÿã«å‡¦ç†
config.js:540    ğŸ¯ ã‚«ãƒ¡ãƒ©åè»¢ vs ãƒ¬ã‚¤ãƒ¤ãƒ¼åè»¢: Vãƒ¢ãƒ¼ãƒ‰ã§è‡ªå‹•åˆ‡ã‚Šæ›¿ãˆ
config.js:541    ğŸ¯ H: ã‚­ãƒ£ãƒ³ãƒã‚¹æ°´å¹³åè»¢ / V+H: ãƒ¬ã‚¤ãƒ¤ãƒ¼æ°´å¹³åè»¢
config.js:542    ğŸ¯ Shift+H: ã‚­ãƒ£ãƒ³ãƒã‚¹å‚ç›´åè»¢ / V+Shift+H: ãƒ¬ã‚¤ãƒ¤ãƒ¼å‚ç›´åè»¢
config.js:543    ğŸ¯ ãƒ¬ã‚¬ã‚·ãƒ¼äº’æ›: æ—¢å­˜ã‚³ãƒ¼ãƒ‰ã¨ã®å¾Œæ–¹äº’æ›æ€§ã‚’ç¶­æŒ
config.js:544    ğŸ¯ ãƒ‡ãƒãƒƒã‚°æ”¯æ´: window.TEGAKI_KEYMAP.debugShowMapping() ã§ãƒãƒƒãƒ”ãƒ³ã‚°ä¸€è¦§è¡¨ç¤º
config.js:545    ğŸ¯ UIæº–å‚™å®Œäº†: getUIConfigData() ã§è¨­å®šç”»é¢ç”¨ãƒ‡ãƒ¼ã‚¿å–å¾—å¯èƒ½
coordinate-system.js:32 ğŸ§­ CoordinateSystem: ã‚·ã‚¹ãƒ†ãƒ çµ±åˆæ”¹ä¿®ç‰ˆ åˆæœŸåŒ–
coordinate-system.js:730 âœ… coordinate-system.js loaded (ã‚·ã‚¹ãƒ†ãƒ çµ±åˆæ”¹ä¿®ç‰ˆ)
coordinate-system.js:731 ğŸ”§ æ”¹ä¿®å®Œäº†é …ç›®:
coordinate-system.js:732   ğŸ†• applyLayerTransform(): çµ±ä¸€ãƒ¬ã‚¤ãƒ¤ãƒ¼å¤‰å½¢API
coordinate-system.js:733   ğŸ†• normalizeTransform(): å¤‰å½¢ãƒ‡ãƒ¼ã‚¿æ­£è¦åŒ–
coordinate-system.js:734   ğŸ†• combineTransforms(): å¤‰å½¢åˆæˆ
coordinate-system.js:735   ğŸ†• screenToWorld/worldToScreen(): ã‚­ãƒ£ãƒƒã‚·ãƒ¥å¯¾å¿œåº§æ¨™å¤‰æ›
coordinate-system.js:736   ğŸ†• localToWorld/worldToLocal(): ãƒ¬ã‚¤ãƒ¤ãƒ¼åº§æ¨™å¤‰æ›
coordinate-system.js:737   ğŸ†• getLayerBounds(): çµ±ä¸€å¢ƒç•Œå–å¾—
coordinate-system.js:738   ğŸ†• distance/angle/normalizeAngle(): æ•°å­¦é–¢æ•°çµ±åˆ
coordinate-system.js:739   ğŸ†• normalizeVector/dotProduct/crossProduct(): ãƒ™ã‚¯ãƒˆãƒ«è¨ˆç®—
coordinate-system.js:740   ğŸ†• diagnoseReferences(): ã‚·ã‚¹ãƒ†ãƒ çµ±åˆè¨ºæ–­
coordinate-system.js:741   ğŸ†• runTransformTests(): åº§æ¨™å¤‰æ›ãƒ†ã‚¹ãƒˆ
coordinate-system.js:742   ğŸ†• runPerformanceTest(): ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æ¸¬å®š
coordinate-system.js:743   ğŸ”§ EventBuså®Œå…¨çµ±åˆãƒ»ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚·ã‚¹ãƒ†ãƒ 
coordinate-system.js:744   ğŸ”§ LayerSystem/CameraSystem/AnimationSystemå‚ç…§çµ±åˆ
coordinate-system.js:745   ğŸ”§ åº§æ¨™ç³»æ··åœ¨å•é¡Œãƒ»APIæ–­ç‰‡åŒ–è§£æ¶ˆ
coordinate-system.js:746   âœ… PixiJS v8.13 å®Œå…¨å¯¾å¿œ
coordinate-system.js:747   âœ… ã‚·ã‚¹ãƒ†ãƒ é–“é€£æºå¼·åŒ–
event-bus.js:143 âœ… system/event-bus.js Phase 2: å„ªå…ˆåº¦æ©Ÿèƒ½è¿½åŠ ç‰ˆ loaded
state-manager.js:291 âœ… state-manager.js (Export Managerå¯¾å¿œç‰ˆ) loaded
camera-system.js:654 âœ… camera-system.js (ã‚­ãƒ¼ãƒã‚¤ãƒ³ãƒ‡ã‚£ãƒ³ã‚°å¤‰æ›´å¯¾å¿œç‰ˆ) loaded successfully
camera-system.js:655    - âœ… LayerSystemã¨ã®é€£æºå¼·åŒ–ãƒ»ã‚­ãƒ¼å‡¦ç†é‡è¤‡å›é¿
camera-system.js:656    - âœ… ç´ ã®æ–¹å‘ã‚­ãƒ¼å‡¦ç†ã‚’LayerSystemã«å§”è­²
camera-system.js:657    - âœ… Space + æ–¹å‘ã‚­ãƒ¼: ã‚«ãƒ¡ãƒ©æ“ä½œå°‚ç”¨ã«é™å®š
camera-system.js:658    - âœ… V + Håè»¢å‡¦ç†ã®å”èª¿å‹•ä½œ
camera-system.js:659    - ğŸ”§ ã‚­ãƒ¼è¡çªã®å®Œå…¨å›é¿ãƒ»è²¬å‹™åˆ†é›¢æ˜ç¢ºåŒ–
camera-system.js:660    - EventBusçµ±åˆãƒ»APIçµ±ä¸€å®Œäº†
drawing-clipboard.js:603 âœ… drawing-clipboard.js Phase4æ”¹ä¿®ç‰ˆ+ç¢ºå®šã‚¤ãƒ™ãƒ³ãƒˆ loaded
drawing-clipboard.js:604    - âœ… CTRL+V behavior: overwrite active layer
drawing-clipboard.js:605    - âœ… Commit events: paste:commit, operation:commit
drawing-clipboard.js:606    - âœ… Thumbnail auto-update on paste
export-manager.js:95 âœ… export-manager.js loaded
png-exporter.js:47 âœ… png-exporter.js loaded
gif-exporter.js:199 âœ… gif-exporter.js (çµ±åˆç‰ˆ) loaded
export-popup.js:259 âœ… export-popup.js loaded
ui-panels.js:496 âœ… ui-panels.js ExportPopupå‚ç…§ä¿®æ­£ç‰ˆ loaded
core-runtime.js:530 âœ… core-runtime.js ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆåˆæœŸåŒ–å¼·åŒ–ç‰ˆ loaded
core-runtime.js:531   âœ… ExportSystemç¢ºå®ŸåˆæœŸåŒ–æ©Ÿèƒ½è¿½åŠ 
core-runtime.js:532   âœ… ä¾å­˜æ€§æ˜ç¢ºåŒ–ã¨ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°
core-runtime.js:533   âœ… æ—¢å­˜æ©Ÿèƒ½å®Œå…¨ç¶­æŒ
coordinate-system.js:63 ğŸ”— CoordinateSystem EventBus integration configured
coordinate-system.js:47 âœ… CoordinateSystem initialized with canvas: 344x135
coordinate-system.js:757 ğŸ”„ CoordinateSystem auto-initialized
camera-system.js:50 CameraSystem: Initializing...
camera-system.js:76 CameraSystem: Creating containers...
camera-system.js:101 âœ… CameraSystem containers created
camera-system.js:194 âœ… CameraSystem events setup completed
camera-system.js:71 âœ… CameraSystem initialized (ã‚­ãƒ¼ãƒã‚¤ãƒ³ãƒ‡ã‚£ãƒ³ã‚°å¤‰æ›´å¯¾å¿œç‰ˆ)
drawing-clipboard.js:19 DrawingClipboard: Initializing...
drawing-clipboard.js:26 âœ… DrawingClipboard initialized (Phase4æ”¹ä¿®ç‰ˆ + ç¢ºå®šã‚¤ãƒ™ãƒ³ãƒˆ)
coordinate-system.js:75 ğŸ”— CameraSystem reference set in CoordinateSystem
coordinate-system.js:70 ğŸ”— LayerSystem reference set in CoordinateSystem
coordinate-system.js:80 ğŸ”— AnimationSystem reference set in CoordinateSystem
core-runtime.js:44 === CoreRuntime ãƒªã‚µã‚¤ã‚ºå³æ™‚åæ˜ ç‰ˆ åˆæœŸåŒ–é–‹å§‹ ===
core-runtime.js:109 âœ… CUTä½œæˆ: CUT1 (344x135)
core-runtime.js:137 ğŸ”„ CUTåˆ‡æ›¿: CUT1
core-runtime.js:58 âœ… CoreRuntime åˆæœŸåŒ–å®Œäº†
core-runtime.js:517 âœ… ExportSystem initialized
index.html:564 âœ… ExportSystemåˆæœŸåŒ–æˆåŠŸ
 console.log('=== ExportSystemè¨ºæ–­ ===');
console.log('TEGAKI_EXPORT_MANAGER:', window.TEGAKI_EXPORT_MANAGER);
console.log('TEGAKI_EXPORT_POPUP:', window.TEGAKI_EXPORT_POPUP);
console.log('exportPopup (old ref):', window.exportPopup);
console.log('animationSystem:', window.animationSystem);
VM240:1 === ExportSystemè¨ºæ–­ ===
VM240:2 TEGAKI_EXPORT_MANAGER: ExportManagerÂ {app: ju, layerSystem: LayerSystem, animationSystem: AnimationSystem, cameraSystem: CameraSystem, exporters: {â€¦},Â â€¦}
VM240:3 TEGAKI_EXPORT_POPUP: ExportPopupÂ {manager: ExportManager, selectedFormat: 'png'}
VM240:4 exportPopup (old ref): undefined
VM240:5 animationSystem: AnimationSystemÂ {animationData: {â€¦}, layerSystem: LayerSystem, cameraSystem: CameraSystem, app: ju, stage: Z,Â â€¦}
undefined
// ===================================================================
// ãƒ–ãƒ©ã‚¦ã‚¶ã®ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã§ä»¥ä¸‹ã‚’å®Ÿè¡Œã—ã¦ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆã‚·ã‚¹ãƒ†ãƒ ã‚’è¨ºæ–­
// ===================================================================

// 1. ExportSystemã®çŠ¶æ…‹ç¢ºèª
console.log('=== ExportSystemè¨ºæ–­ ===');
console.log('TEGAKI_EXPORT_MANAGER:', window.TEGAKI_EXPORT_MANAGER);
console.log('TEGAKI_EXPORT_POPUP:', window.TEGAKI_EXPORT_POPUP);
console.log('exportPopup (old ref):', window.exportPopup);
console.log('animationSystem:', window.animationSystem);

// 2. ExportManagerã®ç™»éŒ²çŠ¶æ³
if (window.TEGAKI_EXPORT_MANAGER) {
    console.log('Registered exporters:', Object.keys(window.TEGAKI_EXPORT_MANAGER.exporters));
}

// 3. ãƒœã‚¿ãƒ³ã®å­˜åœ¨ç¢ºèª
const exportBtn = document.getElementById('export-tool');
console.log('export-tool button:', exportBtn);
console.log('export-popup element:', document.getElementById('export-popup'));

// 4. æ‰‹å‹•ã§ãƒãƒƒãƒ—ã‚¢ãƒƒãƒ—è¡¨ç¤ºãƒ†ã‚¹ãƒˆ
if (window.TEGAKI_EXPORT_POPUP) {
    console.log('âœ… æ‰‹å‹•ãƒ†ã‚¹ãƒˆ: window.TEGAKI_EXPORT_POPUP.show() ã‚’å®Ÿè¡Œå¯èƒ½');
    // window.TEGAKI_EXPORT_POPUP.show(); // ã‚³ãƒ¡ãƒ³ãƒˆè§£é™¤ã§å®Ÿè¡Œ
} else {
    console.error('âŒ TEGAKI_EXPORT_POPUP ãŒå­˜åœ¨ã—ã¾ã›ã‚“');
}

// 5. ã‚¤ãƒ™ãƒ³ãƒˆãƒªã‚¹ãƒŠãƒ¼ã®ç¢ºèª
console.log('EventListeners on export-tool:', getEventListeners(exportBtn));

console.log('=== è¨ºæ–­å®Œäº† ===');
VM244:6 === ExportSystemè¨ºæ–­ ===
VM244:7 TEGAKI_EXPORT_MANAGER: ExportManagerÂ {app: ju, layerSystem: LayerSystem, animationSystem: AnimationSystem, cameraSystem: CameraSystem, exporters: {â€¦},Â â€¦}animationSystem: AnimationSystemÂ {animationData: {â€¦}, layerSystem: LayerSystem, cameraSystem: CameraSystem, app: ju, stage: Z,Â â€¦}app: juÂ {stage: Z, renderer: kv, queueResize: Æ’, _cancelResize: Æ’, resize: Æ’,Â â€¦}cameraSystem: CameraSystemÂ {app: {â€¦}, config: {â€¦}, eventBus: EventBus, isDragging: false, isScaleRotateDragging: false,Â â€¦}currentExport: nullexporters: {png: PNGExporter, gif: GIFExporter}layerSystem: LayerSystemÂ {app: ju, config: {â€¦}, eventBus: EventBus, currentCutContainer: Z, activeLayerIndex: 1,Â â€¦}[[Prototype]]: Object
VM244:8 TEGAKI_EXPORT_POPUP: ExportPopupÂ {manager: ExportManager, selectedFormat: 'png'}
VM244:9 exportPopup (old ref): undefined
VM244:10 animationSystem: AnimationSystemÂ {animationData: {â€¦}, layerSystem: LayerSystem, cameraSystem: CameraSystem, app: ju, stage: Z,Â â€¦}
VM244:14 Registered exporters: (2)Â ['png', 'gif']
VM244:19 export-tool button: <div class=â€‹"tool-button" id=â€‹"export-tool" title=â€‹"ç”»åƒãƒ»ã‚¢ãƒ‹ãƒ¡å‡ºåŠ›">â€‹â€¦â€‹</div>â€‹flex
VM244:20 export-popup element: <div class=â€‹"popup-panel" id=â€‹"export-popup" style=â€‹"left:â€‹ 60px;â€‹ top:â€‹ 200px;â€‹ min-width:â€‹ 420px;â€‹">â€‹â€¦â€‹</div>â€‹
VM244:24 âœ… æ‰‹å‹•ãƒ†ã‚¹ãƒˆ: window.TEGAKI_EXPORT_POPUP.show() ã‚’å®Ÿè¡Œå¯èƒ½
VM244:31 EventListeners on export-tool: {click: Array(1)}
VM244:33 === è¨ºæ–­å®Œäº† ===
undefined
