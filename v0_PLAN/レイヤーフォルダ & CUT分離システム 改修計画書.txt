ãƒ¬ã‚¤ãƒ¤ãƒ¼ãƒ•ã‚©ãƒ«ãƒ€ & CUTåˆ†é›¢ã‚·ã‚¹ãƒ†ãƒ  æ”¹ä¿®è¨ˆç”»æ›¸
ğŸ“‹ æ”¹ä¿®æ¦‚è¦

ç›®çš„: CUTé–“ã®ãƒ‡ãƒ¼ã‚¿å®Œå…¨åˆ†é›¢ + ãƒ¬ã‚¤ãƒ¤ãƒ¼ãƒ•ã‚©ãƒ«ãƒ€æ©Ÿèƒ½ã®å®Ÿè£…
ã‚¢ãƒ—ãƒ­ãƒ¼ãƒ: å„CUTã«ç‹¬ç«‹ã—ãŸLayerSystemã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’æŒãŸã›ã€ãƒ¬ã‚¤ãƒ¤ãƒ¼ãƒ•ã‚©ãƒ«ãƒ€ã¯å†…éƒ¨æ•´ç†æ©Ÿèƒ½ã¨ã—ã¦å®Ÿè£…
ğŸ—ï¸ ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£è¨­è¨ˆ
ãƒ‡ãƒ¼ã‚¿æ§‹é€ 
javascript

AnimationSystem
â”œâ”€ cuts: Cut[]
â”‚   â””â”€ Cut
â”‚       â”œâ”€ id: string
â”‚       â”œâ”€ name: string
â”‚       â”œâ”€ layerSystem: LayerSystem (ç‹¬ç«‹ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹)
â”‚       â””â”€ frames: Frame[]
â”œâ”€ currentCutIndex: number
â””â”€ currentCut: Cut (getter)

LayerSystem (CUTæ¯ã«ç‹¬ç«‹)
â”œâ”€ layers: Array<Layer | LayerFolder>
â”œâ”€ selectedLayer: Layer | LayerFolder
â””â”€ _container: PIXI.Container

LayerFolder (æ–°è¦)
â”œâ”€ id: string
â”œâ”€ name: string
â”œâ”€ type: 'folder'
â”œâ”€ isOpen: boolean
â”œâ”€ children: Layer[]
â”œâ”€ visible: boolean
â””â”€ opacity: number

Layer (æ—¢å­˜ - typeè¿½åŠ )
â”œâ”€ type: 'layer'
â””â”€ (æ—¢å­˜ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£)

ğŸ“ ãƒ•ã‚¡ã‚¤ãƒ«åˆ¥æ”¹ä¿®å†…å®¹
1. system/animation-system.js - CUTç®¡ç†ã®ä¸­æ ¸
æ–°è¦è¿½åŠ ãƒ¡ã‚½ãƒƒãƒ‰
javascript

class AnimationSystem {
  constructor(app, coordinateSystem, eventBus) {
    this.cuts = [];
    this.currentCutIndex = 0;
    this._initializeDefaultCut();
  }

  // CUTæ“ä½œ
  createCut(name = `CUT${this.cuts.length + 1}`) {
    // æ–°ã—ã„LayerSystemã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’ç”Ÿæˆ
    // cutsã«è¿½åŠ 
  }

  switchCut(index) {
    // ç¾åœ¨ã®CUTã‚’ä¿å­˜
    // LayerSystemã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’åˆ‡ã‚Šæ›¿ãˆ
    // UIã‚’æ›´æ–°
    // eventBus.emit('cut:switched')
  }

  deleteCut(index) {
    // LayerSystemã‚’dispose
    // cutsã‹ã‚‰å‰Šé™¤
  }

  getCut(index) {
    return this.cuts[index];
  }

  get currentCut() {
    return this.cuts[this.currentCutIndex];
  }

  get currentLayerSystem() {
    return this.currentCut.layerSystem;
  }
}

é‡è¦ãªå®Ÿè£…ãƒã‚¤ãƒ³ãƒˆ

    å„CUTã¯å®Œå…¨ã«ç‹¬ç«‹ã—ãŸLayerSystemã‚’æŒã¤
    CUTåˆ‡ã‚Šæ›¿ãˆæ™‚ã¯app.stageã®å­ã‚’å…¥ã‚Œæ›¿ãˆã‚‹
    æ—¢å­˜ã®layerSystemå‚ç…§ã¯animationSystem.currentLayerSystemã«å¤‰æ›´

2. system/layer-system.js - ãƒ•ã‚©ãƒ«ãƒ€æ©Ÿèƒ½è¿½åŠ 
æ–°è¦è¿½åŠ ãƒ¡ã‚½ãƒƒãƒ‰
javascript

class LayerSystem {
  // ãƒ•ã‚©ãƒ«ãƒ€ä½œæˆ
  createFolder(name = 'æ–°è¦ãƒ•ã‚©ãƒ«ãƒ€', index = 0) {
    const folder = {
      id: crypto.randomUUID(),
      name,
      type: 'folder',
      isOpen: true,
      children: [],
      visible: true,
      opacity: 1
    };
    this.layers.splice(index, 0, folder);
    return folder;
  }

  // ãƒ¬ã‚¤ãƒ¤ãƒ¼ã‚’ãƒ•ã‚©ãƒ«ãƒ€ã«è¿½åŠ 
  addLayerToFolder(layerId, folderId) {
    const layer = this._findLayer(layerId);
    const folder = this._findFolder(folderId);
    // layersã‹ã‚‰å‰Šé™¤ã—ã¦folder.childrenã«è¿½åŠ 
  }

  // ãƒ•ã‚©ãƒ«ãƒ€ã‹ã‚‰ãƒ¬ã‚¤ãƒ¤ãƒ¼ã‚’å–ã‚Šå‡ºã—
  removeLayerFromFolder(layerId, folderId) {
    const folder = this._findFolder(folderId);
    // folder.childrenã‹ã‚‰å‰Šé™¤ã—ã¦layersã«è¿½åŠ 
  }

  // ãƒ•ã‚©ãƒ«ãƒ€é–‹é–‰
  toggleFolder(folderId) {
    const folder = this._findFolder(folderId);
    folder.isOpen = !folder.isOpen;
  }

  // ãƒ•ã‚©ãƒ«ãƒ€å†…å…¨ãƒ¬ã‚¤ãƒ¤ãƒ¼å–å¾—
  getLayersInFolder(folderId) {
    const folder = this._findFolder(folderId);
    return folder ? folder.children : [];
  }

  // å…¨ãƒ¬ã‚¤ãƒ¤ãƒ¼ã‚’ãƒ•ãƒ©ãƒƒãƒˆã«å–å¾— (æç”»é †ç”¨)
  getAllLayersFlat() {
    const result = [];
    for (const item of this.layers) {
      if (item.type === 'folder') {
        result.push(...item.children);
      } else {
        result.push(item);
      }
    }
    return result;
  }

  // å†…éƒ¨ãƒ˜ãƒ«ãƒ‘ãƒ¼
  _findFolder(id) {
    return this.layers.find(item => item.type === 'folder' && item.id === id);
  }

  _findLayer(id) {
    // layerså†…ã¨folder.childrenå†…ã‚’æ¢ç´¢
  }
}

æ—¢å­˜ãƒ¡ã‚½ãƒƒãƒ‰ä¿®æ­£
javascript

// selectLayer() - ãƒ•ã‚©ãƒ«ãƒ€ã‚‚é¸æŠå¯èƒ½ã«
selectLayer(id) {
  const item = this._findLayer(id) || this._findFolder(id);
  this.selectedLayer = item;
}

// render() - ãƒ•ãƒ©ãƒƒãƒˆåŒ–ã—ãŸãƒ¬ã‚¤ãƒ¤ãƒ¼ã§æç”»
render() {
  const flatLayers = this.getAllLayersFlat();
  // æ—¢å­˜ã®æç”»ãƒ­ã‚¸ãƒƒã‚¯
}

3. ui/ui-panels.js - ãƒ¬ã‚¤ãƒ¤ãƒ¼ãƒ‘ãƒãƒ«UI
UIæ§‹é€ å¤‰æ›´

[ãƒ¬ã‚¤ãƒ¤ãƒ¼ãƒ‘ãƒãƒ«]
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚ â—€ CUT1 â–¶        â”‚ â† CUTåˆ‡ã‚Šæ›¿ãˆã‚¨ãƒªã‚¢
  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
  â”‚ [â•Layer] [ğŸ“â•Folder]   â”‚ â† è¿½åŠ ãƒœã‚¿ãƒ³
  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
  â”‚ ğŸ“ ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ [â–¼]     â”‚ â† ãƒ•ã‚©ãƒ«ãƒ€ (é–‹)
  â”‚   â””â”€ ğŸ–¼ï¸ ãƒ¬ã‚¤ãƒ¤ãƒ¼1       â”‚
  â”‚   â””â”€ ğŸ–¼ï¸ ãƒ¬ã‚¤ãƒ¤ãƒ¼2       â”‚
  â”‚ ğŸ“ èƒŒæ™¯ [â–¶]             â”‚ â† ãƒ•ã‚©ãƒ«ãƒ€ (é–‰)
  â”‚ ğŸ–¼ï¸ ä¸‹çµµ                 â”‚ â† é€šå¸¸ãƒ¬ã‚¤ãƒ¤ãƒ¼
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

æ–°è¦è¿½åŠ ãƒ¡ã‚½ãƒƒãƒ‰
javascript

class UIPanel {
  _createCutControls() {
    // CUTåˆ‡ã‚Šæ›¿ãˆUI
    // â—€ CUTå â–¶ + [CUT+]ãƒœã‚¿ãƒ³
  }

  _createFolderButton() {
    // ğŸ“+ ãƒœã‚¿ãƒ³ä½œæˆ
    // ã‚¯ãƒªãƒƒã‚¯ã§layerSystem.createFolder()
  }

  _renderLayerItem(item, depth = 0) {
    // itemãŒfolderãªã‚‰ãƒ•ã‚©ãƒ«ãƒ€UI
    // itemãŒlayerãªã‚‰æ—¢å­˜ãƒ¬ã‚¤ãƒ¤ãƒ¼UI
    // depthã§ã‚¤ãƒ³ãƒ‡ãƒ³ãƒˆèª¿æ•´
  }

  _createFolderUI(folder, depth) {
    const div = document.createElement('div');
    div.style.marginLeft = `${depth * 20}px`;
    
    // ãƒ•ã‚©ãƒ«ãƒ€ã‚¢ã‚¤ã‚³ãƒ³ (é–‹é–‰ã§åˆ‡ã‚Šæ›¿ãˆ)
    const icon = folder.isOpen 
      ? '<svg>...folder-open...</svg>' 
      : '<svg>...folder...</svg>';
    
    // ã‚µãƒ ãƒã‚¤ãƒ«: folder.childrenå…¨ãƒ¬ã‚¤ãƒ¤ãƒ¼ã®åˆæˆç”»åƒ
    const thumbnail = this._generateFolderThumbnail(folder);
    
    return div;
  }

  _generateFolderThumbnail(folder) {
    // Canvas2Dä½¿ç”¨è¨±å¯
    // folder.childrenå†…ã®å…¨ãƒ¬ã‚¤ãƒ¤ãƒ¼ã‚’åˆæˆ
    const canvas = document.createElement('canvas');
    const ctx = canvas.getContext('2d');
    // å„ãƒ¬ã‚¤ãƒ¤ãƒ¼ã®ãƒ†ã‚¯ã‚¹ãƒãƒ£ã‚’æç”»
    return canvas;
  }

  updateLayerList() {
    // animationSystem.currentLayerSystem.layersã‚’èµ°æŸ»
    // ãƒ•ã‚©ãƒ«ãƒ€ã¨ãƒ¬ã‚¤ãƒ¤ãƒ¼ã‚’éšå±¤è¡¨ç¤º
  }
}

SVGã‚¢ã‚¤ã‚³ãƒ³å®šç¾©
javascript

const ICONS = {
  FOLDER: `<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="#800000" stroke-width="1.5"><path d="M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z"/></svg>`,
  
  FOLDER_OPEN: `<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="#800000" stroke-width="1.5"><path d="m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2"/></svg>`,
  
  FOLDER_PLUS: `<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="#800000" stroke-width="1.5"><path d="M12 10v6"/><path d="M9 13h6"/><path d="M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z"/></svg>`
};

4. ui/timeline-ui.js - ã‚¿ã‚¤ãƒ ãƒ©ã‚¤ãƒ³é€£æº
ä¿®æ­£ãƒã‚¤ãƒ³ãƒˆ
javascript

class TimelineUI {
  updateTimeline() {
    // animationSystem.currentCut.framesã‚’è¡¨ç¤º
    // CUTåˆ‡ã‚Šæ›¿ãˆæ™‚ã«è‡ªå‹•æ›´æ–°
  }

  _generateThumbnail(frameIndex) {
    // animationSystem.currentLayerSystem.layersã‹ã‚‰ç”Ÿæˆ
    // ãƒ•ã‚©ãƒ«ãƒ€å†…ãƒ¬ã‚¤ãƒ¤ãƒ¼ã‚‚å«ã‚ã‚‹ (getAllLayersFlatä½¿ç”¨)
  }
}

5. core-engine.js - åˆæœŸåŒ–ã¨ã‚¤ãƒ™ãƒ³ãƒˆçµ±åˆ
ä¿®æ­£å†…å®¹
javascript

class DrawingApp {
  async init() {
    // AnimationSystemã‚’å…ˆã«åˆæœŸåŒ–
    this.animationSystem = new AnimationSystem(this.app, this.coordinateSystem, this.eventBus);
    
    // LayerSystemã¯å‚ç…§ã®ã¿ (AnimationSystemãŒç®¡ç†)
    this.layerSystem = this.animationSystem.currentLayerSystem;
    
    // ã‚¤ãƒ™ãƒ³ãƒˆç™»éŒ²
    this.eventBus.on('cut:switched', () => {
      this.layerSystem = this.animationSystem.currentLayerSystem;
      this._updateAllUI();
    });
  }

  _updateAllUI() {
    this.uiPanel.updateLayerList();
    this.timelineUI.updateTimeline();
  }
}

ğŸ”„ å‹•ä½œãƒ•ãƒ­ãƒ¼
CUTåˆ‡ã‚Šæ›¿ãˆãƒ•ãƒ­ãƒ¼

1. ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒâ—€â–¶ãƒœã‚¿ãƒ³ã‚¯ãƒªãƒƒã‚¯
   â†“
2. AnimationSystem.switchCut(newIndex)
   â†“
3. app.stage.removeChildren()
   â†“
4. newCut.layerSystem._containerã‚’stageã«è¿½åŠ 
   â†“
5. eventBus.emit('cut:switched', { cutIndex, cutName })
   â†“
6. UIPanel.updateLayerList()
7. TimelineUI.updateTimeline()

ãƒ•ã‚©ãƒ«ãƒ€é–‹é–‰ãƒ•ãƒ­ãƒ¼

1. ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒãƒ•ã‚©ãƒ«ãƒ€ã‚¢ã‚¤ã‚³ãƒ³ã‚¯ãƒªãƒƒã‚¯
   â†“
2. LayerSystem.toggleFolder(folderId)
   â†“
3. folder.isOpenã‚’åè»¢
   â†“
4. eventBus.emit('folder:toggled', { folderId, isOpen })
   â†“
5. UIPanel.updateLayerList()
   (å­ãƒ¬ã‚¤ãƒ¤ãƒ¼ã®è¡¨ç¤º/éè¡¨ç¤ºåˆ‡ã‚Šæ›¿ãˆ)

ãƒ¬ã‚¤ãƒ¤ãƒ¼æç”»ãƒ•ãƒ­ãƒ¼

1. ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒæç”»ãƒ„ãƒ¼ãƒ«ã§æã
   â†“
2. animationSystem.currentLayerSystem.selectedLayerå–å¾—
   â†“
3. è©²å½“ãƒ¬ã‚¤ãƒ¤ãƒ¼ã®graphicsã«æç”»
   â†“
4. LayerSystem.render() (ãƒ•ãƒ©ãƒƒãƒˆåŒ–ã—ã¦æç”»)
   â†“
5. TimelineUI._generateThumbnail() (ãƒ•ã‚©ãƒ«ãƒ€å†…ãƒ¬ã‚¤ãƒ¤ãƒ¼å«ã‚€)

âš ï¸ é‡è¦ãªå®Ÿè£…æ³¨æ„ç‚¹
1. LayerSystemå‚ç…§ã®æ›´æ–°

å¤‰æ›´å‰:
javascript

this.layerSystem.selectLayer(id);

å¤‰æ›´å¾Œ:
javascript

this.animationSystem.currentLayerSystem.selectLayer(id);

2. CUTåˆ‡ã‚Šæ›¿ãˆæ™‚ã®ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—
javascript

switchCut(index) {
  // ç¾åœ¨ã®CUTã®çŠ¶æ…‹ã‚’ä¿å­˜
  this.currentCut.layerSystem.saveState();
  
  // Containerã‚’åˆ‡ã‚Šæ›¿ãˆ
  this.app.stage.removeChildren();
  this.currentCutIndex = index;
  this.app.stage.addChild(this.currentCut.layerSystem._container);
  
  // ã‚«ãƒ¡ãƒ©ä½ç½®ã¯CUTé–“ã§å…±æœ‰ (coordinate-system)
}

3. ãƒ•ã‚©ãƒ«ãƒ€ã‚µãƒ ãƒã‚¤ãƒ«ç”Ÿæˆ
javascript

_generateFolderThumbnail(folder) {
  const canvas = document.createElement('canvas');
  canvas.width = 60;
  canvas.height = 60;
  const ctx = canvas.getContext('2d');
  
  // folder.childrenã‚’ä¸‹ã‹ã‚‰é †ã«æç”»
  for (const layer of folder.children) {
    if (!layer.visible) continue;
    
    // PixiJS Textureã‹ã‚‰Canvas2Dã¸å¤‰æ›
    const texture = layer.graphics.texture;
    // ... æç”»å‡¦ç†
  }
  
  return canvas.toDataURL();
}

4. Historyå¯¾å¿œ
javascript

// system/history.js
class History {
  pushState(state) {
    // CUTæƒ…å ±ã‚’å«ã‚ã‚‹
    const snapshot = {
      cutIndex: this.animationSystem.currentCutIndex,
      layerSystemState: this.animationSystem.currentLayerSystem.serialize(),
      timestamp: Date.now()
    };
  }
}

ğŸ¯ æ”¹ä¿®å„ªå…ˆé †ä½
Phase 1: CUTåˆ†é›¢ (æœ€å„ªå…ˆ)

    AnimationSystemã«Cuté…åˆ—è¿½åŠ 
    CUTåˆ‡ã‚Šæ›¿ãˆæ©Ÿèƒ½å®Ÿè£…
    UIã«CUTæ“ä½œUIè¿½åŠ 
    å…¨ã¦ã®layerSystemå‚ç…§ã‚’currentLayerSystemã«å¤‰æ›´

Phase 2: ãƒ¬ã‚¤ãƒ¤ãƒ¼ãƒ•ã‚©ãƒ«ãƒ€

    LayerFolderãƒ‡ãƒ¼ã‚¿æ§‹é€ è¿½åŠ 
    LayerSystem.createFolder/toggleFolderå®Ÿè£…
    UIã«ãƒ•ã‚©ãƒ«ãƒ€UIè¿½åŠ 
    ãƒ•ã‚©ãƒ«ãƒ€ã‚µãƒ ãƒã‚¤ãƒ«ç”Ÿæˆ

Phase 3: çµ±åˆãƒ†ã‚¹ãƒˆ

    CUTé–“ãƒ‡ãƒ¼ã‚¿åˆ†é›¢ç¢ºèª
    ãƒ•ã‚©ãƒ«ãƒ€å†…ãƒ¬ã‚¤ãƒ¤ãƒ¼æç”»ç¢ºèª
    ã‚¿ã‚¤ãƒ ãƒ©ã‚¤ãƒ³ã‚µãƒ ãƒã‚¤ãƒ«ç¢ºèª
    Historyå‹•ä½œç¢ºèª

ğŸ§ª ãƒ†ã‚¹ãƒˆãƒã‚¤ãƒ³ãƒˆ
CUTåˆ†é›¢ãƒ†ã‚¹ãƒˆ

    CUT1ã§æç”»â†’CUT2ã«åˆ‡ã‚Šæ›¿ãˆâ†’CUT1ã®çµµãŒæ¶ˆãˆã¦ã„ã‚‹
    CUT2ã§æç”»â†’CUT1ã«åˆ‡ã‚Šæ›¿ãˆâ†’CUT2ã®çµµãŒè¦‹ãˆãªã„
    å„CUTã®ãƒ¬ã‚¤ãƒ¤ãƒ¼æ•°ãŒç‹¬ç«‹ã—ã¦ã„ã‚‹

ãƒ•ã‚©ãƒ«ãƒ€æ©Ÿèƒ½ãƒ†ã‚¹ãƒˆ

    ãƒ•ã‚©ãƒ«ãƒ€ä½œæˆâ†’ãƒ¬ã‚¤ãƒ¤ãƒ¼è¿½åŠ â†’é–‹é–‰å‹•ä½œ
    ãƒ•ã‚©ãƒ«ãƒ€ã‚µãƒ ãƒã‚¤ãƒ«ã«å­ãƒ¬ã‚¤ãƒ¤ãƒ¼ãŒåˆæˆè¡¨ç¤º
    ãƒ•ã‚©ãƒ«ãƒ€å†…ãƒ¬ã‚¤ãƒ¤ãƒ¼ã¸ã®æç”»ãŒæ­£å¸¸å‹•ä½œ

ã‚¿ã‚¤ãƒ ãƒ©ã‚¤ãƒ³é€£æºãƒ†ã‚¹ãƒˆ

    CUTåˆ‡ã‚Šæ›¿ãˆæ™‚ã«ã‚¿ã‚¤ãƒ ãƒ©ã‚¤ãƒ³æ›´æ–°
    ãƒ•ã‚©ãƒ«ãƒ€å†…ãƒ¬ã‚¤ãƒ¤ãƒ¼ãŒã‚µãƒ ãƒã‚¤ãƒ«ã«åæ˜ 

ğŸ“ è£œè¶³äº‹é …
ãªãœã“ã®ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã‹

    CUT = LayerSystemã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã«ã‚ˆã‚Šå®Œå…¨ãƒ‡ãƒ¼ã‚¿åˆ†é›¢
    ãƒ•ã‚©ãƒ«ãƒ€ã¯è¡¨ç¤ºç®¡ç†ã®ã¿ã§ãƒ‡ãƒ¼ã‚¿æ§‹é€ ã‚’ã‚·ãƒ³ãƒ—ãƒ«åŒ–
    ãƒ•ãƒ©ãƒƒãƒˆåŒ–ãƒ¡ã‚½ãƒƒãƒ‰ã§æç”»å‡¦ç†ã®è¤‡é›‘åŒ–ã‚’å›é¿
    EventBusã§CUTåˆ‡ã‚Šæ›¿ãˆæ™‚ã®è‡ªå‹•UIæ›´æ–°

AIæ”¹ä¿®è€…ã¸ã®é…æ…®

    ãƒ¡ã‚½ãƒƒãƒ‰åã«å½¹å‰²ã‚’æ˜è¨˜ (getAllLayersFlat, currentLayerSystem)
    ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ­ãƒ¼ã‚’ä¸€æ–¹å‘ã«çµ±ä¸€ (AnimationSystem â†’ LayerSystem â†’ UI)
    å„ã‚·ã‚¹ãƒ†ãƒ ã®è²¬å‹™ã‚’æ˜ç¢ºåŒ– (CUTç®¡ç†/ãƒ¬ã‚¤ãƒ¤ãƒ¼ç®¡ç†/UIè¡¨ç¤º)

ä»¥ä¸Šã§æ”¹ä¿®è¨ˆç”»æ›¸ã¯å®Œäº†ã§ã™ã€‚Phase 1ã‹ã‚‰é †ã«å®Ÿè£…ã—ã¦ãã ã•ã„ã€‚ğŸš€


