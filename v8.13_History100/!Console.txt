âœ… config.js (P/E+ãƒ‰ãƒ©ãƒƒã‚°æ©Ÿèƒ½å¯¾å¿œç‰ˆ) loaded
    ğŸ†• tools: ãƒšãƒ³/æ¶ˆã—ã‚´ãƒ ã®ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆè¨­å®šè¿½åŠ 
    ğŸ†• sizeSlots: ã‚µã‚¤ã‚ºã‚¹ãƒ­ãƒƒãƒˆè¨­å®šè¿½åŠ 
    ğŸ†• dragAdjustment: ãƒ‰ãƒ©ãƒƒã‚°èª¿æ•´æ„Ÿåº¦è¨­å®šè¿½åŠ 
    ğŸ†• dragAdjustment.visual: è¦–è¦šãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯è¨­å®šè¿½åŠ 
 ğŸ§­ CoordinateSystem: ã‚·ã‚¹ãƒ†ãƒ çµ±åˆæ”¹ä¿®ç‰ˆ åˆæœŸåŒ–
 âœ… coordinate-system.js loaded (ã‚·ã‚¹ãƒ†ãƒ çµ±åˆæ”¹ä¿®ç‰ˆ)
 ğŸ”§ æ”¹ä¿®å®Œäº†é …ç›®:
   ğŸ†• applyLayerTransform(): çµ±ä¸€ãƒ¬ã‚¤ãƒ¤ãƒ¼å¤‰å½¢API
   ğŸ†• normalizeTransform(): å¤‰å½¢ãƒ‡ãƒ¼ã‚¿æ­£è¦åŒ–
   ğŸ†• combineTransforms(): å¤‰å½¢åˆæˆ
   ğŸ†• screenToWorld/worldToScreen(): ã‚­ãƒ£ãƒƒã‚·ãƒ¥å¯¾å¿œåº§æ¨™å¤‰æ›
   ğŸ†• localToWorld/worldToLocal(): ãƒ¬ã‚¤ãƒ¤ãƒ¼åº§æ¨™å¤‰æ›
   ğŸ†• getLayerBounds(): çµ±ä¸€å¢ƒç•Œå–å¾—
   ğŸ†• distance/angle/normalizeAngle(): æ•°å­¦é–¢æ•°çµ±åˆ
   ğŸ†• normalizeVector/dotProduct/crossProduct(): ãƒ™ã‚¯ãƒˆãƒ«è¨ˆç®—
   ğŸ†• diagnoseReferences(): ã‚·ã‚¹ãƒ†ãƒ çµ±åˆè¨ºæ–­
   ğŸ†• runTransformTests(): åº§æ¨™å¤‰æ›ãƒ†ã‚¹ãƒˆ
   ğŸ†• runPerformanceTest(): ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æ¸¬å®š
   ğŸ”§ EventBuså®Œå…¨çµ±åˆãƒ»ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚·ã‚¹ãƒ†ãƒ 
   ğŸ”§ LayerSystem/CameraSystem/AnimationSystemå‚ç…§çµ±åˆ
   ğŸ”§ åº§æ¨™ç³»æ··åœ¨å•é¡Œãƒ»APIæ–­ç‰‡åŒ–è§£æ¶ˆ
   âœ… PixiJS v8.13 å®Œå…¨å¯¾å¿œ
   âœ… ã‚·ã‚¹ãƒ†ãƒ é–“é€£æºå¼·åŒ–
 âœ… data-models.js (Phase 2: meshVerticeså¯¾å¿œ) loaded
 âœ… system/event-bus.js loaded
 âœ… batch-api.js (Phase 6: Historyçµ±åˆç‰ˆ) loaded
tool-size-manager.js:5 Uncaught TypeError: Cannot read properties of undefined (reading 'tools')
 âœ… system/settings-manager.js loaded
    - è²¬å‹™: è¨­å®šã®æ°¸ç¶šåŒ–ãƒ»ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆç®¡ç†
    - SOLIDåŸå‰‡æº–æ‹ : å˜ä¸€è²¬ä»»
    - EventBusçµ±åˆ: è¨­å®šå¤‰æ›´ã®è³¼èª­ã¨é€šçŸ¥
 âœ… camera-system.js (Phase 4.2: æ‹¡ç¸®ä¸Šä¸‹ä¿®æ­£ç‰ˆ) loaded successfully
    - ğŸ”¥ Space+Shift+ãƒ‰ãƒ©ãƒƒã‚°: ä¸Š=æ‹¡å¤§ã€ä¸‹=ç¸®å°ã«ä¿®æ­£
    - ğŸ”¥ Space+Shift+â†‘: æ‹¡å¤§ã€Space+Shift+â†“: ç¸®å°ã«ä¿®æ­£
 âœ… layer-transform.js loaded
 âœ… layer-system.js (GPT5æ¡ˆä¿®æ­£å®Œå…¨ç‰ˆ) loaded
 âœ… drawing-clipboard.js Phase4æ”¹ä¿®ç‰ˆ+ç¢ºå®šã‚¤ãƒ™ãƒ³ãƒˆ loaded
    - âœ… CTRL+V behavior: overwrite active layer
    - âœ… Commit events: paste:commit, operation:commit
    - âœ… Thumbnail auto-update on paste
 âœ… history.js (Phase 2: EventBusä¿®æ­£ç‰ˆ) loaded
 âœ… animation-system.js (Phase 4.1: CUTè‡ªå‹•æ¡ç•ªå¯¾å¿œç‰ˆ) loaded
 ğŸ”§ [BrushSettings] Starting registration...
brush-settings.js:296 âœ… [BrushSettings] Created window.TegakiDrawing namespace
brush-settings.js:309 âœ… [BrushSettings] Registered successfully:
brush-settings.js:310    - window.TegakiDrawing.BrushSettings: true
brush-settings.js:311    - window.BrushSettings: true
brush-settings.js:312    - globalThis.BrushSettings: true
brush-settings.js:314 âœ… brush-settings.js loaded completely
drawing-engine.js:508 âœ… drawing-engine.js v7.8 loaded (å¼·åˆ¶EventBusçµ±åˆç‰ˆ)
export-manager.js:259 âœ… export-manager.js loaded
png-exporter.js:85 âœ… png-exporter.js (å˜ä¸€ãƒ•ãƒ¬ãƒ¼ãƒ å°‚ç”¨ãƒ»ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼å¯¾å¿œ) loaded
apng-exporter.js:236 âœ… apng-exporter.js (PixiJS v8.13å®Œå…¨å¯¾å¿œç‰ˆ) loaded
gif-exporter.js:300 âœ… gif-exporter.js (PixiJS v8.13å®Œå…¨å¯¾å¿œç‰ˆ) loaded
slider-utils.js:197 âœ… ui/slider-utils.js loaded
slider-utils.js:198    - è²¬å‹™: ã‚¹ãƒ©ã‚¤ãƒ€ãƒ¼UIã®çµ±ä¸€å®Ÿè£…
slider-utils.js:199    - DRYåŸå‰‡: settings-popup.js ã¨ ui-panels.js ã§å…±æœ‰
slider-utils.js:200    - API: createSlider() / createSimpleSlider()
drag-visual-feedback.js:182 âœ… drag-visual-feedback.js loaded (ã‚«ãƒ¼ã‚½ãƒ«è¿½å¾“æ”¹å–„)
keyboard-handler.js:598 âœ… keyboard-handler.js loaded (P/E+ãƒ‰ãƒ©ãƒƒã‚°ä¿®æ­£ç‰ˆ)
timeline-ui.js:977 âœ… timeline-ui.js (Phase 5.2: ã‚­ãƒ¼å‡¦ç†ä¸€å…ƒåŒ–ç‰ˆ) loaded
timeline-ui.js:978    - ğŸ”¥ setupKeyboardShortcuts()ã‚’å‰Šé™¤ï¼ˆã‚­ãƒ¼å‡¦ç†ã¯UnifiedKeyHandlerã«ä¸€å…ƒåŒ–ï¼‰
timeline-ui.js:979    - ğŸ”¥ goToPreviousCutSafe()ã¨goToNextCutSafe()ã¯publicãƒ¡ã‚½ãƒƒãƒ‰ã¨ã—ã¦ç¶­æŒ
timeline-ui.js:980    - ğŸ”¥ togglePlayStop()ã‚‚publicãƒ¡ã‚½ãƒƒãƒ‰ã¨ã—ã¦ç¶­æŒ
tool-size-popup.js:282 âœ… tool-size-popup.js loaded
tool-size-popup.js:283 Debug: window.ToolSizePopup.forceShow("pen") to test
core-initializer.js:455 âœ… core-initializer.js (P/E+ãƒ‰ãƒ©ãƒƒã‚°å¯¾å¿œç‰ˆ) loaded
core-runtime.js:781 âœ… core-runtime.js v2.1 loaded
core-runtime.js:782   âœ… Phase 12: PixiJS EventSystemçµ±åˆ
core-runtime.js:783   âœ… FederatedPointerEventå¯¾å¿œ
core-runtime.js:784   âœ… stage.eventModeè¨­å®š
core-runtime.js:785   âœ… ğŸ†• v2.1: è¨­å®šé–¢é€£APIè¿½åŠ 
core-runtime.js:786      - setPressureCorrection()
core-runtime.js:787      - setSmoothing()
core-runtime.js:788      - setPressureCurve()
core-runtime.js:789      - getSettings()
core-runtime.js:790      - updateSettings()
core-runtime.js:791      - resetSettings()
core-runtime.js:792      - getSettingsManager()
core-runtime.js:793   âœ… window.startTegakiApp() registered
core-runtime.js:794   âœ… APNGExporterç™»éŒ²å¯¾å¿œ
core-runtime.js:795   âœ… æ—¢å­˜æ©Ÿèƒ½å®Œå…¨ç¶­æŒ
core-engine.js:850 âœ… core-engine.js (GPT5æ¡ˆä¿®æ­£å®Œå…¨ç‰ˆ) loaded
coordinate-system.js:63 ğŸ”— CoordinateSystem EventBus integration configured
coordinate-system.js:47 âœ… CoordinateSystem initialized with canvas: 344x135
coordinate-system.js:757 ğŸ”„ CoordinateSystem auto-initialized
index.html:79 ğŸš€ Starting application with Tool Size Popup...
index.html:83 ğŸ“¦ Checking dependencies...
index.html:84   PIXI: true
index.html:85   TegakiDrawing: true
index.html:86   BrushSettings: true
index.html:87   ToolSizeManager: false
index.html:88   ToolSizePopup: true
index.html:89   KeyboardHandler: true
drawing-clipboard.js:19 DrawingClipboard: Initializing...
drawing-clipboard.js:26 âœ… DrawingClipboard initialized (Phase4æ”¹ä¿®ç‰ˆ + ç¢ºå®šã‚¤ãƒ™ãƒ³ãƒˆ)
coordinate-system.js:75 ğŸ”— CameraSystem reference set in CoordinateSystem
coordinate-system.js:70 ğŸ”— LayerSystem reference set in CoordinateSystem
coordinate-system.js:80 ğŸ”— AnimationSystem reference set in CoordinateSystem
core-runtime.js:51 === CoreRuntime Phase 12: PixiJS EventSystemçµ±åˆç‰ˆ åˆæœŸåŒ–é–‹å§‹ ===
core-runtime.js:203 âœ… CUTä½œæˆ: CUT1 (344x135)
core-runtime.js:231 ğŸ”„ CUTåˆ‡æ›¿: CUT1
core-runtime.js:101 âœ… PixiJS EventSystemè¨­å®šå®Œäº†
core-runtime.js:68 âœ… CoreRuntime åˆæœŸåŒ–å®Œäº†ï¼ˆPhase 12å¯¾å¿œï¼‰
ui-panels.js:160 [UIController] Setting up event delegation
index.html:118 âœ… Application ready!
index.html:119 ğŸ“ Usage:
index.html:120   - Click Pen/Eraser icon: Open size popup
index.html:121   - Press P/E: Switch tool (no popup)
index.html:122   - Press P/E + drag: Adjust size/opacity
index.html:123 
index.html:124 ğŸ”§ Debug commands:
index.html:125   - testToolSizePopup("pen") or testToolSizePopup("eraser")
index.html:126   - window.ToolSizePopup.getDebugInfo()
core-runtime.js:689 âœ… ExportSystem initialized (PNG/APNG/GIF/WebP)
ui-panels.js:165 [UIController] Tool button clicked: pen-tool
ui-panels.js:200 [UIController] Tool clicked: pen-tool iconClickMode: true
ui-panels.js:208 [UIController] Showing tool size popup for pen
ui-panels.js:146 [UIController] showToolSizePopup called for: pen
ui-panels.js:147 [UIController] ToolSizePopup exists: true
tool-size-popup.js:217 [ToolSizePopup] show() called for tool: pen
tool-size-popup.js:218 [ToolSizePopup] CONFIG exists: false
tool-size-popup.js:219 [ToolSizePopup] ToolSizeManager exists: false
tool-size-popup.js:222 [ToolSizePopup] Creating popup DOM...
tool-size-popup.js:33 [ToolSizePopup] Creating popup DOM...
tool-size-popup.js:36 [ToolSizePopup] CONFIG.toolSizePopup not found!
createPopupDOM @ tool-size-popup.js:36
tool-size-popup.js:224 Uncaught TypeError: Failed to execute 'appendChild' on 'Node': parameter 1 is not of type 'Node'.
ui-panels.js:165 [UIController] Tool button clicked: eraser-tool
ui-panels.js:200 [UIController] Tool clicked: eraser-tool iconClickMode: true
ui-panels.js:221 [UIController] Showing tool size popup for eraser
ui-panels.js:146 [UIController] showToolSizePopup called for: eraser
ui-panels.js:147 [UIController] ToolSizePopup exists: true
tool-size-popup.js:217 [ToolSizePopup] show() called for tool: eraser
tool-size-popup.js:218 [ToolSizePopup] CONFIG exists: false
tool-size-popup.js:219 [ToolSizePopup] ToolSizeManager exists: false
tool-size-popup.js:222 [ToolSizePopup] Creating popup DOM...
tool-size-popup.js:33 [ToolSizePopup] Creating popup DOM...
tool-size-popup.js:36 [ToolSizePopup] CONFIG.toolSizePopup not found!
createPopupDOM @ tool-size-popup.js:36
tool-size-popup.js:224 Uncaught TypeError: Failed to execute 'appendChild' on 'Node': parameter 1 is not of type 'Node'.
ui-panels.js:165 [UIController] Tool button clicked: eraser-tool
ui-panels.js:200 [UIController] Tool clicked: eraser-tool iconClickMode: true
ui-panels.js:221 [UIController] Showing tool size popup for eraser
ui-panels.js:146 [UIController] showToolSizePopup called for: eraser
ui-panels.js:147 [UIController] ToolSizePopup exists: true
tool-size-popup.js:217 [ToolSizePopup] show() called for tool: eraser
tool-size-popup.js:218 [ToolSizePopup] CONFIG exists: false
tool-size-popup.js:219 [ToolSizePopup] ToolSizeManager exists: false
tool-size-popup.js:222 [ToolSizePopup] Creating popup DOM...
tool-size-popup.js:33 [ToolSizePopup] Creating popup DOM...
tool-size-popup.js:36 [ToolSizePopup] CONFIG.toolSizePopup not found!
createPopupDOM @ tool-size-popup.js:36
tool-size-popup.js:224 Uncaught TypeError: Failed to execute 'appendChild' on 'Node': parameter 1 is not of type 'Node'.
ui-panels.js:165 [UIController] Tool button clicked: resize-tool
ui-panels.js:200 [UIController] Tool clicked: resize-tool iconClickMode: true
ui-panels.js:165 [UIController] Tool button clicked: resize-tool
ui-panels.js:200 [UIController] Tool clicked: resize-tool iconClickMode: true
testToolSizePopup("pen")    // ãƒšãƒ³ç”¨ãƒãƒƒãƒ—ã‚¢ãƒƒãƒ—
testToolSizePopup("eraser") // æ¶ˆã—ã‚´ãƒ ç”¨ãƒãƒƒãƒ—ã‚¢ãƒƒãƒ—
index.html:103 === Testing Tool Size Popup ===
index.html:104 ToolSizePopup exists: true
index.html:105 ToolSizeManager exists: false
index.html:106 CONFIG exists: false
index.html:107 EventBus exists: false
index.html:110 Debug info: {popupExists: false, isVisible: null, currentTool: null, slotElementsCount: 0, hasSlider: false, â€¦}
index.html:111 Calling forceShow...
tool-size-popup.js:255 [ToolSizePopup] Force showing popup for: pen
tool-size-popup.js:217 [ToolSizePopup] show() called for tool: pen
tool-size-popup.js:218 [ToolSizePopup] CONFIG exists: false
tool-size-popup.js:219 [ToolSizePopup] ToolSizeManager exists: false
tool-size-popup.js:222 [ToolSizePopup] Creating popup DOM...
tool-size-popup.js:33 [ToolSizePopup] Creating popup DOM...
tool-size-popup.js:36 [ToolSizePopup] CONFIG.toolSizePopup not found!
createPopupDOM @ tool-size-popup.js:36
show @ tool-size-popup.js:223
forceShow @ tool-size-popup.js:256
window.testToolSizePopup @ index.html:112
(anonymous) @ VM83:1
tool-size-popup.js:224 Uncaught TypeError: Failed to execute 'appendChild' on 'Node': parameter 1 is not of type 'Node'.
    at show (tool-size-popup.js:224:21)
    at Object.forceShow (tool-size-popup.js:256:5)
    at window.testToolSizePopup (index.html:112:46)
    at <anonymous>:1:1
show @ tool-size-popup.js:224
forceShow @ tool-size-popup.js:256
window.testToolSizePopup @ index.html:112
(anonymous) @ VM83:1
window.ToolSizePopup.getDebugInfo()
{popupExists: false, isVisible: null, currentTool: null, slotElementsCount: 0, hasSlider: false, â€¦}
window.ToolSizeManager.getState('pen')
window.ToolSizeManager.getState('eraser')
VM91:1 Uncaught TypeError: Cannot read properties of undefined (reading 'getState')
    at <anonymous>:1:24
(anonymous) @ VM91:1
window.EventBus._listeners // ã‚¤ãƒ™ãƒ³ãƒˆãƒªã‚¹ãƒŠãƒ¼ä¸€è¦§
VM95:1 Uncaught TypeError: Cannot read properties of undefined (reading '_listeners')
    at <anonymous>:1:17
(anonymous) @ VM95:1