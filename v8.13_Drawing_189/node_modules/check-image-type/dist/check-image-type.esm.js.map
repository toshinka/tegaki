{"version":3,"file":"check-image-type.esm.js","sources":["../src/type.ts","../src/index.ts"],"sourcesContent":["export type Input = Uint8Array;\r\n\r\nexport const WEBP = {\r\n  ext: \"webp\",\r\n  mime: \"image/webp\",\r\n} as const;\r\nexport type WEBP_TYPE = typeof WEBP;\r\n\r\nexport const JPG = {\r\n  ext: \"jpg\",\r\n  mime: \"image/jpeg\",\r\n} as const;\r\nexport type JPG_TYPE = typeof JPG;\r\n\r\nexport const PNG = {\r\n  ext: \"png\",\r\n  mime: \"image/png\",\r\n} as const;\r\nexport type PNG_TYPE = typeof PNG;\r\n\r\nexport const BMP = {\r\n  ext: \"bmp\",\r\n  mime: \"image/bmp\",\r\n} as const;\r\nexport type BMP_TYPE = typeof BMP;\r\n\r\nexport const GIF = {\r\n  ext: \"gif\",\r\n  mime: \"image/gif\",\r\n} as const;\r\nexport type GIF_TYPE = typeof GIF;\r\n\r\nexport const AVIF = {\r\n  ext: \"avif\",\r\n  mime: \"image/avif\",\r\n} as const;\r\nexport type AVIF_TYPE = typeof AVIF;\r\n\r\nexport const HEIC = {\r\n  ext: \"heic\",\r\n  mime: \"image/heic\",\r\n} as const;\r\nexport type HEIC_TYPE = typeof HEIC;\r\n\r\nexport const BPG = {\r\n  ext: \"bpg\",\r\n  mime: \"image/bpg\",\r\n} as const;\r\nexport type BPG_TYPE = typeof BPG;\r\n\r\nexport const ICO = {\r\n  ext: \"ico\",\r\n  mime: \"image/ico\",\r\n} as const;\r\nexport type ICO_TYPE = typeof ICO;\r\n\r\nexport const PSD = {\r\n  ext: \"psd\",\r\n  mime: \"image/vnd.adobe.photoshop\",\r\n} as const;\r\nexport type PSD_TYPE = typeof PSD;\r\n\r\nexport const JXR = {\r\n  ext: \"jxr\",\r\n  mime: \"image/vnd.ms-photo\",\r\n} as const;\r\nexport type JXR_TYPE = typeof JXR;\r\nexport const FLIF = {\r\n  ext: \"flif\",\r\n  mime: \"image/flif\",\r\n} as const;\r\nexport type FLIF_TYPE = typeof FLIF;\r\n\r\nexport const ICNS = {\r\n  ext: \"icns\",\r\n  mime: \"image/icns\",\r\n} as const;\r\nexport type ICNS_TYPE = typeof ICNS;\r\nexport const ORF = {\r\n  ext: \"orf\",\r\n  mime: \"image/x-olympus-orf\",\r\n} as const;\r\nexport type ORF_TYPE = typeof ORF;\r\nexport const XCF = {\r\n  ext: \"xcf\",\r\n  mime: \"image/x-xcf\",\r\n} as const;\r\nexport type XCF_TYPE = typeof XCF;\r\nexport const RW2 = {\r\n  ext: \"rw2\",\r\n  mime: \"image/x-panasonic-rw2\",\r\n} as const;\r\nexport type RW2_TYPE = typeof RW2;\r\nexport const KTX = {\r\n  ext: \"ktx\",\r\n  mime: \"image/ktx\",\r\n} as const;\r\nexport type KTX_TYPE = typeof KTX;\r\nexport const JXL = {\r\n  ext: \"jxl\",\r\n  mime: \"image/jxl\",\r\n} as const;\r\nexport type JXL_TYPE = typeof JXL;\r\nexport const CUR = {\r\n  ext: \"cur\",\r\n  mime: \"image/x-icon\",\r\n} as const;\r\nexport type CUR_TYPE = typeof CUR;\r\nexport const RAF = {\r\n  ext: \"raf\",\r\n  mime: \"image/x-fujifilm-raf\",\r\n} as const;\r\nexport type RAF_TYPE = typeof RAF;\r\n\r\nexport type ImageType =\r\n  | WEBP_TYPE\r\n  | PNG_TYPE\r\n  | JPG_TYPE\r\n  | GIF_TYPE\r\n  | BMP_TYPE\r\n  | AVIF_TYPE\r\n  | HEIC_TYPE\r\n  | BPG_TYPE\r\n  | ICO_TYPE\r\n  | PSD_TYPE\r\n  | JXR_TYPE\r\n  | FLIF_TYPE\r\n  | ICNS_TYPE\r\n  | ORF_TYPE\r\n  | XCF_TYPE\r\n  | RW2_TYPE\r\n  | KTX_TYPE\r\n  | JXL_TYPE\r\n  | RAF_TYPE\r\n  | CUR_TYPE\r\nexport type ImageMime = ImageType[\"mime\"];\r\nexport type ImageExt = ImageType[\"ext\"];\r\n","import {\r\n  ImageType,\r\n  Input,\r\n  WEBP,\r\n  JPG,\r\n  PNG,\r\n  GIF,\r\n  BMP,\r\n  AVIF,\r\n  HEIC,\r\n  BPG,\r\n  ICO,\r\n  PSD,\r\n  JXR,\r\n  FLIF,\r\n  ICNS,\r\n  ORF,\r\n  XCF,\r\n  RW2,\r\n  KTX,\r\n  JXL,\r\n  CUR,\r\n  RAF,\r\n} from \"./type\";\r\n\r\nexport * from \"./type\";\r\n\r\ntype Option = {\r\n  offset: number;\r\n};\r\nconst defaultOption: Option = {\r\n  offset: 0,\r\n} as const;\r\n\r\nconst check = (\r\n  buffer: Input,\r\n  data: number[],\r\n  option?: Partial<Option>\r\n): boolean => {\r\n  const { offset } = { ...defaultOption, ...option };\r\n  return data.every((v, k) => buffer[k + offset] === v);\r\n};\r\n\r\nconst checkString = (buffer: Input, str: string, option?: Partial<Option>) => {\r\n  return check(\r\n    buffer,\r\n    Array.from(str).map((i) => i.charCodeAt(0)),\r\n    option\r\n  );\r\n};\r\nexport const isBMP = (buffer: Input) => {\r\n  if (!buffer || buffer.length < 2) {\r\n    return false;\r\n  }\r\n  return check(buffer, [0x42, 0x4d]);\r\n};\r\n\r\nexport const isGIF = (buffer: Input) => {\r\n  if (!buffer || buffer.length < 3) {\r\n    return false;\r\n  }\r\n  return check(buffer, [0x47, 0x49, 0x46]);\r\n};\r\n\r\nexport const isJPG = (buffer: Input) => {\r\n  if (!buffer || buffer.length < 3) {\r\n    return false;\r\n  }\r\n  return check(buffer, [0xff, 0xd8, 0xff]);\r\n};\r\nexport const isJXR = (buffer: Input) => {\r\n  if (!buffer || buffer.length < 3) {\r\n    return false;\r\n  }\r\n  return check(buffer, [0x49, 0x49, 0xbc]);\r\n};\r\nexport const isFLIF = (buffer: Input) => {\r\n  if (!buffer || buffer.length < 4) {\r\n    return false;\r\n  }\r\n  return checkString(buffer, \"FLIF\");\r\n};\r\nexport const isXCF = (buffer: Input) => {\r\n  if (!buffer || buffer.length < 12) {\r\n    return false;\r\n  }\r\n  return checkString(buffer, \"gimp xcf \");\r\n};\r\nexport const isORF = (buffer: Input) => {\r\n  if (!buffer || buffer.length < 12) {\r\n    return false;\r\n  }\r\n  return check(buffer, [0x49, 0x49, 0x52, 0x4f, 0x08, 0x00, 0x00, 0x00, 0x18]);\r\n};\r\nexport const isRW2 = (buffer: Input) => {\r\n  if (!buffer || buffer.length < 12) {\r\n    return false;\r\n  }\r\n  return check(buffer, [\r\n    0x49,\r\n    0x49,\r\n    0x55,\r\n    0x00,\r\n    0x18,\r\n    0x00,\r\n    0x00,\r\n    0x00,\r\n    0x88,\r\n    0xe7,\r\n    0x74,\r\n    0xd8,\r\n  ]);\r\n};\r\nexport const isPNG = (buffer: Input) => {\r\n  if (!buffer || buffer.length < 8) {\r\n    return false;\r\n  }\r\n  return check(buffer, [0x89, 0x50, 0x4e, 0x47, 0x0d, 0x0a, 0x1a, 0x0a]);\r\n};\r\n\r\nexport const isWEBP = (buffer: Input) => {\r\n  if (!buffer || buffer.length < 12) {\r\n    return false;\r\n  }\r\n  return checkString(buffer, \"WEBP\", { offset: 8 });\r\n};\r\nexport const isICNS = (buffer: Input) => {\r\n  if (!buffer || buffer.length < 12) {\r\n    return false;\r\n  }\r\n  return checkString(buffer, \"icns\");\r\n};\r\nexport const isAVIF = (buffer: Input) => {\r\n  if (!buffer || buffer.length < 12) {\r\n    return false;\r\n  }\r\n  return checkString(buffer, \"ftypavif\", { offset: 4 });\r\n};\r\nexport const isHEIC = (buffer: Input) => {\r\n  if (!buffer || buffer.length < 12) {\r\n    return false;\r\n  }\r\n  return (\r\n    checkString(buffer, \"ftyp\", { offset: 4 }) &&\r\n    (checkString(buffer, \"mif1\", { offset: 8 }) ||\r\n      checkString(buffer, \"msf1\", { offset: 8 }) ||\r\n      checkString(buffer, \"heic\", { offset: 8 }) ||\r\n      checkString(buffer, \"heix\", { offset: 8 }) ||\r\n      checkString(buffer, \"hevc\", { offset: 8 }) ||\r\n      checkString(buffer, \"hevx\", { offset: 8 }))\r\n  );\r\n};\r\n\r\nexport const isBPG = (buffer: Input) => {\r\n  if (!buffer || buffer.length < 12) {\r\n    return false;\r\n  }\r\n  return check(buffer, [0x42, 0x50, 0x47, 0xfb]);\r\n};\r\nexport const isICO = (buffer: Input) => {\r\n  if (!buffer || buffer.length < 12) {\r\n    return false;\r\n  }\r\n  return check(buffer, [0x00, 0x00, 0x01, 0x00]);\r\n};\r\nexport const isPSD = (buffer: Input) => {\r\n  if (!buffer || buffer.length < 12) {\r\n    return false;\r\n  }\r\n  return checkString(buffer, \"8BPS\");\r\n};\r\nexport const isKTX = (buffer: Input) => {\r\n  if (!buffer || buffer.length < 12) {\r\n    return false;\r\n  }\r\n  return check(buffer, [\r\n    0xab,\r\n    0x4b,\r\n    0x54,\r\n    0x58,\r\n    0x20,\r\n    0x31,\r\n    0x31,\r\n    0xbb,\r\n    0x0d,\r\n    0x0a,\r\n    0x1a,\r\n    0x0a,\r\n  ]);\r\n};\r\nexport const isJXL = (buffer: Input) => {\r\n  if (!buffer || buffer.length < 12) {\r\n    return false;\r\n  }\r\n  return (\r\n    check(buffer, [0xff, 0x0a]) ||\r\n    check(buffer, [\r\n      0x00,\r\n      0x00,\r\n      0x00,\r\n      0x0c,\r\n      0x4a,\r\n      0x58,\r\n      0x4c,\r\n      0x20,\r\n      0x0d,\r\n      0x0a,\r\n      0x87,\r\n      0x0a,\r\n    ])\r\n  );\r\n};\r\nexport const isCUR = (buffer: Input) => {\r\n  if (!buffer || buffer.length < 12) {\r\n    return false;\r\n  }\r\n  return check(buffer, [0x00, 0x00, 0x02, 0x00]);\r\n};\r\nexport const isRAF = (buffer: Input) => {\r\n  if (!buffer || buffer.length < 12) {\r\n    return false;\r\n  }\r\n  return checkString(buffer, \"FUJIFILMCCD-RAW\");\r\n};\r\nconst pipe: [(buffer: Input) => boolean, ImageType][] = [\r\n  [isJPG, JPG],\r\n  [isPNG, PNG],\r\n  [isGIF, GIF],\r\n  [isWEBP, WEBP],\r\n  [isBMP, BMP],\r\n  [isAVIF, AVIF],\r\n  [isHEIC, HEIC],\r\n  [isICO, ICO],\r\n  [isBPG, BPG],\r\n  [isPSD, PSD],\r\n  [isJXR, JXR],\r\n  [isFLIF, FLIF],\r\n  [isICNS, ICNS],\r\n  [isXCF, XCF],\r\n  [isRW2, RW2],\r\n  [isKTX, KTX],\r\n  [isJXL, JXL],\r\n  [isCUR, CUR],\r\n  [isORF, ORF],\r\n  [isRAF, RAF],\r\n];\r\nexport const checkImage = (buffer: Input): ImageType | undefined => {\r\n  for (const [fun, type] of pipe) {\r\n    if (fun(buffer)) return type;\r\n  }\r\n  return undefined;\r\n};\r\n"],"names":["WEBP","ext","mime","JPG","PNG","BMP","GIF","AVIF","HEIC","BPG","ICO","PSD","JXR","FLIF","ICNS","ORF","XCF","RW2","KTX","JXL","CUR","RAF","defaultOption","offset","check","buffer","data","option","every","v","k","checkString","str","Array","from","map","i","charCodeAt","isBMP","length","isGIF","isJPG","isJXR","isFLIF","isXCF","isORF","isRW2","isPNG","isWEBP","isICNS","isAVIF","isHEIC","isBPG","isICO","isPSD","isKTX","isJXL","isCUR","isRAF","pipe","checkImage","fun","type","undefined"],"mappings":"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"}