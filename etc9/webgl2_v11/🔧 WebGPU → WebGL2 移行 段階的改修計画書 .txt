================================================================================
WebGPU â†’ WebGL2 ç§»è¡Œ æ®µéšçš„æ”¹ä¿®è¨ˆç”»æ›¸ rev.1
PerfectFreehand + MSDF ãƒãƒªã‚´ãƒ³ãƒšãƒ³å®Ÿè£…
================================================================================

ã€ç›®çš„ã€‘
WebGPUå®Ÿè£…ï¼ˆwebgpu_v8ï¼‰ã‚’WebGL2ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã«æœ€å°å¤‰æ›´ã§ç§»è¡Œ
PerfectFreehand + MSDFï¼ˆJFAï¼‰æ©Ÿèƒ½ã‚’ç¶­æŒã—ã€Pixi/UIè¡çªã‚’å›é¿
æ—¢å­˜ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æ¥µåŠ›æµç”¨ã€GPUå±¤ã¨ã‚·ã‚§ãƒ¼ãƒ€ãƒ¼ã®ã¿ç½®æ›

ã€ç§»è¡Œæ–¹é‡ã€‘
âœ… ä¿æŒ: coordinate-system, pointer-handler, drawing-engine, brush-core, 
        stroke-recorder, layer-system, UIå±¤ ç­‰ã®ãƒ­ã‚¸ãƒƒã‚¯å±¤
ğŸ”§ ç½®æ›: WebGPUå›ºæœ‰GPUå±¤ã€WGSLâ†’GLSLã‚·ã‚§ãƒ¼ãƒ€ãƒ¼ç¾¤
ğŸ“¦ æ–°è¦: WebGL2ãƒ©ãƒƒãƒ‘ãƒ¼å±¤ï¼ˆæ—¢å­˜å‘¼ã³å‡ºã—ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ç¶­æŒï¼‰

================================================================================
â–  ç¬¬1éƒ¨: ç¾çŠ¶ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£åˆ†æ
================================================================================

ã€è¦ªå­ãƒ¡ã‚½ãƒƒãƒ‰ãƒãƒƒãƒ— - ä¸»è¦ãƒ•ãƒ­ãƒ¼ã€‘

ğŸ”€ æç”»é–‹å§‹ãƒ•ãƒ­ãƒ¼
core-initializer.initialize()
  â†’ WebGPUDrawingLayer.initialize()        [âŒ ç½®æ›å¯¾è±¡]
  â†’ DrawingEngine.initializeCanvas()       [âœ… ä¿æŒ]
  â†’ PointerHandler.attach()                [âœ… ä¿æŒ]

ğŸ”€ ãƒã‚¤ãƒ³ã‚¿ãƒ¼å…¥åŠ›ãƒ•ãƒ­ãƒ¼
PointerEvent (webgpu-canvas)               [ğŸ”§ canvas IDå¤‰æ›´æ¤œè¨]
  â†’ drawing-engine._handlePointerDown()    [âœ… ä¿æŒ]
  â†’ brush-core.startStroke()               [âœ… ä¿æŒ]
  â†’ stroke-recorder.startStroke()          [âœ… ä¿æŒ]
  â†’ stroke-recorder.addPoint()             [âœ… ä¿æŒ]

ğŸ”€ ã‚¹ãƒˆãƒ­ãƒ¼ã‚¯ç”Ÿæˆãƒ•ãƒ­ãƒ¼
brush-core.finalizeStroke()                [âœ… ä¿æŒã€GPUå‘¼ã³å‡ºã—éƒ¨å¤‰æ›´]
  â†’ stroke-recorder.getRawPoints()         [âœ… ä¿æŒ]
  â†’ gpu-stroke-processor.createPolygonVertexBuffer()  [âŒ ç½®æ›]
  â†’ gpu-stroke-processor.createEdgeBuffer()          [âŒ ç½®æ›]
  â†’ msdf-pipeline-manager.generateMSDF()             [âŒ ç½®æ›]
      â†’ _clearSeedTexture()                [âŒ ç½®æ›: FBO clear]
      â†’ _seedInitPass()                    [âŒ ç½®æ›: Fragment shader]
      â†’ _executeJFA()                      [âŒ ç½®æ›: Ping-pong FBO]
      â†’ _encodePass()                      [âŒ ç½®æ›: Fragment shader]
      â†’ _renderMSDFPolygon()               [âŒ ç½®æ›: VBOæç”»]
  â†’ webgpu-texture-bridge.createSpriteFromGPUTexture() [âŒ ç½®æ›]

ğŸ”€ åº§æ¨™å¤‰æ›ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ï¼ˆå®Œå…¨ä¿æŒï¼‰
PointerEvent.clientX/Y
  â†’ coordinate-system.screenClientToCanvas()         [âœ… ä¿æŒ]
  â†’ coordinate-system.canvasToWorld()                [âœ… ä¿æŒ]
  â†’ coordinate-system.worldToLocal()                 [âœ… ä¿æŒ]
  â†’ stroke-recorder.addPoint(localX, localY)         [âœ… ä¿æŒ]

ã€ã‚·ãƒ³ãƒœãƒ«è¾å…¸ - ç½®æ›å¯¾è±¡ã®ç‰¹å®šã€‘

ğŸ“ WebGPUå›ºæœ‰ï¼ˆå®Œå…¨ç½®æ›ï¼‰
webgpu-drawing-layer.js
  â†³ window.WebGPUDrawingLayer (Singleton)
  â†³ .initialize() : adapter/device/contextå–å¾—
  â†³ .getDevice() : GPU operationsç”¨
  â†³ .getCanvas() : #webgpu-canvasè¿”å´
  â†’ WebGL2: gl = canvas.getContext('webgl2')

gpu-stroke-processor.js
  â†³ window.GPUStrokeProcessor (Singleton)
  â†³ .createPolygonVertexBuffer(points, size) : PFâ†’Earcutâ†’Float32Array
  â†³ .createEdgeBuffer(points, size) : PFã‚¢ã‚¦ãƒˆãƒ©ã‚¤ãƒ³â†’Edgeé…åˆ—
  â†³ .uploadToGPU(data, usage) : GPUBufferç”Ÿæˆ
  â†’ WebGL2: gl.createBuffer() + gl.bufferData()

msdf-pipeline-manager.js
  â†³ window.MSDFPipelineManager (Singleton)
  â†³ .generateMSDF(gpuBuffer, bounds, ...) : Full pipeline
  â†³ ._clearSeedTexture() : WGSL compute
  â†³ ._seedInitPass() : WGSL compute
  â†³ ._executeJFA() : Ping-pong passes
  â†³ ._encodePass() : Distance encoding
  â†³ ._renderMSDFPolygon() : Render pipeline
  â†’ WebGL2: FBO + GLSL fragment shaders

webgpu-texture-bridge.js
  â†³ window.WebGPUTextureBridge (Singleton)
  â†³ .createSpriteFromGPUTexture(gpuTex, w, h) : GPUTextureâ†’PIXI.Sprite
  â†’ WebGL2: WebGLTextureâ†’PIXI.Sprite (gl.bindTextureå‡¦ç†)

webgpu-mask-layer.js
  â†³ window.WebGPUMaskLayer (Instance)
  â†³ æ¶ˆã—ã‚´ãƒ ãƒã‚¹ã‚¯å‡¦ç†
  â†’ WebGL2: Separate FBO for mask operations

ğŸ“„ WGSLç¾¤ï¼ˆGLSLå¤‰æ›ï¼‰
system/drawing/msdf/*.wgsl
  - msdf-seed-init.wgsl     â†’ seed-init.frag.glsl
  - msdf-jfa-pass.wgsl      â†’ jfa-pass.frag.glsl
  - msdf-encode.wgsl        â†’ encode.frag.glsl
  - msdf-compose.wgsl       â†’ compose.frag.glsl [æœªä½¿ç”¨ãªã‚‰å‰Šé™¤]
  - msdf-render.wgsl        â†’ render.frag.glsl
  - msdf-quad-expansion.wgslâ†’ quad-expansion.vert.glsl

ğŸ“ ä¿æŒãƒ»å¾®ä¿®æ­£
drawing-engine.js
  ğŸ” _initializeCanvas() : WebGPUDrawingLayerâ†’WebGL2DrawingLayerå‘¼ã³å‡ºã—å¤‰æ›´
  âœ… åº§æ¨™å¤‰æ›ãƒ­ã‚¸ãƒƒã‚¯å®Œå…¨ä¿æŒ
  âœ… pendingPointsæ©Ÿæ§‹ä¿æŒ

brush-core.js
  ğŸ” initialize() : GPUå‚ç…§ã‚’WebGL2ã«å·®ã—æ›¿ãˆ
  ğŸ” _finalizeMSDFStroke() : GPUå‘¼ã³å‡ºã—éƒ¨ã®ã¿APIå¤‰æ›´
  âœ… updateStroke/startStroke/finalizeStrokeæ§‹é€ ä¿æŒ

core-initializer.js
  ğŸ” initializeWebGPU() â†’ initializeWebGL2()
  ğŸ” WebGPUDrawingLayer.initialize() â†’ WebGL2DrawingLayer.initialize()
  âœ… åˆæœŸåŒ–é †åºãƒ­ã‚¸ãƒƒã‚¯ä¿æŒ

coordinate-system.js, stroke-recorder.js, pointer-handler.js
  âœ… å®Œå…¨ä¿æŒï¼ˆGPUéä¾å­˜ï¼‰

================================================================================
â–  ç¬¬2éƒ¨: æ®µéšçš„ç§»è¡Œæ‰‹é †ï¼ˆPhaseåˆ†å‰²ï¼‰
================================================================================

ã€Phase 0: æº–å‚™ãƒ»ç’°å¢ƒæ§‹ç¯‰â±ï¸ 1h

â–¡ 0-1. ãƒ–ãƒ©ãƒ³ãƒä½œæˆ
  - git checkout -b webgl2-migration
  
â–¡ 0-2. index.htmlä¿®æ­£
  - <canvas id="webgl2-canvas"> è¿½åŠ ï¼ˆä¸¦åˆ—æ¤œè¨¼ç”¨ï¼‰
  - WebGPUé–¢é€£ script ã‚’æ¡ä»¶åˆ†å²å¯èƒ½ã«
  
â–¡ 0-3. ãƒ†ã‚¹ãƒˆç”¨ã‚µãƒ³ãƒ—ãƒ«HTMLä½œæˆ
  - index-webgl2-demo.htmlï¼ˆæœ€å°æ§‹æˆï¼‰
  - PFâ†’VBOæç”»ã®å‹•ä½œç¢ºèªç”¨

âœ… æˆæœç‰©: ä¸¦åˆ—æ¤œè¨¼ç’°å¢ƒã€æœ€å°ãƒ‡ãƒ¢HTML

â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•

ã€Phase 1: WebGL2 Drawing Layerå®Ÿè£…ã€‘â±ï¸ 3h

ğŸ“ æ–°è¦ãƒ•ã‚¡ã‚¤ãƒ«: system/drawing/webgl2/webgl2-drawing-layer.js

â–¡ 1-1. åŸºæœ¬æ§‹é€ å®Ÿè£…
  class WebGL2DrawingLayer {
    constructor() {
      this.canvas = null;
      this.gl = null;
      this.initialized = false;
    }
    
    async initialize() {
      // #webgl2-canvas OR #webgpu-canvaså–å¾—
      // getContext('webgl2', {antialias:false, ...})
      // viewportè¨­å®š
      // extensionç¢ºèªï¼ˆfloat textureç­‰ï¼‰
      return true;
    }
    
    getCanvas() { return this.canvas; }
    getGL() { return this.gl; }
    getFormat() { return 'rgba8'; } // äº’æ›ç”¨
    isInitialized() { return this.initialized; }
  }
  
â–¡ 1-2. FBO Managerå®Ÿè£…
  createFBO(width, height, options = {})
    - gl.createFramebuffer()
    - gl.createTexture() (float or RGBA8)
    - gl.framebufferTexture2D()
    - Statusç¢ºèª
    return { fbo, texture, width, height }
  
  deleteFBO(fboObj)
    - gl.deleteFramebuffer()
    - gl.deleteTexture()

â–¡ 1-3. core-initializer.jsæ¥ç¶š
  initializeWebGL2(strokeRenderer) {
    if (!window.WebGL2DrawingLayer) return false;
    await window.WebGL2DrawingLayer.initialize();
    // device â†’ gl, format â†’ 'rgba8'
    return true;
  }

â–¡ 1-4. drawing-engine.js Canvaså–å¾—ä¿®æ­£
  _initializeCanvas() {
    canvas = window.WebGL2DrawingLayer?.getCanvas();
    // Fallback: document.getElementById('webgl2-canvas')
  }

âœ… æˆæœç‰©: WebGL2DrawingLayerå‹•ä½œã€Canvaså–å¾—ç¢ºèª

â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•

ã€Phase 2: Stroke Uploadï¼ˆVBOï¼‰å®Ÿè£…ã€‘â±ï¸ 2h

ğŸ“ æ–°è¦ãƒ•ã‚¡ã‚¤ãƒ«: system/drawing/webgl2/gl-stroke-processor.js

â–¡ 2-1. PerfectFreehandâ†’VBOå®Ÿè£…
  class GLStrokeProcessor {
    createPolygonVertexBuffer(points, size) {
      // æ—¢å­˜gpu-stroke-processor.jsãƒ­ã‚¸ãƒƒã‚¯æµç”¨
      // PFå®Ÿè¡Œâ†’Earcutâ†’Float32Arrayç”Ÿæˆï¼ˆå®Œå…¨åŒä¸€ï¼‰
      return { buffer: Float32Array, vertexCount, bounds };
    }
    
    createEdgeBuffer(points, size) {
      // æ—¢å­˜ãƒ­ã‚¸ãƒƒã‚¯æµç”¨ï¼ˆPFã‚¢ã‚¦ãƒˆãƒ©ã‚¤ãƒ³â†’Edgeé…åˆ—ï¼‰
      return { buffer: Float32Array, edgeCount, bounds };
    }
    
    uploadToGPU(data, usage = 'storage') {
      const vbo = gl.createBuffer();
      gl.bindBuffer(GL_ARRAY_BUFFER or UNIFORM_BUFFER, vbo);
      gl.bufferData(..., data, GL_STATIC_DRAW);
      return { glBuffer: vbo, elementCount };
    }
  }

â–¡ 2-2. brush-core.jsæ¥ç¶šä¿®æ­£
  this.gpuStrokeProcessor = window.GLStrokeProcessor; // å·®ã—æ›¿ãˆ
  
  _finalizeMSDFStroke() {
    const vertexResult = this.gpuStrokeProcessor.createPolygonVertexBuffer(...);
    const uploadVertex = this.gpuStrokeProcessor.uploadToGPU(vertexResult.buffer, 'vertex');
    // uploadVertex.glBuffer ã‚’æ¬¡Phaseã§ä½¿ç”¨
  }

âœ… æˆæœç‰©: PFâ†’VBOç”Ÿæˆãƒ»Uploadå‹•ä½œç¢ºèª

â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•

ã€Phase 3: MSDF Pipelineéª¨å­ï¼ˆSeedâ†’JFAï¼‰ã€‘â±ï¸ 5h

ğŸ“ æ–°è¦ãƒ•ã‚¡ã‚¤ãƒ«: system/drawing/webgl2/gl-msdf-pipeline.js

â–¡ 3-1. ãƒ†ã‚¯ã‚¹ãƒãƒ£ç®¡ç†å®Ÿè£…
  createTexture(width, height, internalFormat = gl.RGBA32F) {
    const tex = gl.createTexture();
    gl.bindTexture(GL_TEXTURE_2D, tex);
    gl.texImage2D(..., internalFormat, ...);
    gl.texParameteri(..., GL_CLAMP_TO_EDGE, GL_LINEAR);
    return tex;
  }
  
  createPingPongFBO(width, height) {
    return {
      a: createFBO(width, height, { float: true }),
      b: createFBO(width, height, { float: true })
    };
  }

â–¡ 3-2. Clear Seed Textureå®Ÿè£…
  clearSeedTexture(fbo, width, height) {
    gl.bindFramebuffer(GL_FRAMEBUFFER, fbo.fbo);
    gl.clearColor(-1.0, -1.0, -1.0, -1.0);
    gl.clear(GL_COLOR_BUFFER_BIT);
  }

â–¡ 3-3. Seed Init Passï¼ˆGLSL Fragmentï¼‰
  ğŸ“„ æ–°è¦: system/drawing/webgl2/shaders/seed-init.frag.glsl
  
  // WebGPUâ†’WebGL2å¤‰æ›ãƒã‚¤ãƒ³ãƒˆ
  // WGSL: @group/@binding â†’ GLSL: uniform
  // WGSL: textureStore â†’ GLSL: gl_FragColor = ...
  // WGSL: storage buffer â†’ GLSL: texture or uniform buffer
  
  uniform sampler2D uEdgeData;  // EdgeBufferã‚’TextureåŒ–
  uniform vec2 uTexSize;
  uniform float uEdgeCount;
  
  void main() {
    // ãƒãƒªã‚´ãƒ³ãƒ©ã‚¹ã‚¿ãƒ©ã‚¤ã‚ºã§Seedã‚’æ›¸ãè¾¼ã¿
    // gl_FragCoordä½¿ç”¨
    // æœ€è¿‘æ¥Edgeã®IDã¨åº§æ¨™ã‚’ã‚¨ãƒ³ã‚³ãƒ¼ãƒ‰
    gl_FragColor = vec4(seedX, seedY, edgeId, 0.0);
  }
  
  seedInitPass(edgeBuffer, seedFBO, width, height, edgeCount) {
    // edgeBufferâ†’Textureå¤‰æ› or UniformçµŒç”±
    // Full-screen quadæç”»ã§seedç”Ÿæˆ
    gl.bindFramebuffer(GL_FRAMEBUFFER, seedFBO.fbo);
    gl.useProgram(seedInitProgram);
    // Polygon vertices bindâ†’Draw
  }

â–¡ 3-4. JFA Passå®Ÿè£…ï¼ˆFragment Ping-Pongï¼‰
  ğŸ“„ æ–°è¦: system/drawing/webgl2/shaders/jfa-pass.frag.glsl
  
  uniform sampler2D uSrcTex;
  uniform float uStep;
  uniform vec2 uTexSize;
  
  void main() {
    vec2 uv = gl_FragCoord.xy / uTexSize;
    vec4 bestSeed = texture(uSrcTex, uv);
    float bestDistSq = 1e10;
    
    // 8æ–¹å‘ã‚µãƒ³ãƒ—ãƒªãƒ³ã‚°ï¼ˆWGSLå®Œå…¨åŒç­‰ï¼‰
    for (int i = 0; i < 8; i++) {
      vec2 offset = offsets[i] * uStep / uTexSize;
      vec4 neighbor = texture(uSrcTex, uv + offset);
      // è·é›¢æ¯”è¼ƒãƒ»æ›´æ–°
    }
    gl_FragColor = bestSeed;
  }
  
  executeJFA(seedTex, width, height) {
    const pingPong = createPingPongFBO(width, height);
    let src = seedTex;
    let dst = pingPong.a;
    
    const iterations = Math.ceil(Math.log2(Math.max(width, height)));
    for (let i = iterations - 1; i >= 0; i--) {
      const step = Math.pow(2, i);
      jfaPass(src, dst, step);
      [src, dst] = [dst, src]; // Swap
    }
    return src; // Result
  }

âœ… æˆæœç‰©: Seed Init + JFAå‹•ä½œã€è·é›¢å ´ç”Ÿæˆç¢ºèªï¼ˆãƒ‡ãƒãƒƒã‚°å¯è¦–åŒ–ï¼‰

â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•

ã€Phase 4: Encode/Compose/Renderå®Ÿè£…ã€‘â±ï¸ 4h

â–¡ 4-1. Encode Passå®Ÿè£…
  ğŸ“„ æ–°è¦: system/drawing/webgl2/shaders/encode.frag.glsl
  
  uniform sampler2D uJFAResult;
  uniform sampler2D uEdgeData;
  uniform vec2 uTexSize;
  
  void main() {
    vec2 uv = gl_FragCoord.xy / uTexSize;
    vec4 seed = texture(uJFAResult, uv);
    // è·é›¢è¨ˆç®—ãƒ»ç¬¦å·åˆ¤å®šãƒ»MSDFç”Ÿæˆ
    float dist = ...; // Signed distance
    gl_FragColor = vec4(dist, dist, dist, 1.0);
  }

â–¡ 4-2. Render Passå®Ÿè£…ï¼ˆæœ€çµ‚åˆæˆï¼‰
  ğŸ“„ æ–°è¦: system/drawing/webgl2/shaders/render.vert.glsl
  ğŸ“„ æ–°è¦: system/drawing/webgl2/shaders/render.frag.glsl
  
  // Vertex shader: Polygon vertices â†’ Screen space
  attribute vec2 aPosition;
  attribute vec2 aTexCoord;
  
  void main() {
    gl_Position = vec4(aPosition, 0.0, 1.0);
    vTexCoord = aTexCoord;
  }
  
  // Fragment shader: MSDF sampling + è‰²é©ç”¨
  uniform sampler2D uMSDFTex;
  uniform vec4 uBrushColor;
  uniform float uOpacity;
  
  void main() {
    float dist = texture(uMSDFTex, vTexCoord).r;
    float alpha = smoothstep(0.4, 0.6, dist); // AA
    gl_FragColor = vec4(uBrushColor.rgb, alpha * uOpacity);
  }

â–¡ 4-3. generateMSDFçµ±åˆ
  class GLMSDFPipeline {
    async generateMSDF(glBuffer, bounds, settings, vertexBuffer, vertexCount, edgeCount) {
      // 1. Clear seed
      // 2. Seed init
      // 3. JFA iterations
      // 4. Encode
      // 5. Render to final FBO
      return finalTexture; // WebGLTexture
    }
  }

âœ… æˆæœç‰©: Full pipelineå‹•ä½œã€MSDFå‡ºåŠ›ç¢ºèª

â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•

ã€Phase 5: Texture Bridge & Pixiçµ±åˆã€‘â±ï¸ 2h

ğŸ“ æ–°è¦ãƒ•ã‚¡ã‚¤ãƒ«: system/drawing/webgl2/gl-texture-bridge.js

â–¡ 5-1. WebGLTexture â†’ PIXI.Spriteå¤‰æ›
  class GLTextureBridge {
    createSpriteFromGLTexture(glTex, width, height) {
      // gl.bindTexture(GL_TEXTURE_2D, glTex);
      // PIXI.BaseTexture.from() or manual creation
      // PIXI.Texture wrapper
      // PIXI.Sprite generation
      return sprite;
    }
  }

â–¡ 5-2. brush-core.jsæ¥ç¶š
  this.textureBridge = window.GLTextureBridge;
  
  const sprite = await this.textureBridge.createSpriteFromGLTexture(
    finalTexture, actualWidth, actualHeight
  );

âœ… æˆæœç‰©: Spriteç”Ÿæˆãƒ»Layeré…ç½®ç¢ºèª

â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•

ã€Phase 6: Mask Layerå®Ÿè£…ã€‘â±ï¸ 2h

ğŸ“ æ–°è¦ãƒ•ã‚¡ã‚¤ãƒ«: system/drawing/webgl2/gl-mask-layer.js

â–¡ 6-1. æ¶ˆã—ã‚´ãƒ ãƒã‚¹ã‚¯å‡¦ç†
  class GLMaskLayer {
    initialize(width, height) {
      this.maskFBO = createFBO(width, height);
    }
    
    renderCircleMask(x, y, radius) {
      // Fragment shader: circle rendering
      // Additive blend to maskFBO
    }
    
    getMaskTexture() {
      return this.maskFBO.texture;
    }
  }

â–¡ 6-2. Compose Passçµ±åˆ
  // Renderæ™‚ã«maskTextureå‚ç…§
  // Fragment shader: mask alphaé©ç”¨

âœ… æˆæœç‰©: æ¶ˆã—ã‚´ãƒ å‹•ä½œç¢ºèª

â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•

ã€Phase 7: çµ±åˆãƒ†ã‚¹ãƒˆãƒ»ãƒ‡ãƒãƒƒã‚°ã€‘â±ï¸ 3h

â–¡ 7-1. æç”»ãƒ•ãƒ­ãƒ¼End-to-Endç¢ºèª
  - PointerDown â†’ åº§æ¨™å¤‰æ› â†’ StrokeRecorder
  - PointerMove â†’ addPoint
  - PointerUp â†’ finalizeStroke â†’ MSDFç”Ÿæˆ â†’ Spriteé…ç½®

â–¡ 7-2. ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æ¸¬å®š
  - JFA iterationæ™‚é–“
  - Render passæ™‚é–“
  - Total stroke finalizeæ™‚é–“
  - Target: <50ms for 256x256 texture

â–¡ 7-3. ã‚¨ãƒƒã‚¸ã‚±ãƒ¼ã‚¹æ¤œè¨¼
  - 2ç‚¹ã‚¹ãƒˆãƒ­ãƒ¼ã‚¯
  - é«˜é€Ÿã‚¹ãƒˆãƒ­ãƒ¼ã‚¯
  - åœ§åŠ›å¤‰å‹•
  - Canvas resize

â–¡ 7-4. æ—¢å­˜æ©Ÿèƒ½å›å¸°ãƒ†ã‚¹ãƒˆ
  - ãƒ¬ã‚¤ãƒ¤ãƒ¼åˆ‡æ›¿
  - Undo/Redo
  - Export
  - Animation

âœ… æˆæœç‰©: å®‰å®šå‹•ä½œã€ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æŒ‡æ¨™

â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•

ã€Phase 8: ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—ãƒ»æœ€é©åŒ–ã€‘â±ï¸ 2h

â–¡ 8-1. ä¸è¦ãƒ•ã‚¡ã‚¤ãƒ«å‰Šé™¤
  - system/drawing/webgpu/* (backupæ¨å¥¨)
  - system/drawing/msdf/*.wgsl
  - system/drawing/wgsl-loader.js

â–¡ 8-2. index.htmlæ•´ç†
  - WebGPUé–¢é€£scriptå‰Šé™¤
  - WebGL2é–¢é€£scriptè¿½åŠ 
  - canvas idçµ±ä¸€æ¤œè¨

â–¡ 8-3. ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆæ›´æ–°
  - README.mdã«WebGL2ç§»è¡Œè¨˜è¼‰
  - è¦ªå­ä¾å­˜é–¢ä¿‚ãƒ˜ãƒƒãƒ€ãƒ¼æ›´æ–°

âœ… æˆæœç‰©: Production-ready codebase

================================================================================
â–  ç¬¬3éƒ¨: å®Ÿè£…è©³ç´°ã‚¬ã‚¤ãƒ‰
================================================================================

ã€WGSLâ†’GLSLå¤‰æ›ãƒ‘ã‚¿ãƒ¼ãƒ³ã€‘

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ WGSL                      â†’ GLSL                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ @group(0) @binding(0)     â†’ uniform sampler2D u...          â”‚
â”‚ @compute @workgroup_size  â†’ (Fragment shaderã§ä»£æ›¿)         â”‚
â”‚ textureLoad(tex, pos, 0)  â†’ texelFetch(tex, ivec2(pos), 0)  â”‚
â”‚ textureStore(tex, pos, v) â†’ gl_FragColor = v                â”‚
â”‚ vec2<f32>                 â†’ vec2                             â”‚
â”‚ u32                       â†’ uint (or int)                    â”‚
â”‚ storage buffer            â†’ texture or UBO                   â”‚
â”‚ workgroup dispatch        â†’ Fullscreen quad draw             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ã€FBO Ping-Pong ãƒ‘ã‚¿ãƒ¼ãƒ³ã€‘

// JFAåå¾©
let pingPong = { a: createFBO(...), b: createFBO(...) };
let src = seedTexture;
let dst = pingPong.a;

for (let i = iterations - 1; i >= 0; i--) {
  gl.bindFramebuffer(GL_FRAMEBUFFER, dst.fbo);
  gl.useProgram(jfaProgram);
  gl.activeTexture(GL_TEXTURE0);
  gl.bindTexture(GL_TEXTURE_2D, src);
  gl.uniform1i(uSrcTexLoc, 0);
  gl.uniform1f(uStepLoc, Math.pow(2, i));
  
  // Fullscreen quadæç”»
  drawFullscreenQuad();
  
  // Swap
  [src, dst] = [dst, src];
}

return src; // Result texture

ã€WebGL2 Extensionç¢ºèªã€‘

const gl = canvas.getContext('webgl2');

// Float texture support
const extColorBufferFloat = gl.getExtension('EXT_color_buffer_float');
if (!extColorBufferFloat) {
  console.warn('Float FBO not supported, fallback to RGBA16F');
}

// Linear filtering for float
const extTextureFilterLinear = gl.getExtension('OES_texture_float_linear');

ã€Uniform Buffer Objectåˆ©ç”¨ã€‘

// Edge dataç­‰ã®å¤§é‡ãƒ‡ãƒ¼ã‚¿è»¢é€
const ubo = gl.createBuffer();
gl.bindBuffer(gl.UNIFORM_BUFFER, ubo);
gl.bufferData(gl.UNIFORM_BUFFER, edgeData, gl.STATIC_DRAW);
gl.bindBufferBase(gl.UNIFORM_BUFFER, 0, ubo);

// Shader: uniform block
layout(std140) uniform EdgeBlock {
  vec4 edges[MAX_EDGES];
};

ã€ãƒ‡ãƒãƒƒã‚°å¯è¦–åŒ–Tipã€‘

// Seed textureç¢ºèª
function debugVisualizeSeedTexture(tex, width, height) {
  const pixels = new Float32Array(width * height * 4);
  gl.bindFramebuffer(GL_FRAMEBUFFER, seedFBO);
  gl.readPixels(0, 0, width, height, GL_RGBA, GL_FLOAT, pixels);
  
  // Canvas2Dæç”»ã§å¯è¦–åŒ–
  const debugCanvas = document.createElement('canvas');
  debugCanvas.width = width;
  debugCanvas.height = height;
  const ctx = debugCanvas.getContext('2d');
  const imageData = ctx.createImageData(width, height);
  
  for (let i = 0; i < width * height; i++) {
    imageData.data[i*4+0] = pixels[i*4+0] * 255; // R
    imageData.data[i*4+1] = pixels[i*4+1] * 255; // G
    imageData.data[i*4+2] = 0; // B
    imageData.data[i*4+3] = 255; // A
  }
  ctx.putImageData(imageData, 0, 0);
  document.body.appendChild(debugCanvas);
}

================================================================================
â–  ç¬¬4éƒ¨: ãƒ†ã‚¹ãƒˆãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ
================================================================================

ã€Phaseæ¯ã®æ¤œè¨¼é …ç›®ã€‘

Phase 1: WebGL2 Drawing Layer
  â–¡ gl contextå–å¾—æˆåŠŸï¼ˆchrome://gpuç¢ºèªï¼‰
  â–¡ canvas.width/heightè¨­å®šæ­£å¸¸
  â–¡ gl.getParameter(MAX_TEXTURE_SIZE) â‰¥ 2048
  â–¡ FBOç”Ÿæˆãƒ»å‰Šé™¤å‹•ä½œ
  â–¡ Console errorç„¡ã—

Phase 2: Stroke Upload
  â–¡ PerfectFreehandå®Ÿè¡ŒæˆåŠŸï¼ˆoutline points > 0ï¼‰
  â–¡ Earcutä¸‰è§’å½¢åˆ†å‰²æˆåŠŸï¼ˆindices > 0ï¼‰
  â–¡ VBO uploadæˆåŠŸï¼ˆgl.getError() === 0ï¼‰
  â–¡ vertexCountè¨ˆç®—æ­£ç¢º

Phase 3: MSDF Pipelineéª¨å­
  â–¡ Seed texture -1.0åˆæœŸåŒ–ç¢ºèª
  â–¡ Seed initæç”»æˆåŠŸï¼ˆé-1ãƒ”ã‚¯ã‚»ãƒ«å­˜åœ¨ï¼‰
  â–¡ JFA 1ãƒ‘ã‚¹å¾Œã€seedæ‹¡æ•£ç¢ºèª
  â–¡ JFAå…¨ãƒ‘ã‚¹å¾Œã€å…¨ãƒ”ã‚¯ã‚»ãƒ«seedä¿æŒ

Phase 4: Encode/Render
  â–¡ Distance fieldç”Ÿæˆï¼ˆå¯è¦–åŒ–ã§ç¢ºèªï¼‰
  â–¡ Signed distanceæ­£è² åˆ¤å®šæ­£å¸¸
  â–¡ Render passæç”»æˆåŠŸ
  â–¡ æœ€çµ‚texture RGBå€¤å¦¥å½“ï¼ˆ0.0-1.0ï¼‰

Phase 5: Texture Bridge
  â–¡ WebGLTextureâ†’BaseTextureå¤‰æ›æˆåŠŸ
  â–¡ PIXI.Spriteç”Ÿæˆãƒ»é…ç½®ç¢ºèª
  â–¡ Sprite.alphaåæ˜ 
  â–¡ Layer containerè¿½åŠ ç¢ºèª

Phase 6: Mask Layer
  â–¡ Mask FBOç”ŸæˆæˆåŠŸ
  â–¡ Circle maskæç”»ç¢ºèª
  â–¡ Composeæ™‚maské©ç”¨ç¢ºèª
  â–¡ æ¶ˆã—ã‚´ãƒ ã‚¹ãƒˆãƒ­ãƒ¼ã‚¯é€æ˜åŒ–ç¢ºèª

Phase 7: çµ±åˆãƒ†ã‚¹ãƒˆ
  â–¡ æœ€å°2ç‚¹ã‚¹ãƒˆãƒ­ãƒ¼ã‚¯æç”»æˆåŠŸ
  â–¡ 10ç‚¹ä»¥ä¸Šã‚¹ãƒˆãƒ­ãƒ¼ã‚¯æç”»æˆåŠŸ
  â–¡ é€£ç¶šã‚¹ãƒˆãƒ­ãƒ¼ã‚¯ï¼ˆ5æœ¬ï¼‰å‹•ä½œ
  â–¡ Undo/Redoæ­£å¸¸
  â–¡ Export PNGæˆåŠŸ
  â–¡ Layeråˆ‡æ›¿æ­£å¸¸
  â–¡ ãƒ–ãƒ©ã‚¦ã‚¶ãƒªãƒ­ãƒ¼ãƒ‰å¾Œã‚‚æç”»å†…å®¹ä¿æŒ

ã€ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ç›®æ¨™ã€‘

256x256 MSDFç”Ÿæˆ: <50ms
512x512 MSDFç”Ÿæˆ: <100ms
JFA 1 iteration: <5ms
Seed init: <10ms
Encode: <10ms
Render: <10ms

60FPSç¶­æŒï¼ˆupdateStrokeä¸­ï¼‰
120FPSå¯¾å¿œå¯èƒ½ãªä½™åœ°ç¢ºä¿

================================================================================
â–  ç¬¬5éƒ¨: ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°
================================================================================

ã€æƒ³å®šã•ã‚Œã‚‹å•é¡Œã¨å¯¾ç­–ã€‘

âš ï¸ å•é¡Œ: Float texture FBOç”Ÿæˆå¤±æ•—
ğŸ”§ å¯¾ç­–: EXT_color_buffer_floatç¢ºèªã€RGBA16F fallbackå®Ÿè£…

âš ï¸ å•é¡Œ: JFAçµæœãŒæ­£ã—ãä¼æ’­ã—ãªã„
ğŸ”§ å¯¾ç­–: Ping-pong swapé †åºç¢ºèªã€gl.finish()è¿½åŠ ã€ãƒ‡ãƒãƒƒã‚°å¯è¦–åŒ–

âš ï¸ å•é¡Œ: Seed initæ™‚ã«ãƒãƒªã‚´ãƒ³ãŒæç”»ã•ã‚Œãªã„
ğŸ”§ å¯¾ç­–: Viewportè¨­å®šç¢ºèªã€VBO bindingç¢ºèªã€Shader compile logç¢ºèª

âš ï¸ å•é¡Œ: WebGLTextureâ†’PIXI.Spriteå¤‰æ›ã§è¡¨ç¤ºã•ã‚Œãªã„
ğŸ”§ å¯¾ç­–: gl.pixelStoreiè¨­å®šã€PIXI.BaseTexture.update()å‘¼ã³å‡ºã—

âš ï¸ å•é¡Œ: æç”»å¾Œã«GLã‚¨ãƒ©ãƒ¼ï¼ˆ1282ç­‰ï¼‰
ğŸ”§ å¯¾ç­–: gl.getError()ã§ã‚¨ãƒ©ãƒ¼ç®‡æ‰€ç‰¹å®šã€FBOå®Œå…¨æ€§ãƒã‚§ãƒƒã‚¯

âš ï¸ å•é¡Œ: Edge dataãŒShaderã«å±Šã‹ãªã„
ğŸ”§ å¯¾ç­–: TextureåŒ– or UBOåˆ©ç”¨ã€MAX_EDGESåˆ¶é™ç¢ºèª

âš ï¸ å•é¡Œ: ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ä½ä¸‹ï¼ˆ>100msï¼‰
ğŸ”§ å¯¾ç­–: Texture sizeå‰Šæ¸›ï¼ˆ256â†’128ï¼‰ã€JFA iterationå‰Šæ¸›ã€gl.finish()å‰Šé™¤

ã€ãƒ‡ãƒãƒƒã‚°ã‚³ãƒãƒ³ãƒ‰ã€‘

// Console
TegakiDebug.coord.testFullPipeline(x, y); // åº§æ¨™å¤‰æ›æ¤œè¨¼
TegakiDebug.webgl2 = {
  dumpFBO: (fbo) => { /* readPixelså®Ÿè£… */ },
  logShaderCompile: (shader) => { /* compile log */ },
  measurePass: (name, fn) => { /* performance.now() */ }
};

================================================================================
â–  ç¬¬6éƒ¨: å®Œäº†åˆ¤å®šåŸºæº–
================================================================================

ã€Minimum Viable Product (MVP)ã€‘
âœ… WebGL2 contextå–å¾—ãƒ»åˆæœŸåŒ–æˆåŠŸ
âœ… PerfectFreehandâ†’VBOâ†’æç”»å‹•ä½œ
âœ… MSDFç”Ÿæˆï¼ˆSeed/JFA/Encode/Renderï¼‰å‹•ä½œ
âœ… Spriteé…ç½®ãƒ»è¡¨ç¤ºç¢ºèª
âœ… ãƒšãƒ³/æ¶ˆã—ã‚´ãƒ ä¸¡å¯¾å¿œ
âœ… æ—¢å­˜UIï¼ˆãƒ¬ã‚¤ãƒ¤ãƒ¼ãƒ‘ãƒãƒ«ç­‰ï¼‰æ­£å¸¸å‹•ä½œ
âœ… Console errorç„¡ã—

ã€Production Readyã€‘
âœ… å…¨Phaseæ¤œè¨¼é …ç›®ã‚¯ãƒªã‚¢
âœ… ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ç›®æ¨™é”æˆ
âœ… å›å¸°ãƒ†ã‚¹ãƒˆå…¨é …ç›®åˆæ ¼
âœ… WebGPUãƒ•ã‚¡ã‚¤ãƒ«å‰Šé™¤å®Œäº†
âœ… ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆæ›´æ–°å®Œäº†
âœ… 3ãƒ–ãƒ©ã‚¦ã‚¶å‹•ä½œç¢ºèªï¼ˆChrome/Edge/Firefoxï¼‰

ã€è¿½åŠ æ”¹å–„ï¼ˆOptionalï¼‰ã€‘
â–¡ JFAåå¾©å›æ•°å‹•çš„èª¿æ•´
â–¡ Texture size adaptiveï¼ˆ64-512ï¼‰
â–¡ Multi-channel MSDFå®Ÿè£…
â–¡ Compute shader fallbackï¼ˆWebGL2.0 Computeï¼‰
â–¡ WASMç‰ˆJFAæ¤œè¨

================================================================================
â–  è£œè¶³: ç§»è¡Œå¾Œã®ä¿å®ˆæŒ‡é‡
================================================================================

ã€ãƒ•ã‚¡ã‚¤ãƒ«æ§‹æˆï¼ˆç§»è¡Œå¾Œï¼‰ã€‘

webgpu_v8_rev58/                          [å¤‰æ›´ãªã—]
â”œâ”€ index.html                             [ğŸ”§ scriptä¿®æ­£]
â”œâ”€ config.js, coordinate-system.js        [âœ… ä¿æŒ]
â”œâ”€ system/
â”‚  â”œâ”€ drawing/
â”‚  â”‚  â”œâ”€ webgl2/                          [ğŸ“¦ æ–°è¦]
â”‚  â”‚  â”‚  â”œâ”€ webgl2-drawing-layer.js
â”‚  â”‚  â”‚  â”œâ”€ gl-stroke-processor.js
â”‚  â”‚  â”‚  â”œâ”€ gl-msdf-pipeline.js
â”‚  â”‚  â”‚  â”œâ”€ gl-texture-bridge.js
â”‚  â”‚  â”‚  â”œâ”€ gl-mask-layer.js
â”‚  â”‚  â”‚  â””â”€ shaders/                      [ğŸ“¦ æ–°è¦]
â”‚  â”‚  â”‚     â”œâ”€ seed-init.frag.glsl
â”‚  â”‚  â”‚     â”œâ”€ jfa-pass.frag.glsl
â”‚  â”‚  â”‚     â”œâ”€ encode.frag.glsl
â”‚  â”‚  â”‚     â”œâ”€ render.vert.glsl
â”‚  â”‚  â”‚     â””â”€ render.frag.glsl
â”‚  â”‚  â”œâ”€ drawing-engine.js                [ğŸ” å¾®ä¿®æ­£]
â”‚  â”‚  â”œâ”€ brush-core.js                    [ğŸ” å¾®ä¿®æ­£]
â”‚  â”‚  â”œâ”€ stroke-recorder.js               [âœ… ä¿æŒ]
â”‚  â”‚  â””â”€ pointer-handler.js               [âœ… ä¿æŒ]
â”‚  â””â”€ (ä»–ã‚·ã‚¹ãƒ†ãƒ ãƒ•ã‚¡ã‚¤ãƒ«)                 [âœ… ä¿æŒ]
â”œâ”€ ui/                                     [âœ… ä¿æŒ]
â””â”€ core-initializer.js                     [ğŸ” å¾®ä¿®æ­£]

ã€å‘½åè¦å‰‡çµ±ä¸€ï¼ˆWebGL2ï¼‰ã€‘

Prefix: gl ã¾ãŸã¯ GL (WebGPU: gpu, GPU)
  - glContext (not gl2Context)
  - GLStrokeProcessor (not WebGL2StrokeProcessor)
  - gl-msdf-pipeline.js (not webgl2-msdf-*.js)

Exception: ãƒ•ã‚¡ã‚¤ãƒ«åã®ã¿ webgl2- prefixè¨±å®¹
  - webgl2-drawing-layer.js
  - ç†ç”±: webgpu-drawing-layer.jsã¨ã®å¯¾æ¯”æ˜ç¢ºåŒ–

ã€ã‚³ãƒ¡ãƒ³ãƒˆè¦ç´„ã€‘

// âŒ WebGPUå›ºæœ‰å®Ÿè£…ï¼ˆå‰Šé™¤æ¸ˆã¿ï¼‰
// const gpuBuffer = device.createBuffer(...);

// âœ… WebGL2å®Ÿè£…
const glBuffer = gl.createBuffer();
gl.bindBuffer(gl.ARRAY_BUFFER, glBuffer);

// ğŸ”§ WebGPUäº’æ›APIï¼ˆinterfaceä¿æŒï¼‰
class GLStrokeProcessor {
  uploadToGPU(data, usage) {
    // GPUâ†’GLå‘½åã ãŒå†…éƒ¨ã¯WebGL2
    return this.uploadToGL(data, usage);
  }
}

================================================================================
ã€æ”¹ä¿®è¨ˆç”»æ›¸ ENDã€‘
ä½œæˆæ—¥æ™‚: 2025-11-17
å¯¾è±¡ãƒãƒ¼ã‚¸ãƒ§ãƒ³: webgpu_v8_rev58 â†’ webgl2_v1
æ¨å®šç·å·¥æ•°: 24hï¼ˆ3å–¶æ¥­æ—¥ï¼‰
å„ªå…ˆåº¦: ğŸ”¥ Highï¼ˆæç”»æ©Ÿèƒ½å›å¾©ã®ãŸã‚ï¼‰
ãƒªã‚¹ã‚¯è©•ä¾¡: ğŸŸ¡ Mediumï¼ˆæ—¢å­˜ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ä¿æŒã«ã‚ˆã‚Šè»½æ¸›ï¼‰
================================================================================