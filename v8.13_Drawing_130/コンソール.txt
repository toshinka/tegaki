 âœ… config.js (Phase 4å®Œå…¨ç‰ˆ: TEGAKI_KEYCONFIG_MANAGERè¿½åŠ ) loaded
 âœ… system/event-bus.js Phase 2: å„ªå…ˆåº¦æ©Ÿèƒ½è¿½åŠ ç‰ˆ loaded
 âœ… coordinate-system.js (worldToLocalä¿®æ­£ç‰ˆ) loaded
    - ä¿®æ­£: worldToLocal() ã® pivot è¨ˆç®—é †åºã‚’ä¿®æ­£
    - Vã‚­ãƒ¼ãƒ¢ãƒ¼ãƒ‰æ™‚ã® NaN å•é¡Œã‚’è§£æ±º
 âœ… Debug commands: TegakiDebug.coord.*
 âœ… data-models.js (backgroundColorè¿½åŠ ç‰ˆ) loaded
 âœ… batch-api.js (Phase 6: Historyçµ±åˆç‰ˆ) loaded
 âœ… popup-manager.js (quick-accessé™¤å¤–å¯¾å¿œç‰ˆ) loaded
 âœ… state-manager.js (Phase 8å®Œå…¨å®Ÿè£…ç‰ˆ) loaded
 âœ… camera-system.js (Phase 2å®Œå…¨å®Ÿè£…ç‰ˆ) loaded
 âœ… layer-transform.js (Phase 1-4å®Œå…¨æ”¹ä¿®ç‰ˆ + NaNèª¤æ¤œçŸ¥ä¿®æ­£) loaded
    âœ“ Phase 1: ã‚¤ãƒ™ãƒ³ãƒˆç™ºç«ã®ä¿®æ­£ (layer:transform-updated ç™ºç«)
    âœ“ Phase 2: åº§æ¨™ç³» NaN å¯¾ç­– (isFinite ãƒã‚§ãƒƒã‚¯ + èª¤æ¤œçŸ¥ä¿®æ­£)
    âœ“ Phase 3: UIå—ä¿¡å´ã®æ•´å‚™ (ã‚¤ãƒ™ãƒ³ãƒˆãƒšã‚¤ãƒ­ãƒ¼ãƒ‰æœ€é©åŒ–)
    âœ“ Phase 4: ã‚·ãƒ§ãƒ¼ãƒˆã‚«ãƒƒãƒˆæ•´åˆæ€§ (åè»¢æ©Ÿèƒ½ä¿®å¾©)
    âœ“ è¿½åŠ ä¿®æ­£: coordinateSystemåˆæœŸåŒ–ãƒ»worldåº§æ¨™ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£åä¿®æ­£
 âœ… system/checker-utils.js çµ±ä¸€å®Ÿè£…ç‰ˆ loaded
 âœ… drawing-clipboard.js Phase4æ”¹ä¿®ç‰ˆ+ç¢ºå®šã‚¤ãƒ™ãƒ³ãƒˆ loaded
    - âœ… CTRL+V behavior: overwrite active layer
    - âœ… Commit events: paste:commit, operation:commit
    - âœ… Thumbnail auto-update on paste
 âœ… history.js (Phase 3: Redo nullå‚ç…§ä¿®æ­£ç‰ˆ) loaded
 âœ… animation-system.js (Phase 1æ”¹ä¿®ç‰ˆãƒ»ãƒ•ãƒ¬ãƒ¼ãƒ åçµ±ä¸€: xFå½¢å¼) loaded
 âœ… system/drawing/webgpu/webgpu-capabilities.js loaded
 âœ… system/drawing/msdf/msdf-brush-shader.js loaded
 âœ… pointer-handler.js (Phase 2: ãƒ’ãƒ¥ãƒ¼ãƒªã‚¹ãƒ†ã‚£ãƒƒã‚¯è¿½åŠ ç‰ˆ) loaded
    âœ“ pointerType="mouse" with pressure/tilt â†’ auto-corrects to "pen"
 âœ… pressure-handler.js (Phase 4: ã‚°ãƒ­ãƒ¼ãƒãƒ«å…¬é–‹ç‰ˆ) loaded
    âœ“ è·é›¢ãƒ™ãƒ¼ã‚¹ãƒ•ã‚£ãƒ«ã‚¿å¯¾å¿œ
    âœ“ window.PressureHandler ã¨ã—ã¦å…¬é–‹
 âœ… curve-interpolator.js (Phase 3) loaded
    - Catmull-Rom ã‚¹ãƒ—ãƒ©ã‚¤ãƒ³è£œé–“
    - é©å¿œçš„ã‚µãƒ³ãƒ—ãƒªãƒ³ã‚°å¯¾å¿œ
    - tiltX/Y/twist ãƒ‡ãƒ¼ã‚¿è£œé–“å¯¾å¿œ
 âœ… stroke-recorder.js (è­¦å‘Šãƒ­ã‚°å‰Šæ¸›ç‰ˆ) loaded
    âœ“ ä¸è¦ãªè­¦å‘Šãƒ­ã‚°ã‚’å‰Šé™¤
    âœ“ DRYåŸå‰‡æº–æ‹ 
 âœ… sdf-brush-shader.js (Phase 3-A) loaded
    âœ“ SDF fragment shader with smoothstep()
    âœ“ Scale-independent smooth edges
    âœ“ Pressure-sensitive softness control
 âœ… sdf-texture-generator.js (Phase 3-A) loaded
    âœ“ Circle SDF generation
    âœ“ Soft/Hard brush variations
    âœ“ Ellipse SDF generation
    âœ“ Texture caching system
 âœ… sdf-mesh-builder.js (Phase 3-B) loaded
    âœ“ Segment mesh generation
    âœ“ Optimized batch mesh generation
    âœ“ Preview mesh with simplification
    âœ“ Custom shader support
 âœ… stroke-renderer.js (PIXIå®šæ•°ã‚¨ãƒ©ãƒ¼ä¿®æ­£ç‰ˆ) loaded
    âœ“ blendMode ã‚’æ–‡å­—åˆ—ã«çµ±ä¸€: "normal" / "erase"
    âœ“ PIXI.BLEND_MODES å‚ç…§ã‚¨ãƒ©ãƒ¼è§£æ¶ˆ
 [BrushSettings] Initialized (Phase 1): Object
 âœ… Global window.brushSettings instance created
 âœ… brush-settings.js (Phase 1: ã‚·ãƒ³ã‚°ãƒ«ãƒˆãƒ³çµ±ä¸€ç‰ˆ) loaded
    âœ“ Singleton pattern implemented
    âœ“ Global instance: window.brushSettings
    âœ“ EventBus integration complete
 âœ… brush-core.js (ã‚¨ãƒ©ãƒ¼ä¿®æ­£ç‰ˆ) loaded
    âœ“ EventBus ãƒšã‚¤ãƒ­ãƒ¼ãƒ‰å½¢å¼ä¿®æ­£
    âœ“ brush:size-changed ã‚¨ãƒ©ãƒ¼è§£æ¶ˆ
 âœ… drawing-engine.js (è­¦å‘Šä¿®æ­£ç‰ˆ) loaded
 âœ… quick-export-ui.js (ç„¡åŠ¹åŒ–ç‰ˆ) loaded
 âœ… export-manager.js (CUTâ†’FRAMEå®Œå…¨ä¿®æ­£ç‰ˆ) loaded
 âœ… png-exporter.js (å˜ä¸€ãƒ•ãƒ¬ãƒ¼ãƒ å°‚ç”¨ãƒ»ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼å¯¾å¿œ) loaded
 âœ… apng-exporter.js (CUTâ†’FRAMEå®Œå…¨ä¿®æ­£ç‰ˆ) loaded
 âœ… gif-exporter.js (CUTâ†’FRAMEå®Œå…¨ä¿®æ­£ç‰ˆ) loaded
 âœ… webp-exporter.js (é™æ­¢ç”»ãƒ»å‹•ç”»è‡ªå‹•åˆ¤å®šå¯¾å¿œç‰ˆ) loaded
 âœ… mp4-exporter.js (Phase 8å®Œæˆç‰ˆ) loaded
 âœ… pdf-exporter.js (CUTâ†’FRAMEå®Œå…¨å¯¾å¿œç‰ˆ) loaded
 âœ… dom-builder.js (IDé‡è¤‡è§£æ¶ˆç‰ˆ) loaded
    - #pen-settings â†’ #legacy-pen-settings ã«å¤‰æ›´
    - pen-size-slider â†’ legacy-pen-size-slider ã«å¤‰æ›´
    - quick-access-popup.jsã¨ã®IDç«¶åˆã‚’å®Œå…¨è§£æ¶ˆ
 âœ… ui/slider-utils.js loaded
    - è²¬å‹™: ã‚¹ãƒ©ã‚¤ãƒ€ãƒ¼UIã®çµ±ä¸€å®Ÿè£…
    - DRYåŸå‰‡: settings-popup.js ã¨ ui-panels.js ã§å…±æœ‰
    - API: createSlider() / createSimpleSlider()
 âœ… keyboard-handler.js (P/Eã‚µã‚¤ãƒ‰ãƒãƒ¼åŒæœŸç‰ˆ) loaded
 âœ… resize-popup.js (Phase 4å®Œäº†: ãƒ­ã‚¸ãƒƒã‚¯å‰Šæ¸›ç‰ˆ) loaded
 âœ… ui/layer-panel-renderer.js (èƒŒæ™¯ã‚µãƒ ãƒã‚¤ãƒ«å®Œå…¨ä¿®æ­£ç‰ˆ) loaded
 âœ… ui/status-display-renderer.js loaded
 âœ… ui/timeline-thumbnail-utils.js (Phase 3å®Œå…¨ç‰ˆ) loaded
    âœ“ Phase 1: layer:transform-updated è³¼èª­è¿½åŠ 
timeline-thumbnail-utils.js:260    âœ“ Phase 3: throttleæœ€é©åŒ–ï¼ˆ100msï¼‰
timeline-thumbnail-utils.js:261    âœ“ Phase 3: immediate ãƒ•ãƒ©ã‚°å¯¾å¿œ
timeline-thumbnail-utils.js:262    âœ“ ã‚¿ã‚¤ãƒ ãƒ©ã‚¤ãƒ³ã‚µãƒ ãƒã‚¤ãƒ«ãŒãƒ¬ã‚¤ãƒ¤ãƒ¼å¤‰å½¢ã«å³åº§è¿½å¾“
timeline-ui.js:981 âœ… timeline-ui.js (Phase 4å®Œäº†: ãƒ¬ã‚¤ãƒ¤ãƒ¼å¤‰å½¢é€£æºç‰ˆ) loaded
album-popup.js:473 âœ… album-popup.js (FRAMEæ”¹ä¿®ç‰ˆ) loaded
settings-popup.js:583 âœ… settings-popup.js (å³å¿œæ€§å®Œå…¨ä¿®æ­£ç‰ˆ) loaded
settings-popup.js:584    - CSS transitionå®Œå…¨é™¤å»ï¼ˆ!importantä»˜ãï¼‰
settings-popup.js:585    - DOMæ›´æ–°ã‚’åŒæœŸçš„ã«å³åº§å®Ÿè¡Œ
settings-popup.js:586    - quick-access/resize-popupã¨å®Œå…¨åŒç­‰ã®å‹•ä½œ
quick-access-popup.js:538 âœ… quick-access-popup.js (èƒŒæ™¯ãƒ‰ãƒ©ãƒƒã‚° + é–‰ã˜ã‚‹ãƒœã‚¿ãƒ³ç‰ˆ) loaded
quick-access-popup.js:539    - èƒŒæ™¯ãƒ‰ãƒ©ãƒƒã‚°ã§ç§»å‹•å¯èƒ½ï¼ˆã‚¹ãƒ©ã‚¤ãƒ€ãƒ¼/ãƒœã‚¿ãƒ³ä»¥å¤–ï¼‰
quick-access-popup.js:540    - å³ä¸ŠÃ—ãƒœã‚¿ãƒ³ã§é–‰ã˜ã‚‹
quick-access-popup.js:541    - ç”»é¢å¤–ã‚¯ãƒªãƒƒã‚¯ã§é–‰ã˜ãªã„ï¼ˆå¸¸æ™‚é–‹ãã£ã±ãªã—å¯èƒ½ï¼‰
export-popup.js:423 âœ… export-popup.js (frameInfoä¿®æ­£ç‰ˆï¼‹PDFæœ‰åŠ¹åŒ–) loaded
ui-panels.js:439 âœ… ui-panels.js (Phase 2: ã‚¿ãƒ–ãƒ¬ãƒƒãƒˆãƒšãƒ³ãƒ‰ãƒ©ãƒƒã‚°å¯¾å¿œç‰ˆ) loaded
ui-panels.js:440    âœ“ Sortable.js with forceFallback: true (tablet pen support)
ui-panels.js:441    âœ“ Layer drag & drop with pen input enabled
core-runtime.js:644 âœ… core-runtime.js (Phase 1: PointerEventäºŒé‡ç™»éŒ²å‰Šé™¤ç‰ˆ) loaded
core-runtime.js:645    âœ“ Stage pointer events removed
core-runtime.js:646    âœ“ All pointer handling delegated to DrawingEngine
core-engine.js:835 âœ… core-engine.js loaded
core-initializer.js:437 âœ… core-initializer.js loaded
debug-utils.js:328 âœ… debug-utils.js (TEGAKI_DEBUG) loaded
brush-settings.js:13 [BrushSettings] Instance already exists. Returning existing instance.
BrushSettings @ brush-settings.js:13
drawing-clipboard.js:19 DrawingClipboard: Initializing...
drawing-clipboard.js:26 âœ… DrawingClipboard initialized (Phase4æ”¹ä¿®ç‰ˆ + ç¢ºå®šã‚¤ãƒ™ãƒ³ãƒˆ)
brush-core.js:61 [BrushCore] window.brushSettings reference: true
brush-core.js:65 [BrushCore] window.pressureHandler not found - pressure sensitivity disabled
init @ brush-core.js:65
brush-core.js:107 âœ… [BrushCore] EventBus listeners setup complete
brush-core.js:70 âœ… [BrushCore] Initialized (Phase 1: BrushSettingsçµ±ä¸€ç‰ˆ)
brush-core.js:71    - CoordinateSystem: true
brush-core.js:72    - LayerManager: true
brush-core.js:73    - StrokeRecorder: true
brush-core.js:74    - StrokeRenderer: true
brush-core.js:75    - PressureHandler: false
brush-core.js:76    - BrushSettings: true
core-initializer.js:60 âœ… SettingsManager initialized
popup-manager.js:16 âœ… PopupManager initialized
popup-manager.js:42 ğŸ“‹ Popup "settings" registered (priority: 1)
popup-manager.js:42 ğŸ“‹ Popup "quickAccess" registered (priority: 2)
popup-manager.js:42 ğŸ“‹ Popup "album" registered (priority: 3)
popup-manager.js:42 ğŸ“‹ Popup "resize" registered (priority: 4)
popup-manager.js:102 ğŸ”§ Initializing all popups...
popup-manager.js:87 âœ… Popup "settings" initialized successfully
popup-manager.js:87 âœ… Popup "quickAccess" initialized successfully
popup-manager.js:87 âœ… Popup "album" initialized successfully
popup-manager.js:87 âœ… Popup "resize" initialized successfully
popup-manager.js:118 ğŸ“Š Popup initialization: 4 ready, 0 deferred
core-initializer.js:137 âœ… LayerPanelRenderer initialized
index.html:110 âœ… Application initialized (Phase 4-B: MSDFå®Œå…¨çµ±åˆç‰ˆ)
ui-panels.js:301 âœ… Sortable initialized with tablet pen support
popup-manager.js:42 ğŸ“‹ Popup "export" registered (priority: 5)
popup-manager.js:87 âœ… Popup "export" initialized successfully
// ãƒ–ãƒ©ã‚¦ã‚¶ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã«è²¼ã‚Šä»˜ã‘ã¦å®Ÿè¡Œ
(function debugLayerThumbnailSystem() {
    console.log('=== ãƒ¬ã‚¤ãƒ¤ãƒ¼ã‚µãƒ ãƒã‚¤ãƒ«å®Œå…¨ãƒ‡ãƒãƒƒã‚° ===\n');
    
    // 1. LayerPanelRendererã®è¤‡æ•°ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ç¢ºèª
    console.log('ğŸ“‹ Step 1: LayerPanelRenderer ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹èª¿æŸ»');
    
    const possibleInstances = [
        { path: 'window.CoreRuntime.internal.layerPanelRenderer', instance: window.CoreRuntime?.internal?.layerPanelRenderer },
        { path: 'window.layerPanelRenderer', instance: window.layerPanelRenderer },
        { path: 'window.uiPanels?.layerPanelRenderer', instance: window.uiPanels?.layerPanelRenderer }
    ];
    
    let activeRenderer = null;
    possibleInstances.forEach(({ path, instance }) => {
        if (instance) {
            console.log(`âœ… ${path} å­˜åœ¨`);
            console.log('  container:', instance.container);
            console.log('  container.id:', instance.container?.id);
            console.log('  eventBus:', !!instance.eventBus);
            console.log('  layerSystem:', !!instance.layerSystem);
            activeRenderer = instance;
        } else {
            console.log(`âŒ ${path} å­˜åœ¨ã—ãªã„`);
        }
    });
    
    if (!activeRenderer) {
        console.error('âŒ LayerPanelRendererã®ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“');
        return;
    }
    
    console.log('\nğŸ“‹ Step 2: èƒŒæ™¯ãƒ¬ã‚¤ãƒ¤ãƒ¼è©³ç´°èª¿æŸ»');
    const layers = window.layerSystem?.getLayers() || [];
    const bgLayer = layers[0];
    
    if (!bgLayer) {
        console.error('âŒ èƒŒæ™¯ãƒ¬ã‚¤ãƒ¤ãƒ¼ãŒå­˜åœ¨ã—ã¾ã›ã‚“');
        return;
    }
    
    console.log('èƒŒæ™¯ãƒ¬ã‚¤ãƒ¤ãƒ¼æƒ…å ±:');
    console.log('  layerData.isBackground:', bgLayer.layerData?.isBackground);
    console.log('  layerData.backgroundColor:', bgLayer.layerData?.backgroundColor);
    console.log('  layerData.backgroundColor (HEX):', 
        bgLayer.layerData?.backgroundColor ? 
        '#' + bgLayer.layerData.backgroundColor.toString(16).padStart(6, '0') : 
        'undefined');
    console.log('  layerData.visible:', bgLayer.layerData?.visible);
    console.log('  layerData.backgroundGraphics:', !!bgLayer.layerData?.backgroundGraphics);
    
    // 2. DOMä¸Šã®ã‚µãƒ ãƒã‚¤ãƒ«è¦ç´ ç¢ºèª
    console.log('\nğŸ“‹ Step 3: DOMä¸Šã®ã‚µãƒ ãƒã‚¤ãƒ«è¦ç´ èª¿æŸ»');
    const layerItems = document.querySelectorAll('.layer-item');
    console.log(`ãƒ¬ã‚¤ãƒ¤ãƒ¼ã‚¢ã‚¤ãƒ†ãƒ æ•°: ${layerItems.length}`);
    
    layerItems.forEach((item, i) => {
        const index = parseInt(item.dataset.layerIndex);
        const thumbnail = item.querySelector('.layer-thumbnail');
        const layerName = item.querySelector('.layer-name')?.textContent;
        
        console.log(`\n--- ãƒ¬ã‚¤ãƒ¤ãƒ¼ã‚¢ã‚¤ãƒ†ãƒ  [${i}] (index: ${index}) "${layerName}" ---`);
        
        if (thumbnail) {
            console.log('  ã‚µãƒ ãƒã‚¤ãƒ«ç™ºè¦‹:');
            console.log('    backgroundColor:', thumbnail.style.backgroundColor);
            console.log('    backgroundImage:', thumbnail.style.backgroundImage);
            console.log('    border:', thumbnail.style.border);
            console.log('    width:', thumbnail.style.width);
            console.log('    height:', thumbnail.style.height);
            
            const computed = window.getComputedStyle(thumbnail);
            console.log('    è¨ˆç®—æ¸ˆã¿backgroundColor:', computed.backgroundColor);
            console.log('    è¨ˆç®—æ¸ˆã¿border:', computed.border);
            console.log('    è¨ˆç®—æ¸ˆã¿width:', computed.width);
            console.log('    è¨ˆç®—æ¸ˆã¿height:', computed.height);
            
            // èƒŒæ™¯ãƒ¬ã‚¤ãƒ¤ãƒ¼ã®å ´åˆ
            if (index === 0) {
                console.log('\n  ğŸ” ã“ã‚Œã¯èƒŒæ™¯ãƒ¬ã‚¤ãƒ¤ãƒ¼ã§ã™');
                console.log('    æœŸå¾…ã•ã‚Œã‚‹è‰²: #f0e0d6');
                console.log('    å®Ÿéš›ã®è‰²:', thumbnail.style.backgroundColor);
                
                if (!thumbnail.style.backgroundColor || thumbnail.style.backgroundColor === '') {
                    console.error('    âŒ backgroundColor ãŒè¨­å®šã•ã‚Œã¦ã„ã¾ã›ã‚“ï¼');
                }
            }
        } else {
            console.error('  âŒ ã‚µãƒ ãƒã‚¤ãƒ«è¦ç´ ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“');
        }
    });
    
    // 3. EventBusã®ãƒªã‚¹ãƒŠãƒ¼ç¢ºèª
    console.log('\nğŸ“‹ Step 4: EventBus ãƒªã‚¹ãƒŠãƒ¼èª¿æŸ»');
    const eventBus = window.eventBus || window.CoreRuntime?.internal?.eventBus;
    
    if (eventBus) {
        console.log('âœ… EventBus å­˜åœ¨');
        
        // thumbnail:layer-updated ã‚¤ãƒ™ãƒ³ãƒˆã®ãƒªã‚¹ãƒŠãƒ¼ç¢ºèª
        const thumbnailListeners = eventBus._listeners?.['thumbnail:layer-updated'];
        console.log('thumbnail:layer-updated ãƒªã‚¹ãƒŠãƒ¼æ•°:', thumbnailListeners?.length || 0);
        
        if (thumbnailListeners && thumbnailListeners.length > 0) {
            console.log('  ç™»éŒ²æ¸ˆã¿ãƒªã‚¹ãƒŠãƒ¼:');
            thumbnailListeners.forEach((listener, i) => {
                console.log(`    [${i}]`, listener);
            });
        }
    } else {
        console.error('âŒ EventBus ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“');
    }
    
    // 4. createThumbnailãƒ¡ã‚½ãƒƒãƒ‰ã‚’ç›´æ¥å®Ÿè¡Œã—ã¦ãƒ†ã‚¹ãƒˆ
    console.log('\nğŸ“‹ Step 5: createThumbnail() ç›´æ¥å®Ÿè¡Œãƒ†ã‚¹ãƒˆ');
    
    if (activeRenderer && typeof activeRenderer.createThumbnail === 'function') {
        console.log('âœ… createThumbnail ãƒ¡ã‚½ãƒƒãƒ‰å­˜åœ¨');
        
        try {
            const testThumbnail = activeRenderer.createThumbnail(bgLayer, 0);
            console.log('ç”Ÿæˆã•ã‚ŒãŸã‚µãƒ ãƒã‚¤ãƒ«:');
            console.log('  backgroundColor:', testThumbnail.style.backgroundColor);
            console.log('  backgroundImage:', testThumbnail.style.backgroundImage);
            console.log('  border:', testThumbnail.style.border);
            
            if (!testThumbnail.style.backgroundColor) {
                console.error('âŒ createThumbnail() ãŒ backgroundColor ã‚’è¨­å®šã—ã¦ã„ã¾ã›ã‚“');
            } else {
                console.log('âœ… createThumbnail() ã¯æ­£ã—ã backgroundColor ã‚’è¨­å®šã—ã¦ã„ã¾ã™');
            }
        } catch (error) {
            console.error('âŒ createThumbnail() å®Ÿè¡Œã‚¨ãƒ©ãƒ¼:', error);
        }
    }
    
    // 5. layer-transform.jsã®ã‚¤ãƒ™ãƒ³ãƒˆç™ºç«ç¢ºèª
    console.log('\nğŸ“‹ Step 6: layer-transform ã‚¤ãƒ™ãƒ³ãƒˆç™ºç«èª¿æŸ»');
    
    const transform = window.layerSystem?.transform;
    if (transform) {
        console.log('âœ… LayerTransform å­˜åœ¨');
        console.log('  onTransformUpdate ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯:', typeof transform.onTransformUpdate);
        
        // ã‚¤ãƒ™ãƒ³ãƒˆãƒªã‚¹ãƒŠãƒ¼ã‚’ä¸€æ™‚çš„ã«è¿½åŠ ã—ã¦ãƒ†ã‚¹ãƒˆ
        if (eventBus) {
            const testListener = (data) => {
                console.log('ğŸ”” thumbnail:layer-updated ã‚¤ãƒ™ãƒ³ãƒˆå—ä¿¡:', data);
            };
            
            eventBus.on('thumbnail:layer-updated', testListener);
            console.log('âœ… ãƒ†ã‚¹ãƒˆãƒªã‚¹ãƒŠãƒ¼è¿½åŠ å®Œäº†');
            console.log('â†’ Vã‚­ãƒ¼ã§ãƒ¬ã‚¤ãƒ¤ãƒ¼ã‚’ãƒ‰ãƒ©ãƒƒã‚°ã—ã¦ã€ã‚¤ãƒ™ãƒ³ãƒˆãŒç™ºç«ã™ã‚‹ã‹ç¢ºèªã—ã¦ãã ã•ã„');
            
            // 10ç§’å¾Œã«è‡ªå‹•å‰Šé™¤
            setTimeout(() => {
                eventBus.off('thumbnail:layer-updated', testListener);
                console.log('â±ï¸ ãƒ†ã‚¹ãƒˆãƒªã‚¹ãƒŠãƒ¼å‰Šé™¤å®Œäº†');
            }, 10000);
        }
    } else {
        console.error('âŒ LayerTransform ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“');
    }
    
    // 6. CSSã‚¹ã‚¿ã‚¤ãƒ«ç¢ºèª
    console.log('\nğŸ“‹ Step 7: CSS ã‚¹ã‚¿ã‚¤ãƒ«èª¿æŸ»');
    const styleSheets = Array.from(document.styleSheets);
    let borderRuleFound = false;
    
    styleSheets.forEach((sheet, i) => {
        try {
            const rules = Array.from(sheet.cssRules || []);
            rules.forEach(rule => {
                if (rule.selectorText && rule.selectorText.includes('.layer-thumbnail')) {
                    console.log(`CSS Rule ç™ºè¦‹ (stylesheet ${i}):`, rule.cssText);
                    if (rule.style.border) {
                        borderRuleFound = true;
                        console.log('  âœ… border ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚ã‚Š:', rule.style.border);
                    }
                }
            });
        } catch (e) {
            // CORSåˆ¶é™ã§ã‚¢ã‚¯ã‚»ã‚¹ã§ããªã„ã‚¹ã‚¿ã‚¤ãƒ«ã‚·ãƒ¼ãƒˆã¯ã‚¹ã‚­ãƒƒãƒ—
        }
    });
    
    if (!borderRuleFound) {
        console.warn('âš ï¸ .layer-thumbnail ã® border CSS ãƒ«ãƒ¼ãƒ«ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“');
        console.log('  â†’ ã‚¤ãƒ³ãƒ©ã‚¤ãƒ³ã‚¹ã‚¿ã‚¤ãƒ«ã®ã¿ã§è¨­å®šã•ã‚Œã¦ã„ã‚‹å¯èƒ½æ€§');
    }
    
    // 7. æ‰‹å‹•ä¿®æ­£ãƒ†ã‚¹ãƒˆ
    console.log('\nğŸ“‹ Step 8: æ‰‹å‹•ä¿®æ­£ãƒ†ã‚¹ãƒˆ');
    
    const bgLayerItem = Array.from(layerItems).find(item => {
        return parseInt(item.dataset.layerIndex) === 0;
    });
    
    if (bgLayerItem) {
        const thumbnail = bgLayerItem.querySelector('.layer-thumbnail');
        if (thumbnail) {
            console.log('ğŸ”§ èƒŒæ™¯ãƒ¬ã‚¤ãƒ¤ãƒ¼ã‚µãƒ ãƒã‚¤ãƒ«ã‚’æ‰‹å‹•ä¿®æ­£ã—ã¾ã™...');
            
            // å¼·åˆ¶çš„ã«èƒŒæ™¯è‰²ã‚’è¨­å®š
            thumbnail.style.backgroundImage = 'none';
            thumbnail.style.backgroundColor = '#f0e0d6';
            thumbnail.style.border = '1px solid #cf9c97';
            
            console.log('âœ… ä¿®æ­£å®Œäº†');
            console.log('  æ–°ã—ã„ backgroundColor:', thumbnail.style.backgroundColor);
            console.log('  æ–°ã—ã„ border:', thumbnail.style.border);
            
            setTimeout(() => {
                console.log('\nâ±ï¸ 100mså¾Œã®ç¢ºèª:');
                console.log('  backgroundColor:', thumbnail.style.backgroundColor);
                console.log('  è¨ˆç®—æ¸ˆã¿ backgroundColor:', window.getComputedStyle(thumbnail).backgroundColor);
                console.log('  border:', thumbnail.style.border);
                console.log('  è¨ˆç®—æ¸ˆã¿ border:', window.getComputedStyle(thumbnail).border);
            }, 100);
        }
    }
    
    // 8. LayerPanelRendererã®ãƒ¡ã‚½ãƒƒãƒ‰ä¸€è¦§
    console.log('\nğŸ“‹ Step 9: LayerPanelRenderer ãƒ¡ã‚½ãƒƒãƒ‰ä¸€è¦§');
    if (activeRenderer) {
        const methods = Object.getOwnPropertyNames(Object.getPrototypeOf(activeRenderer));
        console.log('ãƒ¡ã‚½ãƒƒãƒ‰:', methods);
    }
    
    console.log('\n=== ãƒ‡ãƒãƒƒã‚°å®Œäº† ===');
    console.log('\næ¬¡ã®ãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œã—ã¦ãã ã•ã„:');
    console.log('1. Vã‚­ãƒ¼ã‚’æŠ¼ã—ã¦ãƒ¬ã‚¤ãƒ¤ãƒ¼ã‚’ãƒ‰ãƒ©ãƒƒã‚° â†’ ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã«ğŸ””ã‚¤ãƒ™ãƒ³ãƒˆãŒè¡¨ç¤ºã•ã‚Œã‚‹ã‹ç¢ºèª');
    console.log('2. èƒŒæ™¯ãƒ¬ã‚¤ãƒ¤ãƒ¼ã‚µãƒ ãƒã‚¤ãƒ«ã®è‰²ãŒ #f0e0d6 (ãƒ™ãƒ¼ã‚¸ãƒ¥) ã«ãªã£ã¦ã„ã‚‹ã‹ç¢ºèª');
    console.log('3. ã‚µãƒ ãƒã‚¤ãƒ«ã«æ ãŒè¡¨ç¤ºã•ã‚Œã¦ã„ã‚‹ã‹ç¢ºèª');
})();
VM88:3 === ãƒ¬ã‚¤ãƒ¤ãƒ¼ã‚µãƒ ãƒã‚¤ãƒ«å®Œå…¨ãƒ‡ãƒãƒƒã‚° ===

VM88:6 ğŸ“‹ Step 1: LayerPanelRenderer ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹èª¿æŸ»
VM88:24 âŒ window.CoreRuntime.internal.layerPanelRenderer å­˜åœ¨ã—ãªã„
VM88:17 âœ… window.layerPanelRenderer å­˜åœ¨
VM88:18   container: <div id=â€‹"layer-list" class=â€‹"layer-panel-items">â€‹â€¦â€‹</div>â€‹flex
VM88:19   container.id: layer-list
VM88:20   eventBus: true
VM88:21   layerSystem: true
VM88:24 âŒ window.uiPanels?.layerPanelRenderer å­˜åœ¨ã—ãªã„
VM88:33 
ğŸ“‹ Step 2: èƒŒæ™¯ãƒ¬ã‚¤ãƒ¤ãƒ¼è©³ç´°èª¿æŸ»
VM88:38 âŒ èƒŒæ™¯ãƒ¬ã‚¤ãƒ¤ãƒ¼ãŒå­˜åœ¨ã—ã¾ã›ã‚“
debugLayerThumbnailSystem @ VM88:38
ï¼ˆåŒ¿åï¼‰ @ VM88:235
undefined
