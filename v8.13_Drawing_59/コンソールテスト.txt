 âœ… config.js (Phase 2å®Œå…¨ç‰ˆ) loaded
    - BRUSH_DEFAULTSè¿½åŠ å®Œäº†
 âœ… system/event-bus.js Phase 2: å„ªå…ˆåº¦æ©Ÿèƒ½è¿½åŠ ç‰ˆ loaded
 âœ… data-models.js (ãƒã‚¹ã‚¯ã‚¹ãƒ—ãƒ©ã‚¤ãƒˆä¸å¯è¦–ç‰ˆ) loaded
 âœ… batch-api.js (Phase 6: Historyçµ±åˆç‰ˆ) loaded
 âœ… popup-manager.js (quick-accessé™¤å¤–å¯¾å¿œç‰ˆ) loaded
 âœ… camera-system.js (v2.0: ãƒªã‚µã‚¤ã‚ºä¿®æ­£ç‰ˆ) loaded
 âœ… layer-transform.js (Phase 4å®Œäº†: Vãƒ¢ãƒ¼ãƒ‰åè»¢æ©Ÿèƒ½å®Œå…¨ç‰ˆ) loaded
 âœ… layer-system.js (v2.0.1: åè»¢æ©Ÿèƒ½ä¿®å¾©ç‰ˆ) loaded
 âœ… drawing-clipboard.js Phase4æ”¹ä¿®ç‰ˆ+ç¢ºå®šã‚¤ãƒ™ãƒ³ãƒˆ loaded
    - âœ… CTRL+V behavior: overwrite active layer
    - âœ… Commit events: paste:commit, operation:commit
    - âœ… Thumbnail auto-update on paste
 âœ… history.js (Phase 3: Redo nullå‚ç…§ä¿®æ­£ç‰ˆ) loaded
 âœ… animation-system.js (Phase 1æ”¹ä¿®ç‰ˆãƒ»ãƒ•ãƒ¬ãƒ¼ãƒ åçµ±ä¸€: xFå½¢å¼) loaded
 âœ… pressure-handler.js (Phase 3: è·é›¢ãƒ™ãƒ¼ã‚¹ãƒ•ã‚£ãƒ«ã‚¿è¿½åŠ ç‰ˆ) loaded
    - applyDistanceFilter() è¿½åŠ 
    - çŸ­è·é›¢: alpha=0.9 (å³åº§åæ˜ )
    - é•·è·é›¢: alpha=0.3 (ã‚¹ãƒ ãƒ¼ã‚¸ãƒ³ã‚°å¼·)
 âœ… curve-interpolator.js (Phase 3) loaded
    - Catmull-Rom ã‚¹ãƒ—ãƒ©ã‚¤ãƒ³è£œé–“
    - é©å¿œçš„ã‚µãƒ³ãƒ—ãƒªãƒ³ã‚°å¯¾å¿œ
    - tiltX/Y/twist ãƒ‡ãƒ¼ã‚¿è£œé–“å¯¾å¿œ
 âœ… system/drawing/stroke-renderer.js loaded (PixiJS v8å®Œå…¨å¯¾å¿œç‰ˆ)
 âœ… system/drawing/thumbnail-system.js Phase 1å®Œå…¨ç‰ˆ loaded
 âœ… brush-settings.js (APIçµ±ä¸€ç‰ˆ) loaded
    - âœ… getOpacity() / setOpacity() è¿½åŠ 
    - âœ… brush:opacity-changed ã‚¤ãƒ™ãƒ³ãƒˆè³¼èª­è¿½åŠ 
 âœ… drawing-engine.js (ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ç´¯ç©æç”»ä¿®æ­£ç‰ˆ) loaded
 âœ… quick-export-ui.js (ç„¡åŠ¹åŒ–ç‰ˆ) loaded
 âœ… export-manager.js (CUTâ†’FRAMEå®Œå…¨ä¿®æ­£ç‰ˆ) loaded
 âœ… png-exporter.js (å˜ä¸€ãƒ•ãƒ¬ãƒ¼ãƒ å°‚ç”¨ãƒ»ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼å¯¾å¿œ) loaded
 âœ… apng-exporter.js (CUTâ†’FRAMEå®Œå…¨ä¿®æ­£ç‰ˆ) loaded
 âœ… gif-exporter.js (CUTâ†’FRAMEå®Œå…¨ä¿®æ­£ç‰ˆ) loaded
 âœ… webp-exporter.js (é™æ­¢ç”»ãƒ»å‹•ç”»è‡ªå‹•åˆ¤å®šå¯¾å¿œç‰ˆ) loaded
 âœ… mp4-exporter.js (Phase 8å®Œæˆç‰ˆ) loaded
pdf-exporter.js:225 âœ… pdf-exporter.js (CUTâ†’FRAMEå®Œå…¨å¯¾å¿œç‰ˆ) loaded
dom-builder.js:494 âœ… dom-builder.js (IDé‡è¤‡è§£æ¶ˆç‰ˆ) loaded
dom-builder.js:495    - #pen-settings â†’ #legacy-pen-settings ã«å¤‰æ›´
dom-builder.js:496    - pen-size-slider â†’ legacy-pen-size-slider ã«å¤‰æ›´
dom-builder.js:497    - quick-access-popup.jsã¨ã®IDç«¶åˆã‚’å®Œå…¨è§£æ¶ˆ
slider-utils.js:197 âœ… ui/slider-utils.js loaded
slider-utils.js:198    - è²¬å‹™: ã‚¹ãƒ©ã‚¤ãƒ€ãƒ¼UIã®çµ±ä¸€å®Ÿè£…
slider-utils.js:199    - DRYåŸå‰‡: settings-popup.js ã¨ ui-panels.js ã§å…±æœ‰
slider-utils.js:200    - API: createSlider() / createSimpleSlider()
keyboard-handler.js:318 âœ… keyboard-handler.js (P/Eã‚µã‚¤ãƒ‰ãƒãƒ¼åŒæœŸç‰ˆ) loaded
resize-popup.js:452 âœ… resize-popup.js (Phase 4å®Œäº†: ãƒ­ã‚¸ãƒƒã‚¯å‰Šæ¸›ç‰ˆ) loaded
status-display-renderer.js:138 âœ… status-display-renderer.js (Phase 1æ”¹ä¿®ç‰ˆ) loaded
timeline-ui.js:981 âœ… timeline-ui.js (Phase 4å®Œäº†: ãƒ¬ã‚¤ãƒ¤ãƒ¼å¤‰å½¢é€£æºç‰ˆ) loaded
album-popup.js:473 âœ… album-popup.js (FRAMEæ”¹ä¿®ç‰ˆ) loaded
settings-popup.js:583 âœ… settings-popup.js (å³å¿œæ€§å®Œå…¨ä¿®æ­£ç‰ˆ) loaded
settings-popup.js:584    - CSS transitionå®Œå…¨é™¤å»ï¼ˆ!importantä»˜ãï¼‰
settings-popup.js:585    - DOMæ›´æ–°ã‚’åŒæœŸçš„ã«å³åº§å®Ÿè¡Œ
settings-popup.js:586    - quick-access/resize-popupã¨å®Œå…¨åŒç­‰ã®å‹•ä½œ
quick-access-popup.js:538 âœ… quick-access-popup.js (èƒŒæ™¯ãƒ‰ãƒ©ãƒƒã‚° + é–‰ã˜ã‚‹ãƒœã‚¿ãƒ³ç‰ˆ) loaded
quick-access-popup.js:539    - èƒŒæ™¯ãƒ‰ãƒ©ãƒƒã‚°ã§ç§»å‹•å¯èƒ½ï¼ˆã‚¹ãƒ©ã‚¤ãƒ€ãƒ¼/ãƒœã‚¿ãƒ³ä»¥å¤–ï¼‰
quick-access-popup.js:540    - å³ä¸ŠÃ—ãƒœã‚¿ãƒ³ã§é–‰ã˜ã‚‹
quick-access-popup.js:541    - ç”»é¢å¤–ã‚¯ãƒªãƒƒã‚¯ã§é–‰ã˜ãªã„ï¼ˆå¸¸æ™‚é–‹ãã£ã±ãªã—å¯èƒ½ï¼‰
export-popup.js:423 âœ… export-popup.js (frameInfoä¿®æ­£ç‰ˆï¼‹PDFæœ‰åŠ¹åŒ–) loaded
ui-panels.js:408 âœ… ui-panels.js (ã‚µã‚¤ãƒ‰ãƒãƒ¼åŒæœŸãƒ»è‰²èª¿æ•´ç‰ˆ) loaded
core-runtime.js:713 âœ… core-runtime.js (Phase 1-3å®Œå…¨ç‰ˆ: ThumbnailSystemçµ±åˆ) loaded
core-engine.js:724 âœ… core-engine.js (Phase2å®Œå…¨ä¿®æ­£ç‰ˆ) loaded
core-initializer.js:347 âœ… core-initializer.js (å®Œå…¨ä¿®æ­£ç‰ˆãƒ»SettingsManagerï¼‹ExportPopupå¯¾å¿œ) loaded
drawing-clipboard.js:19 DrawingClipboard: Initializing...
drawing-clipboard.js:26 âœ… DrawingClipboard initialized (Phase4æ”¹ä¿®ç‰ˆ + ç¢ºå®šã‚¤ãƒ™ãƒ³ãƒˆ)
thumbnail-system.js:43 âœ… ThumbnailSystem initialized
core-initializer.js:63 âœ… SettingsManager initialized
popup-manager.js:16 âœ… PopupManager initialized
popup-manager.js:42 ğŸ“‹ Popup "settings" registered (priority: 1)
popup-manager.js:42 ğŸ“‹ Popup "quickAccess" registered (priority: 2)
popup-manager.js:42 ğŸ“‹ Popup "album" registered (priority: 3)
popup-manager.js:42 ğŸ“‹ Popup "resize" registered (priority: 4)
popup-manager.js:102 ğŸ”§ Initializing all popups...
popup-manager.js:87 âœ… Popup "settings" initialized successfully
popup-manager.js:87 âœ… Popup "quickAccess" initialized successfully
popup-manager.js:87 âœ… Popup "album" initialized successfully
popup-manager.js:87 âœ… Popup "resize" initialized successfully
popup-manager.js:118 ğŸ“Š Popup initialization: 4 ready, 0 deferred
popup-manager.js:42 ğŸ“‹ Popup "export" registered (priority: 5)
popup-manager.js:87 âœ… Popup "export" initialized successfully
core-initializer.js:245 âœ… ExportPopup registered and initialized
// ===== å®Œå…¨ãªã‚·ãƒ³ãƒœãƒ«è¾å…¸ã®ä½œæˆ =====

const symbolDict = {
    timestamp: new Date().toISOString(),
    
    // ã‚°ãƒ­ãƒ¼ãƒãƒ«ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ
    globals: {
        PIXI: {
            version: PIXI.VERSION,
            Graphics: typeof PIXI.Graphics,
            Container: typeof PIXI.Container,
            Application: typeof PIXI.Application
        },
        CoordinateSystem: typeof window.CoordinateSystem,
        TegakiEventBus: typeof window.TegakiEventBus,
        CoreRuntime: typeof window.CoreRuntime,
        DrawingEngine: typeof window.DrawingEngine,
        StrokeRenderer: typeof window.StrokeRenderer,
        StrokeRecorder: typeof window.StrokeRecorder,
        PressureHandler: typeof window.PressureHandler,
        CurveInterpolator: typeof window.CurveInterpolator
    },
    
    // CoreRuntimeå†…éƒ¨æ§‹é€ 
    coreRuntime: {
        initialized: window.CoreRuntime?.internal?.initialized,
        pointerEventsSetup: window.CoreRuntime?.internal?.pointerEventsSetup,
        app: !!window.CoreRuntime?.internal?.app,
        stage: !!window.CoreRuntime?.internal?.app?.stage,
        worldContainer: !!window.CoreRuntime?.internal?.worldContainer,
        cameraSystem: !!window.CoreRuntime?.internal?.cameraSystem,
        layerManager: !!window.CoreRuntime?.internal?.layerManager,
        drawingEngine: !!window.CoreRuntime?.internal?.drawingEngine
    },
    
    // DrawingEngineæ§‹é€ 
    drawingEngine: null,
    
    // StrokeRendereræ§‹é€ 
    strokeRenderer: null,
    
    // ãƒ¬ã‚¤ãƒ¤ãƒ¼æ§‹é€ 
    layers: null,
    
    // ã‚¤ãƒ™ãƒ³ãƒˆãƒªã‚¹ãƒŠãƒ¼
    eventListeners: null
};

// DrawingEngineè©³ç´°
const engine = window.CoreRuntime?.internal?.drawingEngine;
if (engine) {
    symbolDict.drawingEngine = {
        className: engine.constructor.name,
        isDrawing: engine.isDrawing,
        currentTool: engine.currentTool,
        currentLayer: !!engine.currentLayer,
        currentStrokeGraphics: !!engine.currentStrokeGraphics,
        strokeRenderer: !!engine.strokeRenderer,
        strokeRecorder: !!engine.strokeRecorder,
        pressureHandler: !!engine.pressureHandler,
        brushSettings: !!engine.brushSettings,
        methods: Object.getOwnPropertyNames(Object.getPrototypeOf(engine)).filter(m => typeof engine[m] === 'function')
    };
}

// StrokeRendererè©³ç´°
const renderer = engine?.strokeRenderer;
if (renderer) {
    symbolDict.strokeRenderer = {
        className: renderer.constructor.name,
        currentTool: renderer.currentTool,
        resolution: renderer.resolution,
        minPhysicalWidth: renderer.minPhysicalWidth,
        methods: Object.getOwnPropertyNames(Object.getPrototypeOf(renderer)).filter(m => typeof renderer[m] === 'function')
    };
}

// ãƒ¬ã‚¤ãƒ¤ãƒ¼æ§‹é€ 
const layerMgr = window.CoreRuntime?.internal?.layerManager;
if (layerMgr) {
    const layers = layerMgr.getLayers();
    symbolDict.layers = {
        count: layers?.length || 0,
        activeIndex: layerMgr.activeLayerIndex,
        layers: layers?.map((layer, idx) => ({
            index: idx,
            id: layer.layerData?.id,
            isBackground: layer.layerData?.isBackground,
            visible: layer.visible,
            alpha: layer.alpha,
            childrenCount: layer.children?.length || 0,
            pathsCount: layer.layerData?.paths?.length || 0,
            position: { x: layer.x, y: layer.y },
            scale: { x: layer.scale?.x, y: layer.scale?.y }
        }))
    };
}

// Stageä¸Šã®ã‚¤ãƒ™ãƒ³ãƒˆãƒªã‚¹ãƒŠãƒ¼
const stage = window.CoreRuntime?.internal?.app?.stage;
if (stage && stage._events) {
    symbolDict.eventListeners = {
        pointerdown: stage._events.pointerdown?.length || 0,
        pointermove: stage._events.pointermove?.length || 0,
        pointerup: stage._events.pointerup?.length || 0,
        pointerupoutside: stage._events.pointerupoutside?.length || 0
    };
}

console.log('===== ã‚·ãƒ³ãƒœãƒ«è¾å…¸ =====');
console.log(JSON.stringify(symbolDict, null, 2));

// ãƒ•ã‚¡ã‚¤ãƒ«ä¿å­˜ç”¨
console.log('\n===== ã‚³ãƒ”ãƒ¼ç”¨JSON =====');
console.log(JSON.stringify(symbolDict, null, 2));
VM285:110 ===== ã‚·ãƒ³ãƒœãƒ«è¾å…¸ =====
VM285:111 {
  "timestamp": "2025-10-29T05:15:10.931Z",
  "globals": {
    "PIXI": {
      "version": "8.13.0",
      "Graphics": "function",
      "Container": "function",
      "Application": "function"
    },
    "CoordinateSystem": "object",
    "TegakiEventBus": "object",
    "CoreRuntime": "object",
    "DrawingEngine": "function",
    "StrokeRenderer": "function",
    "StrokeRecorder": "undefined",
    "PressureHandler": "undefined",
    "CurveInterpolator": "function"
  },
  "coreRuntime": {
    "initialized": true,
    "pointerEventsSetup": true,
    "app": true,
    "stage": true,
    "worldContainer": true,
    "cameraSystem": true,
    "layerManager": true,
    "drawingEngine": true
  },
  "drawingEngine": {
    "className": "DrawingEngine",
    "isDrawing": false,
    "currentTool": "pen",
    "currentLayer": false,
    "currentStrokeGraphics": false,
    "strokeRenderer": true,
    "strokeRecorder": true,
    "pressureHandler": true,
    "brushSettings": true,
    "methods": [
      "constructor",
      "initializeRenderers",
      "setBrushSettings",
      "setTool",
      "getCurrentSettings",
      "startDrawing",
      "continueDrawing",
      "stopDrawing",
      "getLocalCoordinates",
      "clearPreview",
      "clearEraserPreview",
      "updatePreview",
      "updatePenPreview",
      "updateEraserPreview",
      "destroy"
    ]
  },
  "strokeRenderer": {
    "className": "StrokeRenderer",
    "currentTool": "pen",
    "resolution": 2,
    "minPhysicalWidth": 0.5,
    "methods": [
      "constructor",
      "setTool",
      "calculateWidth",
      "renderPreview",
      "renderStroke",
      "renderFinalStroke",
      "renderDot",
      "updateResolution"
    ]
  },
  "layers": {
    "count": 2,
    "activeIndex": 1,
    "layers": [
      {
        "index": 0,
        "id": "layer_1761714904987_327vsai8i",
        "isBackground": true,
        "visible": true,
        "alpha": 1,
        "childrenCount": 1,
        "pathsCount": 0,
        "position": {
          "x": 0,
          "y": 0
        },
        "scale": {
          "x": 1,
          "y": 1
        }
      },
      {
        "index": 1,
        "id": "layer_1761714904987_nq9o41z2e",
        "isBackground": false,
        "visible": true,
        "alpha": 1,
        "childrenCount": 1,
        "pathsCount": 1,
        "position": {
          "x": 0,
          "y": 0
        },
        "scale": {
          "x": 1,
          "y": 1
        }
      }
    ]
  },
  "eventListeners": {
    "pointerdown": 0,
    "pointermove": 0,
    "pointerup": 0,
    "pointerupoutside": 0
  }
}
VM285:114 
===== ã‚³ãƒ”ãƒ¼ç”¨JSON =====
VM285:115 {
  "timestamp": "2025-10-29T05:15:10.931Z",
  "globals": {
    "PIXI": {
      "version": "8.13.0",
      "Graphics": "function",
      "Container": "function",
      "Application": "function"
    },
    "CoordinateSystem": "object",
    "TegakiEventBus": "object",
    "CoreRuntime": "object",
    "DrawingEngine": "function",
    "StrokeRenderer": "function",
    "StrokeRecorder": "undefined",
    "PressureHandler": "undefined",
    "CurveInterpolator": "function"
  },
  "coreRuntime": {
    "initialized": true,
    "pointerEventsSetup": true,
    "app": true,
    "stage": true,
    "worldContainer": true,
    "cameraSystem": true,
    "layerManager": true,
    "drawingEngine": true
  },
  "drawingEngine": {
    "className": "DrawingEngine",
    "isDrawing": false,
    "currentTool": "pen",
    "currentLayer": false,
    "currentStrokeGraphics": false,
    "strokeRenderer": true,
    "strokeRecorder": true,
    "pressureHandler": true,
    "brushSettings": true,
    "methods": [
      "constructor",
      "initializeRenderers",
      "setBrushSettings",
      "setTool",
      "getCurrentSettings",
      "startDrawing",
      "continueDrawing",
      "stopDrawing",
      "getLocalCoordinates",
      "clearPreview",
      "clearEraserPreview",
      "updatePreview",
      "updatePenPreview",
      "updateEraserPreview",
      "destroy"
    ]
  },
  "strokeRenderer": {
    "className": "StrokeRenderer",
    "currentTool": "pen",
    "resolution": 2,
    "minPhysicalWidth": 0.5,
    "methods": [
      "constructor",
      "setTool",
      "calculateWidth",
      "renderPreview",
      "renderStroke",
      "renderFinalStroke",
      "renderDot",
      "updateResolution"
    ]
  },
  "layers": {
    "count": 2,
    "activeIndex": 1,
    "layers": [
      {
        "index": 0,
        "id": "layer_1761714904987_327vsai8i",
        "isBackground": true,
        "visible": true,
        "alpha": 1,
        "childrenCount": 1,
        "pathsCount": 0,
        "position": {
          "x": 0,
          "y": 0
        },
        "scale": {
          "x": 1,
          "y": 1
        }
      },
      {
        "index": 1,
        "id": "layer_1761714904987_nq9o41z2e",
        "isBackground": false,
        "visible": true,
        "alpha": 1,
        "childrenCount": 1,
        "pathsCount": 1,
        "position": {
          "x": 0,
          "y": 0
        },
        "scale": {
          "x": 1,
          "y": 1
        }
      }
    ]
  },
  "eventListeners": {
    "pointerdown": 0,
    "pointermove": 0,
    "pointerup": 0,
    "pointerupoutside": 0
  }
}
undefined
// ===== Stage ã‚¤ãƒ™ãƒ³ãƒˆãƒªã‚¹ãƒŠãƒ¼ã®è©³ç´°ç¢ºèª =====

const stage = window.CoreRuntime.internal.app.stage;

console.log('=== Stage ã‚¤ãƒ™ãƒ³ãƒˆè©³ç´° ===');
console.log('stage:', stage);
console.log('stage.eventMode:', stage.eventMode);
console.log('stage.hitArea:', stage.hitArea);
console.log('stage.interactive:', stage.interactive);
console.log('stage.interactiveChildren:', stage.interactiveChildren);

// _events ã®å†…éƒ¨æ§‹é€ ã‚’ç¢ºèª
console.log('\n=== _events æ§‹é€  ===');
if (stage._events) {
    console.log('_events:', stage._events);
    console.log('_events keys:', Object.keys(stage._events));
    
    for (const key of Object.keys(stage._events)) {
        const listeners = stage._events[key];
        console.log(`${key}:`, Array.isArray(listeners) ? listeners.length : typeof listeners);
    }
}

// PixiJS v8 ã§ã¯ã‚¤ãƒ™ãƒ³ãƒˆãŒåˆ¥ã®å ´æ‰€ã«ä¿å­˜ã•ã‚Œã¦ã„ã‚‹å¯èƒ½æ€§
console.log('\n=== ãã®ä»–ã®ã‚¤ãƒ™ãƒ³ãƒˆé–¢é€£ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ ===');
console.log('stage.listeners:', stage.listeners);
console.log('stage._eventsCount:', stage._eventsCount);

// EventEmitter ã®æ§‹é€ ç¢ºèª
if (stage.eventNames) {
    console.log('stage.eventNames():', stage.eventNames());
}

if (stage.listenerCount) {
    console.log('pointerdown listeners:', stage.listenerCount('pointerdown'));
    console.log('pointermove listeners:', stage.listenerCount('pointermove'));
    console.log('pointerup listeners:', stage.listenerCount('pointerup'));
}
VM292:5 === Stage ã‚¤ãƒ™ãƒ³ãƒˆè©³ç´° ===
VM292:6 stage: ZÂ {_events: i, _eventsCount: 4, uid: 1, _updateFlags: 15, renderGroup: Pi,Â â€¦}
VM292:7 stage.eventMode: static
VM292:8 stage.hitArea: zÂ {type: 'rectangle', x: 0, y: 0, width: 486, height: 605}
VM292:9 stage.interactive: true
VM292:10 stage.interactiveChildren: true
VM292:13 
=== _events æ§‹é€  ===
VM292:15 _events: iÂ {pointerdown: s, pointermove: s, pointerup: s, pointerupoutside: s}
VM292:16 _events keys: (4)Â ['pointerdown', 'pointermove', 'pointerup', 'pointerupoutside']
VM292:20 pointerdown: object
VM292:20 pointermove: object
VM292:20 pointerup: object
VM292:20 pointerupoutside: object
VM292:25 
=== ãã®ä»–ã®ã‚¤ãƒ™ãƒ³ãƒˆé–¢é€£ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ ===
VM292:26 stage.listeners: Æ’ (u){var c=e?e+u:u,d=this._events[c];if(!d)return[];if(d.fn)return[d.fn];for(var p=0,f=d.length,m=new Array(f);p<f;p++)m[p]=d[p].fn;return m}
VM292:27 stage._eventsCount: 4
VM292:31 stage.eventNames(): (4)Â ['pointerdown', 'pointermove', 'pointerup', 'pointerupoutside']
VM292:35 pointerdown listeners: 1
VM292:36 pointermove listeners: 1
VM292:37 pointerup listeners: 1
undefined
// ===== ãƒ¬ã‚¤ãƒ¤ãƒ¼1ã®å­ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’è©³ç´°ç¢ºèª =====

const layerMgr = window.CoreRuntime.internal.layerManager;
const activeLayer = layerMgr.getActiveLayer();

console.log('=== ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ãƒ¬ã‚¤ãƒ¤ãƒ¼ã®å­ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ ===');
console.log('children count:', activeLayer.children.length);

activeLayer.children.forEach((child, idx) => {
    console.log(`\n--- Child ${idx} ---`);
    console.log('type:', child.constructor.name);
    console.log('visible:', child.visible);
    console.log('alpha:', child.alpha);
    console.log('blendMode:', child.blendMode);
    
    const bounds = child.getBounds();
    console.log('bounds:', {
        x: bounds.x,
        y: bounds.y,
        width: bounds.width,
        height: bounds.height,
        isEmpty: bounds.width === 0 && bounds.height === 0
    });
    
    // Graphicsã®å ´åˆã€å†…éƒ¨æ§‹é€ ã‚’ç¢ºèª
    if (child.constructor.name.includes('raphics') || child.constructor.name === 'or') {
        console.log('geometry:', child.geometry);
        console.log('_didGraphicsUpdate:', child._didGraphicsUpdate);
        
        // batchesç¢ºèª
        if (child.geometry?.batches) {
            console.log('batches.length:', child.geometry.batches.length);
        }
        
        // contextã‚’ç¢ºèªï¼ˆPixiJS v8ã®å†…éƒ¨APIï¼‰
        if (child.context) {
            console.log('context:', child.context);
            console.log('context.instructions:', child.context.instructions);
        }
    }
});

// pathsãƒ‡ãƒ¼ã‚¿ã‚‚ç¢ºèª
console.log('\n=== paths ãƒ‡ãƒ¼ã‚¿ ===');
if (activeLayer.layerData?.paths) {
    console.log('paths count:', activeLayer.layerData.paths.length);
    
    activeLayer.layerData.paths.forEach((path, idx) => {
        console.log(`\nPath ${idx}:`);
        console.log('  id:', path.id);
        console.log('  points:', path.points.length);
        console.log('  color:', path.color.toString(16));
        console.log('  size:', path.size);
        console.log('  graphics:', path.graphics);
        
        if (path.graphics) {
            const gb = path.graphics.getBounds();
            console.log('  graphics bounds:', { x: gb.x, y: gb.y, w: gb.width, h: gb.height });
        }
    });
}
VM295:6 === ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ãƒ¬ã‚¤ãƒ¤ãƒ¼ã®å­ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ ===
VM295:7 children count: 2
VM295:10 
--- Child 0 ---
VM295:11 type: or
VM295:12 visible: true
VM295:13 alpha: 1
VM295:14 blendMode: inherit
VM295:17 bounds: {x: 0, y: 0, width: 0, height: 0, isEmpty: true}
VM295:27 geometry: undefined
VM295:28 _didGraphicsUpdate: undefined
VM295:37 context: JtÂ {_events: i, _eventsCount: 2, uid: 8, dirty: false, batchMode: 'auto',Â â€¦}
VM295:38 context.instructions: []
VM295:10 
--- Child 1 ---
VM295:11 type: or
VM295:12 visible: true
VM295:13 alpha: 1
VM295:14 blendMode: inherit
VM295:17 bounds: {x: 0, y: 0, width: 0, height: 0, isEmpty: true}
VM295:27 geometry: undefined
VM295:28 _didGraphicsUpdate: undefined
VM295:37 context: JtÂ {_events: i, _eventsCount: 2, uid: 11, dirty: false, batchMode: 'auto',Â â€¦}
VM295:38 context.instructions: []
VM295:44 
=== paths ãƒ‡ãƒ¼ã‚¿ ===
VM295:46 paths count: 2
VM295:49 
Path 0:
VM295:50   id: path_1761714907828_afnip2ey2
VM295:51   points: 2
VM295:52   color: 800000
VM295:53   size: 10
VM295:54   graphics: orÂ {_events: i, _eventsCount: 0, uid: 22, _updateFlags: 0, renderGroup: null,Â â€¦}
VM295:58   graphics bounds: {x: 0, y: 0, w: 0, h: 0}
VM295:49 
Path 1:
VM295:50   id: path_1761714976168_3a8vmwxk7
VM295:51   points: 2
VM295:52   color: 800000
VM295:53   size: 10
VM295:54   graphics: orÂ {_events: i, _eventsCount: 0, uid: 26, _updateFlags: 0, renderGroup: null,Â â€¦}
VM295:58   graphics bounds: {x: 0, y: 0, w: 0, h: 0}
undefined
// ===== è§£æ±ºç­–: Graphics APIã®æ­£ã—ã„ä½¿ã„æ–¹ã‚’ãƒ†ã‚¹ãƒˆ =====

const layerMgr = window.CoreRuntime.internal.layerManager;
const activeLayer = layerMgr.getActiveLayer();

console.log('=== Graphics API ãƒ†ã‚¹ãƒˆ ===');

// ãƒ†ã‚¹ãƒˆ1: æ–°ã—ã„Graphicsã«ç›´æ¥æç”»
const test1 = new PIXI.Graphics();
test1.circle(100, 200, 25);
test1.fill({ color: 0xFF00FF, alpha: 1.0 });
activeLayer.addChild(test1);

console.log('Test1 (æ–°è¦Graphics + circle + fill):');
console.log('  instructions:', test1.context.instructions.length);
console.log('  bounds:', test1.getBounds());

// ãƒ†ã‚¹ãƒˆ2: é–¢æ•°å†…ã§æ–°è¦Graphicsä½œæˆã—ã¦è¿”ã™
function createGraphics2() {
    const g = new PIXI.Graphics();
    g.circle(200, 200, 25);
    g.fill({ color: 0x00FFFF, alpha: 1.0 });
    return g;
}

const test2 = createGraphics2();
activeLayer.addChild(test2);

console.log('\nTest2 (é–¢æ•°å†…ã§ä½œæˆ):');
console.log('  instructions:', test2.context.instructions.length);
console.log('  bounds:', test2.getBounds());

// ãƒ†ã‚¹ãƒˆ3: æ—¢å­˜Graphicsã‚’å¼•æ•°ã§å—ã‘å–ã£ã¦æç”»
function drawOnExisting(g) {
    g.circle(300, 200, 25);
    g.fill({ color: 0xFFFF00, alpha: 1.0 });
    return g;
}

const test3 = new PIXI.Graphics();
activeLayer.addChild(test3);
drawOnExisting(test3);

console.log('\nTest3 (æ—¢å­˜Graphicsã«é–¢æ•°å†…ã§æç”»):');
console.log('  instructions:', test3.context.instructions.length);
console.log('  bounds:', test3.getBounds());

// ãƒ†ã‚¹ãƒˆ4: ãƒ¬ã‚¤ãƒ¤ãƒ¼ã«è¿½åŠ ã—ãŸå¾Œã«æç”»
const test4 = new PIXI.Graphics();
activeLayer.addChild(test4);

setTimeout(() => {
    test4.circle(400, 200, 25);
    test4.fill({ color: 0xFF8800, alpha: 1.0 });
    
    console.log('\nTest4 (è¿½åŠ å¾Œã«æç”»):');
    console.log('  instructions:', test4.context.instructions.length);
    console.log('  bounds:', test4.getBounds());
}, 100);

console.log('\nç”»é¢ã‚’ç¢ºèªã—ã¦ãã ã•ã„ã€‚ãƒã‚¼ãƒ³ã‚¿ã€ã‚·ã‚¢ãƒ³ã€é»„è‰²ã€ã‚ªãƒ¬ãƒ³ã‚¸ã®å††ãŒè¦‹ãˆã¾ã™ã‹ï¼Ÿ');
VM299:6 === Graphics API ãƒ†ã‚¹ãƒˆ ===
VM299:14 Test1 (æ–°è¦Graphics + circle + fill):
VM299:15   instructions: 1
VM299:16   bounds: otÂ {minX: 303, minY: 407.5, maxX: 353, maxY: 457.5, matrix: M}
VM299:29 
Test2 (é–¢æ•°å†…ã§ä½œæˆ):
VM299:30   instructions: 1
VM299:31   bounds: otÂ {minX: 403, minY: 407.5, maxX: 453, maxY: 457.5, matrix: M}
VM299:44 
Test3 (æ—¢å­˜Graphicsã«é–¢æ•°å†…ã§æç”»):
VM299:45   instructions: 1
VM299:46   bounds: otÂ {minX: 503, minY: 407.5, maxX: 553, maxY: 457.5, matrix: M}
VM299:61 
ç”»é¢ã‚’ç¢ºèªã—ã¦ãã ã•ã„ã€‚ãƒã‚¼ãƒ³ã‚¿ã€ã‚·ã‚¢ãƒ³ã€é»„è‰²ã€ã‚ªãƒ¬ãƒ³ã‚¸ã®å††ãŒè¦‹ãˆã¾ã™ã‹ï¼Ÿ
undefined
VM299:56 
Test4 (è¿½åŠ å¾Œã«æç”»):
VM299:57   instructions: 1
VM299:58   bounds: otÂ {minX: 603, minY: 407.5, maxX: 653, maxY: 457.5, matrix: M}
popup-manager.js:192 ğŸ‘ï¸ Popup "resize" shown
