ãƒ–ãƒ©ã‚¦ã‚¶ãŠçµµã‹ããƒ„ãƒ¼ãƒ« v8.13 - ãƒ•ãƒ­ãƒ¼ãƒ»ãƒ¡ã‚½ãƒƒãƒ‰ãƒ»ã‚·ãƒ³ãƒœãƒ«ç´¢å¼•è¾å…¸
ç”Ÿæˆæ—¥æ™‚: 2025-11-09
å¯¾è±¡ãƒãƒ¼ã‚¸ãƒ§ãƒ³: v8.13_Drawing_147

================================================================================
ã€å‡¡ä¾‹ã€‘
âš ï¸ = å•é¡Œç®‡æ‰€ãƒ»å®Ÿè£…ä¸å®Œå…¨
ğŸ”§ = æ”¹ä¿®å¿…è¦
âœ… = æ­£å¸¸å‹•ä½œç¢ºèªæ¸ˆã¿
âŒ = æœªå®Ÿè£…ãƒ»æ©Ÿèƒ½ä¸å…¨
ğŸ” = è¦èª¿æŸ»
ğŸ“ = è¦ªãƒ•ã‚¡ã‚¤ãƒ«
ğŸ“„ = å­ãƒ•ã‚¡ã‚¤ãƒ«
ğŸ”€ = ã‚¤ãƒ™ãƒ³ãƒˆãƒ•ãƒ­ãƒ¼é–¢é€£
================================================================================

================================================================================
â–  åº§æ¨™å¤‰æ›ã‚·ã‚¹ãƒ†ãƒ  (Coordinate System)
================================================================================

ğŸ“ coordinate-system.js
  âœ… class CoordinateSystem
    - screenClientToCanvas(clientX, clientY) â†’ {x, y}
    - canvasToWorld(canvasX, canvasY) â†’ {x, y}
    - worldToCanvas(worldX, worldY) â†’ {x, y}
    - worldToLocal(worldX, worldY, targetContainer) â†’ {x, y}
  
  ã‚°ãƒ­ãƒ¼ãƒãƒ«ç™»éŒ²:
    âœ… window.CoordinateSystem (singleton)
    
  ä¾å­˜é–¢ä¿‚:
    â†’ window.cameraSystem (worldContainerå‚ç…§)

================================================================================
â–  ã‚«ãƒ¡ãƒ©ã‚·ã‚¹ãƒ†ãƒ  (Camera System)
================================================================================

ğŸ“ system/camera-system.js
  âœ… class CameraSystem
    - zoom(delta, centerX, centerY)
    - pan(dx, dy)
    - resetView()
    - getWorldContainer() â†’ PIXI.Container
    - getZoomLevel() â†’ number
    - centerOnPoint(worldX, worldY)
    
  âš ï¸ åè»¢æ©Ÿèƒ½ã®å•é¡Œç®‡æ‰€:
    - flipHorizontal() - Vã‚­ãƒ¼æ™‚å‹•ä½œä¸è‰¯å ±å‘Šã‚ã‚Š
    - flipVertical() - åŒä¸Š
    
  ã‚°ãƒ­ãƒ¼ãƒãƒ«ç™»éŒ²:
    âœ… window.cameraSystem
    
  ğŸ”€ ã‚¤ãƒ™ãƒ³ãƒˆç™ºè¡Œ:
    - 'camera:zoom'
    - 'camera:pan'
    - 'camera:reset'
    âš ï¸ 'camera:flip' - å‹•ä½œä¸è‰¯

================================================================================
â–  ãƒ¬ã‚¤ãƒ¤ãƒ¼ã‚·ã‚¹ãƒ†ãƒ  (Layer System)
================================================================================

ğŸ“ system/layer-system.js
  âœ… class LayerManager
    - createLayer(name, index)
    - deleteLayer(layerId)
    - setActiveLayer(layerId)
    - getActiveLayer() â†’ Layer
    - duplicateLayer(layerId)
    - mergeDown(layerId)
    - reorderLayers(fromIndex, toIndex)
    
  ğŸ”§ ãƒ¬ã‚¤ãƒ¤ãƒ¼å¤‰æ›é–¢é€£:
    - transformLayer(layerId, transform) 
    âš ï¸ flipLayerHorizontal(layerId) - Vã‚­ãƒ¼æ™‚å®Ÿè£…ä¸å®Œå…¨
    âš ï¸ flipLayerVertical(layerId) - Vã‚­ãƒ¼æ™‚å®Ÿè£…ä¸å®Œå…¨
    
  ã‚°ãƒ­ãƒ¼ãƒãƒ«ç™»éŒ²:
    âœ… window.layerManager
    
  ğŸ”€ ã‚¤ãƒ™ãƒ³ãƒˆç™ºè¡Œ:
    - 'layer:created'
    - 'layer:deleted'
    - 'layer:active-changed'
    - 'layer:reordered'
    âš ï¸ 'layer:flipped' - å‹•ä½œä¸è‰¯å ±å‘Š

ğŸ“„ system/layer-transform.js
  âœ… class LayerTransform
    - applyTransform(layer, matrix)
    - flipHorizontal(layer, pivotX)
    - flipVertical(layer, pivotY)
    - rotate(layer, angle, pivotX, pivotY)
    
  ğŸ” è¦èª¿æŸ»: ã‚«ãƒ¡ãƒ©ä¸­å¿ƒåŸºæº–ã§ã®åè»¢å®Ÿè£…çŠ¶æ³

================================================================================
â–  æç”»ã‚¨ãƒ³ã‚¸ãƒ³ (Drawing Engine)
================================================================================

ğŸ“ system/drawing/drawing-engine.js
  âœ… class DrawingEngine
    - startStroke(pointerEvent)
    - continueStroke(pointerEvent)
    - endStroke()
    - cancelStroke()
    
  åº§æ¨™å¤‰æ›ãƒ•ãƒ­ãƒ¼:
    âœ… pointerEvent â†’ screenClientToCanvas()
    âœ… canvasToWorld()
    âœ… worldToLocal() â€»æ‰‹å‹•å®Ÿè£…
    âœ… strokeRecorder.addPoint(localX, localY, pressure)
    
  ä¾å­˜é–¢ä¿‚:
    â†’ CoordinateSystem (åº§æ¨™å¤‰æ›)
    â†’ StrokeRecorder (è¨˜éŒ²)
    â†’ StrokeRenderer (æç”»)
    â†’ BrushCore (ãƒ–ãƒ©ã‚·è¨­å®š)
    â†’ PressureHandler (ç­†åœ§)

ğŸ“„ system/drawing/pointer-handler.js
  âœ… class PointerHandler
    - handlePointerDown(event)
    - handlePointerMove(event)
    - handlePointerUp(event)
    - getPressure(event) â†’ number
    
  ğŸ” ã‚¿ãƒ–ãƒ¬ãƒƒãƒˆãƒšãƒ³å…¥åŠ›ã®å¼•ã£ã‹ã‹ã‚Šå•é¡Œ:
    âš ï¸ ã‚¹ãƒ©ã‚¤ãƒ€ãƒ¼å…¥åŠ›æ™‚ã®ã‚¤ãƒ™ãƒ³ãƒˆå‡¦ç†
    â†’ pointer-handler.js ã¨ ui/slider-utils.js ã®ç«¶åˆå¯èƒ½æ€§

ğŸ“„ system/drawing/pressure-handler.js
  âœ… class PressureHandler
    - normalizePressure(rawPressure) â†’ number
    - applySmoothing(pressure) â†’ number
    - calibrate(samples)

ğŸ“„ system/drawing/curve-interpolator.js
  âœ… class CurveInterpolator
    - interpolate(points) â†’ interpolatedPoints[]
    - catmullRom(p0, p1, p2, p3, t) â†’ {x, y}
    - bezier(points, segments) â†’ points[]

ğŸ“„ system/drawing/stroke-recorder.js
  âœ… class StrokeRecorder
    - startStroke(localX, localY, pressure)
    - addPoint(localX, localY, pressure)
    - endStroke() â†’ strokeData
    - getPoints() â†’ points[]
    
  âœ… åº§æ¨™å¤‰æ›ãªã— - å—ã‘å–ã£ãŸåº§æ¨™ã‚’ãã®ã¾ã¾è¨˜éŒ²
  âŒ screenToLayer() å‘¼ã³å‡ºã—ãªã— (DRYåŸå‰‡æº–æ‹ )

ğŸ“„ system/drawing/stroke-renderer.js
  âœ… class StrokeRenderer
    - renderStroke(strokeData, layer)
    - renderPreview(points)
    - clearPreview()
    - bakeToLayer(layer)
    
  ä¾å­˜é–¢ä¿‚:
    â†’ SDFMeshBuilder (ãƒ¡ãƒƒã‚·ãƒ¥ç”Ÿæˆ)
    â†’ WebGPUDrawingLayer (GPUæç”»)

================================================================================
â–  SDF/MSDF ãƒ–ãƒ©ã‚·ã‚·ã‚¹ãƒ†ãƒ 
================================================================================

ğŸ“„ system/drawing/sdf-brush-shader.js
  âœ… class SDFBrushShader (PIXI.Shaderæ‹¡å¼µ)
    - vertex shaderå®šç¾©
    - fragment shaderå®šç¾©
    - uniformå¤‰æ•°ç®¡ç†
    
  Shaderå…¥åŠ›:
    - aPosition (vertex)
    - aUV (texture coordinate)
    - aColor (vertex color)
    - uSampler (SDF texture)
    - uSoftness (edge softness)

ğŸ“„ system/drawing/msdf/msdf-brush-shader.js
  âœ… class MSDFBrushShader
    - MSDFå°‚ç”¨ã‚·ã‚§ãƒ¼ãƒ€ãƒ¼
    - multi-channel distance fieldå¯¾å¿œ
    
  ğŸ” SDF/MSDFçµ±åˆçŠ¶æ³è¦ç¢ºèª

ğŸ“„ system/drawing/sdf-texture-generator.js
  âŒ CPUå´è·é›¢å ´è¨ˆç®— - ã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³é•å
  ğŸ”§ æ”¹ä¿®å¿…è¦: GPU Computeå®Ÿè£…ã¸ã®ç§»è¡Œ
  
  âš ï¸ å•é¡Œãƒ¡ã‚½ãƒƒãƒ‰:
    - generateSDFTexture() - CPUå®Ÿè£…
    - calculateDistanceField() - CPUå®Ÿè£…

ğŸ“„ system/drawing/sdf-mesh-builder.js
  âœ… class SDFMeshBuilder
    - buildMesh(points, brushSettings) â†’ PIXI.Mesh
    - generateVertices(points)
    - generateUVs(points)
    - generateIndices(vertexCount)
    
  ä¾å­˜é–¢ä¿‚:
    â†’ SDFBrushShader
    â†’ BrushSettings

================================================================================
â–  WebGPUçµ±åˆ
================================================================================

ğŸ“ system/drawing/webgpu/webgpu-capabilities.js
  âœ… class WebGPUCapabilities
    - checkSupport() â†’ boolean
    - getDevice() â†’ GPUDevice
    - getAdapter() â†’ GPUAdapter
    - getFeatures() â†’ Set<string>

ğŸ“ system/drawing/webgpu/webgpu-drawing-layer.js
  âœ… class WebGPUDrawingLayer
    - initialize(device)
    - render(commandEncoder)
    - updateTexture(data)
    - destroy()

ğŸ“ system/drawing/webgpu/webgpu-compute-sdf.js
  âœ… class WebGPUComputeSDF
    - computeDistanceField(inputTexture) â†’ outputTexture
    - createPipeline()
    - dispatch(workgroups)
    
  ä¾å­˜ã‚·ã‚§ãƒ¼ãƒ€ãƒ¼:
    â†’ shaders/sdf-compute.wgsl

ğŸ“ system/drawing/webgpu/webgpu-compute-msdf.js
  âœ… class WebGPUComputeMSDF
    - computeMSDF(inputTexture) â†’ outputTexture
    - createPipeline()
    
  ä¾å­˜ã‚·ã‚§ãƒ¼ãƒ€ãƒ¼:
    â†’ shaders/msdf-compute.wgsl

ğŸ“ system/drawing/webgpu/webgpu-texture-bridge.js
  âœ… class WebGPUTextureBridge
    - pixiToWebGPU(pixiTexture) â†’ GPUTexture
    - webGPUToPixi(gpuTexture) â†’ PIXI.Texture
    - copyTexture(src, dst)

ğŸ“„ system/drawing/webgpu/shaders/sdf-compute.wgsl
  âœ… GPU Compute Shader (SDFç”Ÿæˆ)
  - Jump Flooding Algorithmå®Ÿè£…
  - workgroup_size: 8x8

ğŸ“„ system/drawing/webgpu/shaders/msdf-compute.wgsl
  âœ… GPU Compute Shader (MSDFç”Ÿæˆ)
  - Multi-channel distance field
  - RGB channelåˆ†é›¢

================================================================================
â–  ãƒ–ãƒ©ã‚·è¨­å®šã‚·ã‚¹ãƒ†ãƒ 
================================================================================

ğŸ“„ system/drawing/brush-settings.js
  âœ… class BrushSettings
    - size: number
    - opacity: number
    - hardness: number
    - flow: number
    - spacing: number
    - color: {r, g, b, a}
    - blendMode: string
    
  ğŸ”€ ã‚¤ãƒ™ãƒ³ãƒˆç™ºè¡Œ:
    - 'brush:size-changed'
    - 'brush:opacity-changed'
    - 'brush:color-changed'

ğŸ“„ system/drawing/brush-core.js
  âœ… class BrushCore
    - initialize()
    - update(deltaTime)
    - getCurrentSettings() â†’ BrushSettings
    - applyPreset(presetName)
    
  ä¾å­˜é–¢ä¿‚:
    â†’ BrushSettings
    â†’ EventBus

================================================================================
â–  å¤‰æ›ãƒ»å‡¦ç†ã‚·ã‚¹ãƒ†ãƒ 
================================================================================

ğŸ“„ system/drawing/stroke-transformer.js
  âœ… class StrokeTransformer
    - transform(stroke, matrix)
    - simplify(stroke, tolerance)
    - smooth(stroke, iterations)
    
  ğŸ” ãƒ¬ã‚¤ãƒ¤ãƒ¼åè»¢æ™‚ã®åˆ©ç”¨çŠ¶æ³è¦ç¢ºèª

ğŸ“„ system/processing/vector-operations.js
  âœ… æ±ç”¨ãƒ™ã‚¯ãƒˆãƒ«æ¼”ç®—
    - add(v1, v2) â†’ vector
    - subtract(v1, v2) â†’ vector
    - multiply(v, scalar) â†’ vector
    - normalize(v) â†’ vector
    - distance(v1, v2) â†’ number
    - dot(v1, v2) â†’ number
    - cross(v1, v2) â†’ number

================================================================================
â–  UIã‚·ã‚¹ãƒ†ãƒ 
================================================================================

ğŸ“„ ui/slider-utils.js
  âš ï¸ class SliderUtils
    - createSlider(config)
    - handleInput(event)
    - updateValue(value)
    
  ğŸ”§ ã‚¿ãƒ–ãƒ¬ãƒƒãƒˆãƒšãƒ³å…¥åŠ›å•é¡Œ:
    âš ï¸ handleInput() - PointerEventå‡¦ç†
    âš ï¸ å¼•ã£ã‹ã‹ã‚Šå•é¡Œã®åŸå› å€™è£œ
    â†’ ã‚¤ãƒ™ãƒ³ãƒˆä¼æ’­ã¨pointer-handler.jsã®ç«¶åˆ

ğŸ“„ ui/keyboard-handler.js
  âœ… class KeyboardHandler
    - onKeyDown(event)
    - onKeyUp(event)
    - registerShortcut(key, callback)
    
  âš ï¸ åè»¢ã‚·ãƒ§ãƒ¼ãƒˆã‚«ãƒƒãƒˆå®Ÿè£…:
    - 'H' â†’ flipHorizontal() âœ… é€šå¸¸æ™‚å‹•ä½œ
    - 'Shift+H' â†’ flipVertical() âœ… é€šå¸¸æ™‚å‹•ä½œ
    - 'V+H' â†’ flipActiveLayerH() âš ï¸ å‹•ä½œä¸è‰¯
    - 'V+Shift+H' â†’ flipActiveLayerV() âš ï¸ å‹•ä½œä¸è‰¯
    
  ğŸ” Vã‚­ãƒ¼ãƒ¢ãƒ¼ãƒ‰ç®¡ç†:
    - isVKeyPressed: boolean
    - vKeyMode: 'camera' | 'layer'

ğŸ“„ ui/layer-panel-renderer.js
  âœ… class LayerPanelRenderer
    - render(layers)
    - updateThumbnail(layerId)
    - highlightActive(layerId)
    
  ğŸ”€ ã‚¤ãƒ™ãƒ³ãƒˆç›£è¦–:
    - 'layer:created'
    - 'layer:deleted'
    - 'layer:active-changed'

ğŸ“„ ui/status-display-renderer.js
  âœ… class StatusDisplayRenderer
    - updateCursor(x, y)
    - updateZoom(level)
    - updateFPS(fps)
    - updateMemory(usage)

ğŸ“„ ui/timeline-ui.js
  âœ… class TimelineUI
    - render(frames)
    - selectFrame(index)
    - addFrame()
    - deleteFrame(index)
    
  ä¾å­˜é–¢ä¿‚:
    â†’ AnimationSystem
    â†’ ThumbnailSystem

ğŸ“„ ui/timeline-thumbnail-utils.js
  âœ… class TimelineThumbnailUtils
    - generateThumbnail(layer) â†’ ImageData
    - cacheThumbnail(layerId, thumbnail)
    - invalidateCache(layerId)

================================================================================
â–  ãƒãƒƒãƒ—ã‚¢ãƒƒãƒ—/ãƒ€ã‚¤ã‚¢ãƒ­ã‚°
================================================================================

ğŸ“„ system/popup-manager.js
  âœ… class PopupManager
    - showPopup(id, config)
    - hidePopup(id)
    - togglePopup(id)
    - isVisible(id) â†’ boolean

ğŸ“„ ui/settings-popup.js
  âœ… class SettingsPopup
    - render()
    - updateSettings(settings)
    - applySettings()

ğŸ“„ ui/album-popup.js
  âœ… class AlbumPopup
    - render(album)
    - loadAlbum(albumId)
    - saveToAlbum(data)

ğŸ“„ ui/quick-access-popup.js
  âœ… class QuickAccessPopup
    - render(tools)
    - selectTool(toolId)

ğŸ“„ ui/export-popup.js
  âœ… class ExportPopup
    - render(options)
    - startExport(format)
    - updateProgress(percent)

ğŸ“„ ui/resize-popup.js
  âœ… class ResizePopup
    - render(currentSize)
    - applyResize(newSize)

================================================================================
â–  ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆã‚·ã‚¹ãƒ†ãƒ 
================================================================================

ğŸ“ system/export-manager.js
  âœ… class ExportManager
    - exportPNG(options)
    - exportAPNG(options)
    - exportGIF(options)
    - exportWebP(options)
    - exportMP4(options)
    
  ä¾å­˜é–¢ä¿‚:
    â†’ exporters/*.js

ğŸ“„ system/exporters/png-exporter.js
  âœ… class PNGExporter
    - export(layers, options) â†’ Blob

ğŸ“„ system/exporters/apng-exporter.js
  âœ… class APNGExporter
    - export(frames, options) â†’ Blob

ğŸ“„ system/exporters/gif-exporter.js
  âœ… class GIFExporter
    - export(frames, options) â†’ Blob

ğŸ“„ system/exporters/webp-exporter.js
  âœ… class WebPExporter
    - export(frames, options) â†’ Blob

ğŸ“„ system/exporters/mp4-exporter.js
  âœ… class MP4Exporter
    - export(frames, options) â†’ Blob

ğŸ“„ system/quick-export-ui.js
  âœ… class QuickExportUI
    - render()
    - quickExport(format)

================================================================================
â–  çŠ¶æ…‹ç®¡ç†
================================================================================

ğŸ“„ system/state-manager.js
  âœ… class StateManager
    - getState() â†’ state
    - setState(newState)
    - subscribe(listener)
    - unsubscribe(listener)
    
  Stateæ§‹é€ :
    - currentTool: string
    - activeLayer: string
    - zoom: number
    - pan: {x, y}
    - vKeyMode: boolean âš ï¸

ğŸ“„ system/settings-manager.js
  âœ… class SettingsManager
    - loadSettings() â†’ settings
    - saveSettings(settings)
    - resetToDefaults()
    - getSetting(key) â†’ value

ğŸ“„ system/history.js
  âœ… class HistoryManager
    - push(action)
    - undo() â†’ action
    - redo() â†’ action
    - clear()
    - canUndo() â†’ boolean
    - canRedo() â†’ boolean

================================================================================
â–  ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³
================================================================================

ğŸ“„ system/animation-system.js
  âœ… class AnimationSystem
    - play()
    - pause()
    - stop()
    - seekToFrame(index)
    - setFPS(fps)
    - addFrame(layer)
    - deleteFrame(index)
    
  ğŸ”€ ã‚¤ãƒ™ãƒ³ãƒˆç™ºè¡Œ:
    - 'animation:play'
    - 'animation:pause'
    - 'animation:frame-changed'

ğŸ“„ system/virtual-album.js
  âœ… class VirtualAlbum
    - createAlbum(name)
    - saveFrame(albumId, frameData)
    - loadAlbum(albumId) â†’ frames[]
    - deleteAlbum(albumId)

================================================================================
â–  ãã®ä»–ã‚·ã‚¹ãƒ†ãƒ 
================================================================================

ğŸ“„ system/data-models.js
  âœ… ãƒ‡ãƒ¼ã‚¿ãƒ¢ãƒ‡ãƒ«å®šç¾©
    - Layer
    - Stroke
    - Frame
    - BrushPreset
    - ExportOptions

ğŸ“„ system/batch-api.js
  âœ… class BatchAPI
    - executeBatch(operations)
    - queueOperation(op)
    - flush()

ğŸ“„ system/checker-utils.js
  âœ… æ±ç”¨ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£
    - isValidColor(color) â†’ boolean
    - clamp(value, min, max) â†’ number
    - lerp(a, b, t) â†’ number
    - generateId() â†’ string

ğŸ“„ system/drawing/thumbnail-system.js
  âœ… class ThumbnailSystem
    - generate(layer) â†’ thumbnail
    - cache(layerId, thumbnail)
    - invalidate(layerId)

ğŸ“„ system/drawing-clipboard.js
  âœ… class DrawingClipboard
    - copy(selection)
    - cut(selection)
    - paste() â†’ data
    - clear()

================================================================================
â–  ã‚¤ãƒ™ãƒ³ãƒˆãƒã‚¹
================================================================================

ğŸ“„ system/event-bus.js
  âœ… class EventBus (Singleton)
    - on(event, callback)
    - off(event, callback)
    - emit(event, data)
    - once(event, callback)
    
  ã‚°ãƒ­ãƒ¼ãƒãƒ«ç™»éŒ²:
    âœ… window.eventBus

ğŸ“„ ui/dom-builder.js
  âœ… DOMç”Ÿæˆãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£
    - createElement(tag, attrs, children)
    - createButton(label, onClick)
    - createSlider(config)

================================================================================
â–  ã‚³ã‚¢åˆæœŸåŒ–
================================================================================

ğŸ“ config.js
  âœ… ã‚°ãƒ­ãƒ¼ãƒãƒ«è¨­å®šå®šæ•°
    - CANVAS_SIZE
    - MAX_LAYERS
    - DEFAULT_BRUSH_SIZE
    - FPS_TARGET
    - WEBGPU_ENABLED

ğŸ“ core-initializer.js
  âœ… class CoreInitializer
    - initialize()
    - setupPixiApp()
    - setupSystems()
    - setupEventListeners()
    
  åˆæœŸåŒ–é †åº:
    1. Configèª­ã¿è¾¼ã¿
    2. EventBusåˆæœŸåŒ–
    3. CoordinateSystemåˆæœŸåŒ–
    4. CameraSystemåˆæœŸåŒ–
    5. LayerManageråˆæœŸåŒ–
    6. DrawingEngineåˆæœŸåŒ–
    7. UIåˆæœŸåŒ–

ğŸ“ core-engine.js
  âœ… class CoreEngine
    - start()
    - update(deltaTime)
    - render()
    - destroy()

ğŸ“ core-runtime.js
  âœ… ãƒ¡ã‚¤ãƒ³ãƒ«ãƒ¼ãƒ—ç®¡ç†
    - requestAnimationFrame()
    - update()
    - render()

================================================================================
â–  å¤–éƒ¨ãƒ©ã‚¤ãƒ–ãƒ©ãƒª
================================================================================

ğŸ“„ libs/gsap.min.js
  âœ… GSAP (GreenSock Animation Platform)
    - ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³/ãƒˆã‚¥ã‚¤ãƒ¼ãƒ³
    - UIé·ç§»

================================================================================
â–  å•é¡Œç®‡æ‰€ã¾ã¨ã‚
================================================================================

ğŸ”§ é‡å¤§ãªå•é¡Œ:

1. âš ï¸ ãƒ¬ã‚¤ãƒ¤ãƒ¼åè»¢æ©Ÿèƒ½ (Vã‚­ãƒ¼ãƒ¢ãƒ¼ãƒ‰æ™‚)
   å ´æ‰€: system/camera-system.js, system/layer-system.js
   ç—‡çŠ¶: åè»¢ãƒœã‚¿ãƒ³æŠ¼ä¸‹ã§æ¶ˆå¤±ãƒ»ä½ç½®ãšã‚Œ
   é–¢é€£: keyboard-handler.js ã® Vã‚­ãƒ¼ç®¡ç†
   
2. âš ï¸ ã‚¿ãƒ–ãƒ¬ãƒƒãƒˆãƒšãƒ³å…¥åŠ›ã®å¼•ã£ã‹ã‹ã‚Š
   å ´æ‰€: ui/slider-utils.js, system/drawing/pointer-handler.js
   ç—‡çŠ¶: ã‚¹ãƒ©ã‚¤ãƒ€ãƒ¼æ“ä½œæ™‚ã®ã‚¤ãƒ™ãƒ³ãƒˆç«¶åˆ
   
3. âŒ CPUå´SDFç”Ÿæˆ
   å ´æ‰€: system/drawing/sdf-texture-generator.js
   å•é¡Œ: ã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³é•å (GPU Computeå¿…é ˆ)
   æ”¹ä¿®: webgpu-compute-sdf.js ã¸ã®çµ±åˆ

ğŸ” è¦èª¿æŸ»:

1. åè»¢ãƒœã‚¿ãƒ³ã®çŠ¶æ…‹ç®¡ç†
   - ãƒœã‚¿ãƒ³è‰²å¤‰åŒ–ã™ã‚‹ãŒåè»¢ã•ã‚Œãªã„
   - StateManagerã§ã®vKeyModeç®¡ç†
   
2. ã‚«ãƒ¡ãƒ©ä¸­å¿ƒåŸºæº–åè»¢ã®å®Ÿè£…çŠ¶æ³
   - layer-transform.js ã® pivotè¨ˆç®—
   - camera-system.js ã¨ã®é€£æº

3. SDF/MSDFçµ±åˆçŠ¶æ³
   - sdf-brush-shader.js ã¨ msdf-brush-shader.js ã®ä½¿ã„åˆ†ã‘
   - WebGPUçµ±åˆã®å®Œå…¨æ€§

================================================================================
â–  å¤šé‡å®Ÿè£…ã®å¯èƒ½æ€§
================================================================================

ğŸ”€ åº§æ¨™å¤‰æ›:
  âœ… ä¸€å…ƒåŒ–æ¸ˆã¿ (coordinate-system.js)
  âœ… drawing-engine.js ã§å¤‰æ›å®Œçµ
  âœ… stroke-recorder.js ã¯åº§æ¨™å¤‰æ›ãªã—
  
ğŸ”€ åè»¢æ©Ÿèƒ½:
  âš ï¸ å¤šé‡å®Ÿè£…ã®ç–‘ã„
    - camera-system.js: flipHorizontal/Vertical (ã‚«ãƒ¡ãƒ©åè»¢)
    - layer-system.js: flipLayerHorizontal/Vertical (ãƒ¬ã‚¤ãƒ¤ãƒ¼åè»¢)
    - layer-transform.js: flipHorizontal/Vertical (å¤‰æ›å®Ÿè£…)
    - keyboard-handler.js: Vã‚­ãƒ¼ãƒ¢ãƒ¼ãƒ‰åˆ†å²
  ğŸ”§ çµ±åˆå¿…è¦: å˜ä¸€ã®åè»¢ãƒ­ã‚¸ãƒƒã‚¯ã«çµ±ä¸€

ğŸ”€ ãƒã‚¤ãƒ³ã‚¿ãƒ¼å‡¦ç†:
  âœ… pointer-handler.js ã§ä¸€å…ƒåŒ–
  âš ï¸ slider-utils.js ã¨ã®ç«¶åˆå¯èƒ½æ€§

ğŸ”€ ã‚µãƒ ãƒã‚¤ãƒ«ç”Ÿæˆ:
  âœ… thumbnail-system.js
  âœ… timeline-thumbnail-utils.js
  ğŸ” å½¹å‰²åˆ†æ‹…ã®æ˜ç¢ºåŒ–å¿…è¦

================================================================================
â–  æœªä½¿ç”¨ãƒ»å‰Šé™¤å€™è£œ
================================================================================

ğŸ—‘ï¸ å‰Šé™¤å€™è£œ:

1. sdf-texture-generator.js (CPUå®Ÿè£…)
   â†’ webgpu-compute-sdf.js ã«çµ±åˆæ¸ˆã¿

2. éå‰°ãªã‚³ãƒ³ã‚½ãƒ¼ãƒ«ãƒ­ã‚°
   â†’ ãƒ•ã‚¡ã‚¤ãƒ«å…¨ä½“ã«æ•£åœ¨
   â†’ ãƒ‡ãƒãƒƒã‚°å®Œäº†å¾Œå‰Šé™¤æ¨å¥¨

3. é‡è¤‡ã‚°ãƒ­ãƒ¼ãƒãƒ«å®šç¾©
   â†’ window.TEGAKI_COORDINATE_SYSTEM (é‡è¤‡å€™è£œ)

================================================================================
â–  æ”¹ä¿®å„ªå…ˆåº¦
================================================================================

å„ªå…ˆåº¦S (å³æ™‚å¯¾å¿œ):
1. Vã‚­ãƒ¼ãƒ¢ãƒ¼ãƒ‰æ™‚ã®ãƒ¬ã‚¤ãƒ¤ãƒ¼åè»¢æ©Ÿèƒ½ä¿®æ­£
2. åè»¢ãƒœã‚¿ãƒ³ã®çŠ¶æ…‹ç®¡ç†ä¿®æ­£

å„ªå…ˆåº¦A (é‡è¦):
3. ã‚¿ãƒ–ãƒ¬ãƒƒãƒˆãƒšãƒ³ã‚¹ãƒ©ã‚¤ãƒ€ãƒ¼å…¥åŠ›ã®æ”¹å–„
4. sdf-texture-generator.js ã®å‰Šé™¤

å„ªå…ˆåº¦B (æ¨å¥¨):
5. åè»¢ãƒ­ã‚¸ãƒƒã‚¯ã®çµ±åˆãƒ»ä¸€å…ƒåŒ–
6. éå‰°ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ãƒ­ã‚°ã®å‰Šé™¤
7. ã‚µãƒ ãƒã‚¤ãƒ«ç³»ã®å½¹å‰²æ˜ç¢ºåŒ–

================================================================================
ç”Ÿæˆå®Œäº†
================================================================================