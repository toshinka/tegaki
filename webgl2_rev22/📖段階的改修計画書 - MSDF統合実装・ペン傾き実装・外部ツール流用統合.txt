================================================================================
ãƒ–ãƒ©ã‚¦ã‚¶ãŠçµµã‹ããƒ„ãƒ¼ãƒ« - æ®µéšçš„æ”¹ä¿®è¨ˆç”»æ›¸ï¼ˆRev.20ç‰ˆï¼‰
MSDFçµ±åˆå®Ÿè£…ãƒ»ãƒšãƒ³å‚¾ãå®Ÿè£…ãƒ»å¤–éƒ¨ãƒ„ãƒ¼ãƒ«æµç”¨çµ±åˆ
Rev.20 â†’ Rev.21 ç§»è¡Œè¨ˆç”»
================================================================================

â–  ç¾çŠ¶åˆ†æï¼ˆRev.20æ™‚ç‚¹ã®è©³ç´°ï¼‰

ã€åº§æ¨™å¤‰æ›ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã€‘
ğŸ“ coordinate-system.js âœ… Phase å®Œäº†
  - screenClientToCanvas() / canvasToWorld() / worldToLocal() æ­£å¸¸å‹•ä½œ
  - DPIè£œæ­£ãƒ»é€†è¡Œåˆ—è¨ˆç®—ãƒ»è¦ªãƒã‚§ãƒ¼ãƒ³é¡æŸ» å®Ÿè£…æ¸ˆã¿
  
ğŸ“ camera-system.js âœ…
  - worldContainer transformç®¡ç†
  - ã‚ºãƒ¼ãƒ ãƒ»ãƒ‘ãƒ³æ©Ÿèƒ½å®Ÿè£…æ¸ˆã¿

ğŸ“ drawing-engine.js âœ… Phase 4.1
  - PointerEvent â†’ Localåº§æ¨™å¤‰æ› æ­£å¸¸å‹•ä½œ
  - _screenToLocal() ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³å®Œæˆ
  - strokeRendererå‚ç…§è¿½åŠ æ¸ˆã¿
  âŒ tiltX/tiltY/twist ãƒ‡ãƒ¼ã‚¿æœªä¼é”
  - BrushCoreé€£æº: startStroke(clientX, clientY, pressure)
    âŒ tilt/twistãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿æœªè¿½åŠ 

ã€PointerEventå‡¦ç†ã€‘
ğŸ“„ pointer-handler.js âœ… Phase 2
  - PointerEventçµ±ä¸€ãƒãƒ³ãƒ‰ãƒ©å®Ÿè£…æ¸ˆã¿
  - normalizeEvent() ã§ tiltX/tiltY/twist å–å¾—æ¸ˆã¿
  - pointerTypeè£œæ­£ï¼ˆpenèª¤èªé˜²æ­¢ï¼‰å®Ÿè£…æ¸ˆã¿
  âœ… å‚¾ãå–å¾—å®Œäº†ï¼ˆãŸã ã—æœªä½¿ç”¨ï¼‰
  
ğŸ“„ pressure-handler.js âœ…
  - ç­†åœ§å–å¾—ãƒ»æ­£è¦åŒ– å®Ÿè£…æ¸ˆã¿
  ğŸ”§ å‚¾ãé€£æºã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹æœªå®Ÿè£…

ã€ã‚¹ãƒˆãƒ­ãƒ¼ã‚¯å‡¦ç†ã€‘
ğŸ“„ stroke-recorder.js ğŸ”
  - Localåº§æ¨™è¨˜éŒ² æ­£å¸¸å‹•ä½œ
  - åº§æ¨™å¤‰æ›ãªã—ï¼ˆã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³æº–æ‹ ï¼‰
  âŒ tiltX/tiltY/twist ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰æœªè¨˜éŒ²

ğŸ“„ stroke-renderer.js âœ… Phase 7.5
  - é«˜é€Ÿã‚¹ãƒˆãƒ­ãƒ¼ã‚¯è£œå„Ÿå®Ÿè£…æ¸ˆã¿
  - gl-stroke-processoré€£æº æ­£å¸¸å‹•ä½œ
  - _renderWithPolygon() ã§ãƒãƒªã‚´ãƒ³æç”»
  - æµé‡ä¸é€æ˜åº¦è¨ˆç®—ï¼ˆPhase 7.5ï¼‰
  âŒ MSDFçµ±åˆæœªå®Ÿè£…
  âŒ å‚¾ããƒ™ãƒ¼ã‚¹å¹…å¤‰èª¿æœªå®Ÿè£…

ã€WebGL2ãƒãƒªã‚´ãƒ³ç”Ÿæˆã€‘
ğŸ“„ gl-stroke-processor.js âœ… Phase 4.0D
  - Perfect-Freehandå®Œå…¨å‰Šé™¤æ¸ˆã¿ âœ…
  - ç‹¬è‡ªãƒªãƒœãƒ³ç”Ÿæˆå®Ÿè£…å®Œäº† âœ…
  - Earcutä¸‰è§’å½¢åˆ†å‰² æ­£å¸¸å‹•ä½œ
  - ã‚«ã‚¨ãƒ«ã®åµæœ€å°åŒ–ï¼ˆPhase 4.0Dï¼‰
  - createPolygonVertexBuffer() å®Ÿè£…æ¸ˆã¿
    - å…¥åŠ›: points[{x, y, pressure}]
    - å‡ºåŠ›: {buffer, vertexCount, bounds, hasPressure}
  âŒ tiltæƒ…å ±æœªå¯¾å¿œï¼ˆé ‚ç‚¹å±æ€§æ‹¡å¼µå¿…è¦ï¼‰

ã€MSDFçµ±åˆçŠ¶æ…‹ã€‘
ğŸ“ gl-msdf-pipeline.js âš ï¸ Phase 6.2
  - JFAï¼ˆJump Flooding Algorithmï¼‰å®Ÿè£…æ¸ˆã¿ âœ…
  - shader-inline.jsçµ±åˆå®Œäº† âœ…
  - generateMSDF() ãƒ¡ã‚½ãƒƒãƒ‰å®Ÿè£…æ¸ˆã¿ âœ…
    - ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿: (edgeBufferData, bounds, existingMSDF, settings, vertexBufferData, vertexCount, edgeCount)
    - è¿”ã‚Šå€¤: {texture, width, height}
  âŒ stroke-renderer.jsã‹ã‚‰æœªå‘¼ã³å‡ºã—
  âŒ _renderWithPolygon() ã¨ã®çµ±åˆæœªå®Œäº†

ğŸ“„ webgl2-drawing-layer.js âœ… Phase 3.6
  - WebGL2ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆåˆæœŸåŒ–å®Œäº†
  - GLStrokeProcessoråˆæœŸåŒ–æ¸ˆã¿
  - FBOç”Ÿæˆãƒ»å‰Šé™¤ãƒ¡ã‚½ãƒƒãƒ‰å®Ÿè£…æ¸ˆã¿
  âœ… window.WebGLContext / window.WebGL2DrawingLayer ç™»éŒ²æ¸ˆã¿

ğŸ“„ shader-inline.js âœ… Phase 6.2
  - GLSLã‚·ã‚§ãƒ¼ãƒ€ãƒ¼ ã‚¤ãƒ³ãƒ©ã‚¤ãƒ³åŒ–å®Œäº†
  - window.GLSLShaders ç™»éŒ²æ¸ˆã¿
    - renderVert, renderFrag
    - seedInit, jfaPass, encode

ã€ã‚·ã‚§ãƒ¼ãƒ€ãƒ¼ã€‘
ğŸ“„ shaders/render.vert.glsl âœ…
  - åŸºæœ¬é ‚ç‚¹ã‚·ã‚§ãƒ¼ãƒ€ãƒ¼å®Ÿè£…æ¸ˆã¿
  âŒ tiltå±æ€§æœªå®šç¾©

ğŸ“„ shaders/render.frag.glsl âš ï¸
  - MSDFæç”»ãƒ­ã‚¸ãƒƒã‚¯åŸºæœ¬å®Ÿè£…ã‚ã‚Š
  ğŸ”§ å‚¾ããƒ™ãƒ¼ã‚¹æç”»æœªå®Ÿè£…
  ğŸ”§ ã‚¢ãƒ³ãƒã‚¨ã‚¤ãƒªã‚¢ã‚¹æ”¹å–„ä½™åœ°ã‚ã‚Š

ğŸ“„ shaders/seed-init.frag.glsl âœ…
ğŸ“„ shaders/jfa-pass.frag.glsl âœ…
ğŸ“„ shaders/encode.frag.glsl âœ…

ã€ãƒ‡ãƒ¼ã‚¿ãƒ¢ãƒ‡ãƒ«ã€‘
ğŸ“„ data-models.js ğŸ”§
  - StrokeData å®Ÿè£…æ¸ˆã¿
    - points[{x, y, pressure, time}]
  âŒ tiltX, tiltY, twist ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰æœªå®šç¾©
  - toJSON() ã§å‚¾ãæœªã‚·ãƒªã‚¢ãƒ©ã‚¤ã‚º

ã€ãƒ–ãƒ©ã‚·è¨­å®šã€‘
ğŸ“„ brush-settings.js âœ…
  - ãƒ–ãƒ©ã‚·ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ç®¡ç† å®Ÿè£…æ¸ˆã¿
  âŒ å‚¾ãæ„Ÿåº¦è¨­å®šæœªå®Ÿè£…
  - å¿…è¦ãªè¨­å®šé …ç›®:
    - tiltSensitivity: 0.5
    - tiltAffectsWidth: true
    - tiltAffectsRotation: false

ã€å±¥æ­´ç®¡ç†ã€‘
ğŸ“ history.js âœ…
  - window.historyManager æ­£å¸¸å‹•ä½œ
  - ã‚³ãƒãƒ³ãƒ‰ãƒ‘ã‚¿ãƒ¼ãƒ³å®Ÿè£…æ¸ˆã¿
  ğŸ”§ Penpotæ¯”è¼ƒæ”¹å–„ä½™åœ°ã‚ã‚Šï¼ˆä½å„ªå…ˆåº¦ï¼‰

================================================================================

â–  æ”¹ä¿®ãŒä¸è¦ãªé …ç›®ï¼ˆRev.20ã§æ—¢ã«å®Œäº†ï¼‰

âŒ Phase 1ï¼ˆå¾“æ¥è¨ˆç”»ï¼‰: PixiJS v8 å…¬å¼ã‚µãƒ³ãƒ—ãƒ«çµ±åˆ
  ç†ç”±: gl-stroke-processor.js Phase 4.0D ã§ç‹¬è‡ªå®Ÿè£…å®Œäº†æ¸ˆã¿
  çŠ¶æ…‹: Perfect-Freehandå®Œå…¨å‰Šé™¤ãƒ»Earcutä¸‰è§’å½¢åˆ†å‰²å®Ÿè£…æ¸ˆã¿
  çµè«–: ã“ã® Phase ã¯å®Ÿæ–½ä¸è¦

âœ… ãƒãƒªã‚´ãƒ³ç”Ÿæˆ: ç‹¬è‡ªãƒªãƒœãƒ³ç”Ÿæˆå®Ÿè£…ãŒ Phase 4.0D ã§å®Œæˆ
âœ… Meshç”Ÿæˆ: stroke-renderer.js ã§ _renderWithPolygon() å®Ÿè£…æ¸ˆã¿
âœ… åº§æ¨™å¤‰æ›: drawing-engine.js ã§å®Œå…¨å‹•ä½œ
âœ… WebGL2åŸºç›¤: webgl2-drawing-layer.js åˆæœŸåŒ–å®Œäº†

================================================================================

â–  MSDFçµ±åˆå®Ÿè£…è¨ˆç”»ï¼ˆæœ€å„ªå…ˆ Phase Aï¼‰

ã€ç¾çŠ¶å•é¡Œç‚¹ã€‘
âŒ gl-msdf-pipeline.generateMSDF() ãŒå‘¼ã°ã‚Œã¦ã„ãªã„
âŒ stroke-renderer._renderWithPolygon() ãŒ MSDF ã‚’ä½¿ã£ã¦ã„ãªã„
âŒ ç¾çŠ¶ã¯ Pixi.Graphics ã§ãƒãƒªã‚´ãƒ³æç”»ï¼ˆCPUå‡¦ç†æ··åœ¨ï¼‰

ã€çµ±åˆç›®æ¨™ã€‘
âœ… WebGL2 MSDFæç”»ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³å®Œå…¨å‹•ä½œ
âœ… GPUæç”»ã®ã¿ï¼ˆCPUãƒ©ã‚¹ã‚¿ãƒ©ã‚¤ã‚ºå®Œå…¨å»ƒæ­¢ï¼‰
âœ… ã‚¢ãƒ³ãƒã‚¨ã‚¤ãƒªã‚¢ã‚¹å“è³ªå‘ä¸Š

ã€Phase A-1: stroke-renderer.js ã®MSDFçµ±åˆæº–å‚™ã€‘
æœŸé–“: 2-3æ™‚é–“

ğŸ“„ stroke-renderer.js ğŸ”§
  
  æ”¹ä¿®ç®‡æ‰€1: _renderWithPolygon() ãƒ¡ã‚½ãƒƒãƒ‰
    ç¾çŠ¶ã‚³ãƒ¼ãƒ‰è§£æ:
      - gl-stroke-processor.createPolygonVertexBuffer() å‘¼ã³å‡ºã—
      - vertexBuffer = {buffer, vertexCount, bounds, hasPressure}
      - Pixi.Graphics ã§ãƒãƒªã‚´ãƒ³æç”»ï¼ˆCPUå‡¦ç†ï¼‰
    
    æ”¹ä¿®å†…å®¹:
      - MSDFç”Ÿæˆãƒ•ãƒ©ã‚°è¿½åŠ  (config.webgpu.msdf.enabled ãƒã‚§ãƒƒã‚¯)
      - gl-msdf-pipeline.generateMSDF() å‘¼ã³å‡ºã—è¿½åŠ 
        const msdfResult = await window.GLMSDFPipeline.generateMSDF(
          null,  // edgeBufferData (ä¸è¦)
          vertexBuffer.bounds,
          null,  // existingMSDF
          {
            color: settings.color,
            opacity: finalOpacity
          },
          vertexBuffer.buffer,
          vertexBuffer.vertexCount,
          0  // edgeCount (ä¸è¦)
        );
      - MSDF Texture â†’ Pixi.Sprite å¤‰æ›
        if (msdfResult && msdfResult.texture) {
          const sprite = new PIXI.Sprite(PIXI.Texture.from(msdfResult.texture));
          // boundsé©ç”¨
          return sprite;
        }
    
    ä¾å­˜é–¢ä¿‚:
      - window.GLMSDFPipeline (Phase 6.2ã§å®Ÿè£…æ¸ˆã¿)
      - window.WebGL2DrawingLayer.createFBO() (å®Ÿè£…æ¸ˆã¿)
  
  æ”¹ä¿®ç®‡æ‰€2: renderPreview() ãƒ¡ã‚½ãƒƒãƒ‰
    - ã‚¤ãƒ³ã‚¯ãƒªãƒ¡ãƒ³ã‚¿ãƒ«ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚‚MSDFå¯¾å¿œæ¤œè¨
    - ãŸã ã—é€Ÿåº¦å„ªå…ˆã®ãŸã‚Pixi.Graphicsç¶­æŒã‚‚é¸æŠè‚¢

ã€Phase A-2: gl-msdf-pipeline.js ã®çµ±åˆèª¿æ•´ã€‘
æœŸé–“: 1-2æ™‚é–“

ğŸ“„ gl-msdf-pipeline.js ğŸ”§
  
  ç¢ºèªé …ç›®:
    - generateMSDF() ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿æ¤œè¨¼
      âœ… edgeBufferData: null ã§ã‚‚å‹•ä½œã™ã‚‹ã‹
      âœ… vertexBufferData: Float32Array (stride=3) å¯¾å¿œç¢ºèª
      âœ… bounds: {minX, minY, maxX, maxY, width, height} å½¢å¼ç¢ºèª
  
  æ”¹ä¿®å†…å®¹:
    - ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°å¼·åŒ–
      if (!vertexBufferData || vertexCount === 0) {
        console.warn('[GLMSDFPipeline] Invalid vertex data');
        return null;
      }
    
    - FBOå‰Šé™¤æ¼ã‚Œãƒã‚§ãƒƒã‚¯
      - seedFBO, jfaResult.tempFBO, msdfFBO ã®ç¢ºå®Ÿãªå‰Šé™¤
    
    - è¿”ã‚Šå€¤ãƒ†ã‚¯ã‚¹ãƒãƒ£ã®æ‰€æœ‰æ¨©æ˜ç¢ºåŒ–
      â€» outputFBO.texture ã‚’è¿”ã™ãŒã€outputFBOè‡ªä½“ã¯å‰Šé™¤
      â€» å‘¼ã³å‡ºã—å´ã§textureå‰Šé™¤è²¬ä»»

ã€Phase A-3: render.frag.glsl ã®æ”¹å–„ã€‘
æœŸé–“: 1æ™‚é–“

ğŸ“„ shaders/render.frag.glsl ğŸ”§
  
  ç¾çŠ¶ç¢ºèª:
    - window.GLSLShaders.renderFrag ã«å®Ÿè£…ã‚ã‚Š
    - åŸºæœ¬çš„ãªMSDFæç”»ãƒ­ã‚¸ãƒƒã‚¯ã¯å®Ÿè£…æ¸ˆã¿
  
  æ”¹ä¿®å†…å®¹:
    - ã‚¢ãƒ³ãƒã‚¨ã‚¤ãƒªã‚¢ã‚¹æ”¹å–„
      float pixelDist = fwidth(vTexCoord.x) * uRange;
      float alpha = smoothstep(0.5 - pixelDist, 0.5 + pixelDist, dist);
    
    - ç­†åœ§ãƒ™ãƒ¼ã‚¹é–¾å€¤èª¿æ•´ï¼ˆPhase Bå¾Œã«å®Ÿè£…ï¼‰
      float threshold = 0.5 - (v_pressure - 0.5) * 0.1;

ã€Phase A-4: çµ±åˆãƒ†ã‚¹ãƒˆã€‘
æœŸé–“: 1æ™‚é–“

  ãƒ†ã‚¹ãƒˆé …ç›®:
    âœ… MSDFç”ŸæˆæˆåŠŸï¼ˆtextureè¿”å´ç¢ºèªï¼‰
    âœ… Pixi.Spriteæç”»ç¢ºèª
    âœ… ã‚¢ãƒ³ãƒã‚¨ã‚¤ãƒªã‚¢ã‚¹å“è³ªç¢ºèª
    âœ… FBOå‰Šé™¤æ¼ã‚Œãªã—ï¼ˆãƒ¡ãƒ¢ãƒªãƒªãƒ¼ã‚¯é˜²æ­¢ï¼‰
    âœ… ã‚¨ãƒ©ãƒ¼æ™‚ã®ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯å‹•ä½œ

  ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ç¢ºèª:
    - ã‚¹ãƒˆãƒ­ãƒ¼ã‚¯æç”»æ™‚é–“ < 16msï¼ˆ60fpsç¶­æŒï¼‰
    - MSDFç”Ÿæˆæ™‚é–“è¨ˆæ¸¬ãƒ»ãƒ­ã‚°å‡ºåŠ›

Phase A å®Œäº†æ¡ä»¶:
âœ… stroke-renderer._renderWithPolygon() ã‹ã‚‰MSDFç”ŸæˆæˆåŠŸ
âœ… WebGL2 Texture â†’ Pixi.Sprite æç”»æˆåŠŸ
âœ… ã‚¢ãƒ³ãƒã‚¨ã‚¤ãƒªã‚¢ã‚¹å“è³ªãŒ Pixi.Graphics ã‚ˆã‚Šå‘ä¸Š
âœ… FBOå‰Šé™¤æ­£å¸¸å‹•ä½œï¼ˆãƒ¡ãƒ¢ãƒªãƒªãƒ¼ã‚¯ç„¡ã—ï¼‰

Phase A æ¨å®šæ‰€è¦æ™‚é–“: 5-7æ™‚é–“

================================================================================

â–  ãƒšãƒ³å‚¾ãå®Ÿè£…è¨ˆç”»ï¼ˆPhase Bï¼‰

ã€Phase B-1: ãƒ‡ãƒ¼ã‚¿ãƒ¢ãƒ‡ãƒ«æ‹¡å¼µã€‘
æœŸé–“: 1æ™‚é–“

ğŸ“„ data-models.js ğŸ”§
  
  StrokeDataæ‹¡å¼µ:
    toJSON() ä¿®æ­£:
      points: this.points.map(p => ({
        x: p.x,
        y: p.y,
        pressure: p.pressure,
        time: p.time,
        tiltX: p.tiltX !== undefined ? p.tiltX : 0,
        tiltY: p.tiltY !== undefined ? p.tiltY : 0,
        twist: p.twist !== undefined ? p.twist : 0
      }))
  
  STROKE_SCHEMAæ‹¡å¼µ:
    points: {
      type: 'array',
      required: true,
      editable: false,
      itemSchema: {
        x: 'number',
        y: 'number',
        pressure: 'number',
        time: 'number',
        tiltX: 'number',  // -1 ã€œ 1
        tiltY: 'number',  // -1 ã€œ 1
        twist: 'number'   // 0 ã€œ 2Ï€
      }
    }

ã€Phase B-2: drawing-engine.js å‚¾ãä¼é”ã€‘
æœŸé–“: 1-2æ™‚é–“

ğŸ“„ drawing-engine.js ğŸ”§
  
  æ”¹ä¿®ç®‡æ‰€: _handlePointerDown() / _handlePointerMove()
    
    ç¾çŠ¶ã‚³ãƒ¼ãƒ‰:
      this.brushCore.startStroke(
        info.clientX,
        info.clientY,
        info.pressure
      );
    
    æ”¹ä¿®å¾Œ:
      this.brushCore.startStroke(
        info.clientX,
        info.clientY,
        info.pressure,
        info.tiltX,   // è¿½åŠ 
        info.tiltY,   // è¿½åŠ 
        info.twist    // è¿½åŠ 
      );
    
    åŒæ§˜ã« updateStroke() ã‚‚æ‹¡å¼µ

ã€Phase B-3: brush-core.js å‚¾ãå‡¦ç†ã€‘
æœŸé–“: 1-2æ™‚é–“

ğŸ“„ brush-core.js ğŸ”§
  
  æ”¹ä¿®ç®‡æ‰€: startStroke() / updateStroke()
    
    ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿è¿½åŠ :
      startStroke(clientX, clientY, pressure, tiltX = 0, tiltY = 0, twist = 0)
    
    ãƒã‚¤ãƒ³ãƒˆè¨˜éŒ²ã«å‚¾ãè¿½åŠ :
      const point = {
        localX: localCoords.localX,
        localY: localCoords.localY,
        pressure: pressure,
        tiltX: tiltX,
        tiltY: tiltY,
        twist: twist,
        time: Date.now()
      };
    
    stroke-recorder.recordPoint() ã«æ¸¡ã™

ã€Phase B-4: gl-stroke-processor.js å‚¾ãå¯¾å¿œã€‘
æœŸé–“: 2-3æ™‚é–“

ğŸ“„ gl-stroke-processor.js ğŸ”§
  
  æ”¹ä¿®å†…å®¹:
    
    1. é ‚ç‚¹ãƒãƒƒãƒ•ã‚¡æ‹¡å¼µï¼ˆstride 3 â†’ 5ï¼‰
      ç¾çŠ¶: [x, y, pressure] (3 floats)
      æ”¹ä¿®: [x, y, pressure, tiltX, tiltY] (5 floats)
    
    2. createPolygonVertexBuffer() ä¿®æ­£
      normalizedPoints ã« tiltX/tiltY è¿½åŠ :
        return {
          x: p.x,
          y: p.y,
          sizePressure: sizePressure,
          flowPressure: flowPressure,
          rawPressure: rawPressure,
          tiltX: p.tiltX !== undefined ? p.tiltX : 0,
          tiltY: p.tiltY !== undefined ? p.tiltY : 0
        };
    
    3. _generateRibbonWithPressure() ä¿®æ­£
      segments ã« tiltX/tiltY è¿½åŠ 
      
      polygoné…åˆ—ç”Ÿæˆæ™‚:
        for (const seg of segments) {
          polygon.push(seg.left.x, seg.left.y);
          flowPressures.push(seg.left.flowPressure);
          tiltData.push(seg.left.tiltX, seg.left.tiltY);
        }
      
      è¿”ã‚Šå€¤: { polygon, flowPressures, tiltData }
    
    4. é ‚ç‚¹ãƒãƒƒãƒ•ã‚¡æ›¸ãè¾¼ã¿ä¿®æ­£
      buffer[i * 5] = x;
      buffer[i * 5 + 1] = y;
      buffer[i * 5 + 2] = flowPressure;
      buffer[i * 5 + 3] = tiltX;
      buffer[i * 5 + 4] = tiltY;
    
    5. è¿”ã‚Šå€¤æ›´æ–°
      return {
        buffer,
        vertexCount,
        bounds,
        hasPressure: true,
        hasTilt: true,
        stride: 5
      };

ã€Phase B-5: å‚¾ããƒ™ãƒ¼ã‚¹å¹…å¤‰èª¿å®Ÿè£…ã€‘
æœŸé–“: 1-2æ™‚é–“

ğŸ“„ stroke-renderer.js ğŸ”§
  
  æ–°è¦ãƒ¡ã‚½ãƒƒãƒ‰è¿½åŠ :
    _calculateTiltWidth(point, baseWidth, settings)
      å…¥åŠ›:
        - point: {tiltX, tiltY, pressure}
        - baseWidth: number
        - settings: {tiltSensitivity, tiltAffectsWidth}
      
      å‡¦ç†:
        if (!settings.tiltAffectsWidth) return baseWidth;
        
        const tiltMagnitude = Math.sqrt(
          point.tiltX * point.tiltX + 
          point.tiltY * point.tiltY
        );
        
        const widthModulation = 1.0 + 
          (tiltMagnitude * settings.tiltSensitivity);
        
        return baseWidth * widthModulation;
      
      è¿”ã‚Šå€¤: number (èª¿æ•´å¾Œã®å¹…)
    
    _renderWithPolygon() å†…ã§é©ç”¨:
      const adjustedSize = this._calculateTiltWidth(
        formattedPoints[0],
        settings.size,
        settings
      );

ã€Phase B-6: brush-settings.js æ‹¡å¼µã€‘
æœŸé–“: 30åˆ†

ğŸ“„ brush-settings.js ğŸ”§
  
  ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆè¨­å®šè¿½åŠ :
    tilt: {
      sensitivity: 0.5,        // å‚¾ãæ„Ÿåº¦
      affectsWidth: true,      // å¹…å¤‰èª¿ON/OFF
      affectsRotation: false,  // å›è»¢ON/OFFï¼ˆPhase Cå®Ÿè£…ï¼‰
      widthMin: 0.5,          // æœ€å°å¹…æ¯”ç‡
      widthMax: 1.5           // æœ€å¤§å¹…æ¯”ç‡
    }

ã€Phase B-7: WebGL2ã‚·ã‚§ãƒ¼ãƒ€ãƒ¼å¯¾å¿œã€‘
æœŸé–“: 1-2æ™‚é–“

ğŸ“„ shaders/render.vert.glsl ğŸ”§
  
  é ‚ç‚¹å±æ€§è¿½åŠ :
    layout(location = 0) in vec2 aPosition;
    layout(location = 1) in vec2 aTexCoord;
    layout(location = 2) in vec3 aReserved;  // [pressure, tiltX, tiltY]
    
    out vec2 vTexCoord;
    out float vPressure;
    out vec2 vTilt;
    
    void main() {
      // ... æ—¢å­˜å‡¦ç† ...
      vPressure = aReserved.x;
      vTilt = aReserved.yz;
    }

ğŸ“„ shaders/render.frag.glsl ğŸ”§
  
  å‚¾ããƒ™ãƒ¼ã‚¹æç”»:
    in vec2 vTilt;
    in float vPressure;
    
    void main() {
      // MSDFè·é›¢å ´ã‚µãƒ³ãƒ—ãƒªãƒ³ã‚°
      vec4 msdf = texture(uMSDF, vTexCoord);
      float dist = median(msdf.rgb);
      
      // å‚¾ããƒ™ãƒ¼ã‚¹é–¾å€¤èª¿æ•´
      float tiltMagnitude = length(vTilt);
      float threshold = 0.5 - (tiltMagnitude * 0.1);
      
      // ã‚¢ãƒ³ãƒã‚¨ã‚¤ãƒªã‚¢ã‚¹
      float pixelDist = fwidth(vTexCoord.x) * uRange;
      float alpha = smoothstep(
        threshold - pixelDist,
        threshold + pixelDist,
        dist
      );
      
      // ç­†åœ§åæ˜ 
      alpha *= vPressure;
      
      gl_FragColor = vec4(uColor, alpha * uOpacity);
    }

ã€Phase B-8: UIå®Ÿè£…ã€‘
æœŸé–“: 1æ™‚é–“

ğŸ“„ ui/settings-popup.js ğŸ”§
  
  å‚¾ãè¨­å®šUIè¿½åŠ :
    - ã‚¹ãƒ©ã‚¤ãƒ€ãƒ¼: å‚¾ãæ„Ÿåº¦ï¼ˆ0.0 ã€œ 1.0ï¼‰
    - ãƒˆã‚°ãƒ«: å¹…å¤‰èª¿ON/OFF
    - ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼: ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ å‚¾ãå¯è¦–åŒ–ï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰

Phase B å®Œäº†æ¡ä»¶:
âœ… pointer-handler â†’ drawing-engine â†’ brush-core â†’ stroke-recorder ã§å‚¾ãä¼é”æˆåŠŸ
âœ… data-models.StrokeData ã« tiltX/tiltY/twist ä¿å­˜æˆåŠŸ
âœ… gl-stroke-processor ã§ stride=5 é ‚ç‚¹ãƒãƒƒãƒ•ã‚¡ç”ŸæˆæˆåŠŸ
âœ… å‚¾ããƒ™ãƒ¼ã‚¹å¹…å¤‰èª¿ãŒå‹•ä½œï¼ˆæ¶²ã‚¿ãƒ–å®Ÿæ©Ÿãƒ†ã‚¹ãƒˆï¼‰
âœ… WebGL2ã‚·ã‚§ãƒ¼ãƒ€ãƒ¼ã§å‚¾ãåæ˜ æç”»æˆåŠŸ

Phase B æ¨å®šæ‰€è¦æ™‚é–“: 8-12æ™‚é–“

================================================================================

â–  å¤–éƒ¨ãƒ„ãƒ¼ãƒ«å‚è€ƒå®Ÿè£…ï¼ˆPhase C - ã‚ªãƒ—ã‚·ãƒ§ãƒ³ãƒ»ä½å„ªå…ˆåº¦ï¼‰

ã€Phase C-1: Penpot åº§æ¨™å¤‰æ›ãƒ¬ãƒ“ãƒ¥ãƒ¼ã€‘
æœŸé–“: 1-2æ™‚é–“

  ç›®çš„: coordinate-system.js ã®æœ€é©åŒ–æ¤œè¨
  
  æ‰‹é †:
    1. https://github.com/penpot/penpot ã® viewport.cljs ç¢ºèª
    2. è¡Œåˆ—ã‚¹ã‚¿ãƒƒã‚¯ç®¡ç†ã¨ã®æ¯”è¼ƒ
    3. æ”¹å–„ç‚¹ãŒã‚ã‚Œã°å–ã‚Šè¾¼ã¿
  
  æ³¨æ„: ClojureScript â†’ JavaScript å¤‰æ›å¿…è¦
  å„ªå…ˆåº¦: ä½ï¼ˆç¾çŠ¶æ­£å¸¸å‹•ä½œã®ãŸã‚ï¼‰

ã€Phase C-2: Penpot History Manager å‚è€ƒæ”¹å–„ã€‘
æœŸé–“: 2-3æ™‚é–“

  ç›®çš„: history.js ã® Undo/Redo æ§‹é€ æ”¹å–„
  
  æµç”¨å…ƒ: https://github.com/penpot/penpot/blob/main/frontend/src/app/main/data/workspace/undo.cljs
  
  æ”¹å–„é …ç›®:
    - ã‚³ãƒãƒ³ãƒ‰ãƒ‘ã‚¿ãƒ¼ãƒ³ã®æœ€é©åŒ–
    - ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿æ§‹é€ ã®æ‹¡å¼µ
    - ãƒ¡ãƒ¢ãƒªåŠ¹ç‡åŒ–ï¼ˆå¤§é‡ã‚¹ãƒˆãƒ­ãƒ¼ã‚¯å¯¾å¿œï¼‰
  
  å„ªå…ˆåº¦: ä½ï¼ˆPhase A, Bå®Œäº†å¾Œã«æ¤œè¨ï¼‰

ã€Phase C-3: tldraw-physics å‚è€ƒï¼ˆå°†æ¥å®Ÿè£…ï¼‰ã€‘
æœŸé–“: æœªå®š

  ç›®çš„: ç‰©ç†ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³å®Ÿè£…
  
  åˆ¤æ–­: ProcreateDreams / ToonSquid2 çš„ãªãƒ„ãƒ¼ãƒ«ã§ã¯ä¸è¦
  å„ªå…ˆåº¦: æœ€ä½ï¼ˆç¾æ™‚ç‚¹ã§ã¯å®Ÿè£…ä¸è¦ï¼‰

================================================================================

â–  æ®µéšçš„å®Ÿè£…ãƒ•ãƒ­ãƒ¼ï¼ˆæ¨å¥¨é †åºï¼‰

ã€Week 1ã€‘
Phase A-1ã€œA-2: MSDFçµ±åˆï¼ˆå‰åŠï¼‰
  â†’ stroke-renderer.js æ”¹ä¿®
  â†’ gl-msdf-pipeline.js èª¿æ•´
  æœŸé–“: 3-5æ™‚é–“
  æœŸå¾…æˆæœ: MSDFç”Ÿæˆãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³å‹•ä½œç¢ºèª

Phase A-3ã€œA-4: MSDFçµ±åˆï¼ˆå¾ŒåŠï¼‰
  â†’ render.frag.glsl æ”¹å–„
  â†’ çµ±åˆãƒ†ã‚¹ãƒˆ
  æœŸé–“: 2æ™‚é–“
  æœŸå¾…æˆæœ: WebGL2 MSDFæç”»å®Œå…¨å‹•ä½œ

ã€Week 2ã€‘
Phase B-1ã€œB-3: ãƒšãƒ³å‚¾ãå®Ÿè£…ï¼ˆå‰åŠï¼‰
  â†’ data-models.js æ‹¡å¼µ
  â†’ drawing-engine.js å‚¾ãä¼é”
  â†’ brush-core.js å‚¾ãå‡¦ç†
  æœŸé–“: 3-5æ™‚é–“
  æœŸå¾…æˆæœ: å‚¾ããƒ‡ãƒ¼ã‚¿å–å¾—ãƒ»è¨˜éŒ²å®Œäº†

Phase B-4ã€œB-5: ãƒšãƒ³å‚¾ãå®Ÿè£…ï¼ˆä¸­ç›¤ï¼‰
  â†’ gl-stroke-processor.js å‚¾ãå¯¾å¿œ
  â†’ å‚¾ããƒ™ãƒ¼ã‚¹å¹…å¤‰èª¿å®Ÿè£…
  æœŸé–“: 3-5æ™‚é–“
  æœŸå¾…æˆæœ: é ‚ç‚¹ãƒãƒƒãƒ•ã‚¡ stride=5 ç”ŸæˆæˆåŠŸ

ã€Week 3ã€‘
Phase B-6ã€œB-8: ãƒšãƒ³å‚¾ãå®Ÿè£…ï¼ˆå¾ŒåŠï¼‰
  â†’ brush-settings.js æ‹¡å¼µ
  â†’ WebGL2ã‚·ã‚§ãƒ¼ãƒ€ãƒ¼å¯¾å¿œ
  â†’ UIå®Ÿè£…
  æœŸé–“: 3-4æ™‚é–“
  æœŸå¾…æˆæœ: å‚¾ãæ¤œå‡ºãƒ™ã‚¯ã‚¿ãƒ¼ãƒšãƒ³å®Œå…¨å‹•ä½œ

çµ±åˆãƒ†ã‚¹ãƒˆãƒ»æœ€é©åŒ–
  â†’ æ¶²ã‚¿ãƒ–å®Ÿæ©Ÿãƒ†ã‚¹ãƒˆï¼ˆ120Hzç¢ºèªï¼‰
  â†’ MSDF + å‚¾ã åŒæ™‚å‹•ä½œç¢ºèª
  â†’ ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æ¸¬å®šãƒ»æœ€é©åŒ–
  æœŸé–“: 2-3æ™‚é–“

ã€Week 4ã€œï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰ã€‘
Phase C-1: Penpot åº§æ¨™å¤‰æ›ãƒ¬ãƒ“ãƒ¥ãƒ¼
Phase C-2: Penpot History Manager æ”¹å–„

================================================================================

â–  ãƒ•ã‚¡ã‚¤ãƒ«ä¾å­˜é–¢ä¿‚ãƒãƒƒãƒ—ï¼ˆPhase A, Bå®Ÿè£…æ™‚ï¼‰

ã€Phase A: MSDFçµ±åˆã€‘
ğŸ“ stroke-renderer.js (æ”¹ä¿®)
  â”œâ”€ ğŸ“„ gl-stroke-processor.js (æ—¢å­˜ãƒ»å¤‰æ›´ãªã—)
  â”œâ”€ ğŸ“„ gl-msdf-pipeline.js (èª¿æ•´)
  â”‚   â”œâ”€ ğŸ“„ shader-inline.js (æ—¢å­˜)
  â”‚   â””â”€ ğŸ“ webgl2-drawing-layer.js (æ—¢å­˜)
  â””â”€ ğŸ“„ config.js (è¨­å®šç¢ºèª)

ã€Phase B: ãƒšãƒ³å‚¾ãã€‘
ğŸ“„ pointer-handler.js (æ—¢å­˜ãƒ»å¤‰æ›´ãªã—)
  â†“ tiltX/tiltY/twist
ğŸ“ drawing-engine.js (æ”¹ä¿®)
  â†“
ğŸ“„ brush-core.js (æ”¹ä¿®)
  â†“
ğŸ“„ stroke-recorder.js (ç¢ºèªãƒ»è»½å¾®ä¿®æ­£å¯èƒ½æ€§)
  â†“
ğŸ“„ data-models.js (æ”¹ä¿®)

ğŸ“„ gl-stroke-processor.js (æ”¹ä¿®)
  â†“ stride=5 buffer
ğŸ“„ stroke-renderer.js (æ”¹ä¿®)
  â†“
ğŸ“„ shaders/render.vert.glsl (æ”¹ä¿®)
ğŸ“„ shaders/render.frag.glsl (æ”¹ä¿®)

ğŸ“„ brush-settings.js (æ”¹ä¿®)
ğŸ“„ ui/settings-popup.js (æ”¹ä¿®)

================================================================================

â–  æ³¨æ„äº‹é …ãƒ»åˆ¶ç´„ç¢ºèª

ã€ã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³éµå®ˆã€‘
âœ… åº§æ¨™å¤‰æ›ä¸€æœ¬åŒ–: drawing-engine ã®ã¿ãŒå¤‰æ›ã‚ªãƒ¼ãƒŠãƒ¼ï¼ˆå¤‰æ›´ãªã—ï¼‰
âœ… äºŒé‡å¤‰æ›ç¦æ­¢: stroke-recorder ã¯åº§æ¨™å¤‰æ›ãªã—ï¼ˆå¤‰æ›´ãªã—ï¼‰
âœ… Pixi toLocal()/toGlobal() ä½¿ç”¨ç¦æ­¢ï¼ˆéµå®ˆæ¸ˆã¿ï¼‰
âœ… CPU ãƒ©ã‚¹ã‚¿ãƒ©ã‚¤ã‚ºç¦æ­¢: MSDFçµ±åˆã§å®Œå…¨GPUåŒ–
âœ… Canvas2D ä½¿ç”¨ç¦æ­¢ï¼ˆãƒ‡ãƒãƒƒã‚°é™¤ãï¼‰
âœ… DPRå›ºå®š1.0ï¼ˆå¤‰æ›´ãªã—ï¼‰
âœ… Historyç™»éŒ²: pointerupæ™‚ã®ã¿ï¼ˆå¤‰æ›´ãªã—ï¼‰

ã€Phase A æ³¨æ„ç‚¹ã€‘
âš ï¸ MSDFç”Ÿæˆã¯éåŒæœŸå‡¦ç†ï¼ˆawaitå¿…é ˆï¼‰
âš ï¸ FBOå‰Šé™¤æ¼ã‚Œå³ç¦ï¼ˆãƒ¡ãƒ¢ãƒªãƒªãƒ¼ã‚¯é˜²æ­¢ï¼‰
âš ï¸ Textureæ‰€æœ‰æ¨©ã®æ˜ç¢ºåŒ–ï¼ˆèª°ãŒå‰Šé™¤ã™ã‚‹ã‹ï¼‰
âš ï¸ ã‚¨ãƒ©ãƒ¼æ™‚ã®ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ï¼ˆPixi.Graphicsç¶­æŒï¼‰

ã€Phase B æ³¨æ„ç‚¹ã€‘
âš ï¸ strideå¤‰æ›´ã«ã‚ˆã‚Šæ—¢å­˜ãƒãƒƒãƒ•ã‚¡èª­ã¿è¾¼ã¿ã«å½±éŸ¿
âš ï¸ ã‚·ã‚§ãƒ¼ãƒ€ãƒ¼ attribute å®šç¾©é †åºå³å®ˆ
âš ï¸ å‚¾ãæ­£è¦åŒ–ï¼ˆ-1ã€œ1ç¯„å›²ä¿è¨¼ï¼‰
âš ï¸ æ¶²ã‚¿ãƒ–å®Ÿæ©Ÿãƒ†ã‚¹ãƒˆå¿…é ˆï¼ˆå‚¾ãæ¤œå‡ºç¢ºèªï¼‰

ã€ã‚°ãƒ­ãƒ¼ãƒãƒ«ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã€‘
âœ… window.CoordinateSystem
âœ… window.cameraSystem
âœ… window.layerManager
âœ… window.historyManager
âœ… window.WebGLContext
âœ… window.WebGL2DrawingLayer
âœ… window.GLMSDFPipeline
âœ… window.GLSLShaders
âœ… window.PixiUIï¼ˆPixi UIå°‚ç”¨ï¼‰

ã€ç¦æ­¢äº‹é …å†ç¢ºèªã€‘
âŒ äºŒé‡å¤‰æ›
âŒ Pixi.Graphics æœ¬ç•ªæç”»ä½¿ç”¨ï¼ˆPhase Aå¾Œã¯å®Œå…¨WebGL2åŒ–ï¼‰
âŒ CPU SDF/MSDF è¨ˆç®—
âŒ strokeTypeåˆ†é›¢å®Ÿè£…
âŒ å¾ªç’°ä¾å­˜

================================================================================

â–  å®Œäº†åˆ¤å®šåŸºæº–

ã€Phase A å®Œäº†æ¡ä»¶ã€‘
âœ… gl-msdf-pipeline.generateMSDF() æˆåŠŸï¼ˆtextureè¿”å´ï¼‰
âœ… stroke-renderer._renderWithPolygon() ã‹ã‚‰MSDFç”ŸæˆæˆåŠŸ
âœ… WebGL2 Texture â†’ Pixi.Sprite æç”»æˆåŠŸ
âœ… ã‚¢ãƒ³ãƒã‚¨ã‚¤ãƒªã‚¢ã‚¹å“è³ªå‘ä¸Šç¢ºèª
âœ… FBOå‰Šé™¤æ­£å¸¸å‹•ä½œï¼ˆãƒ¡ãƒ¢ãƒªãƒªãƒ¼ã‚¯ç„¡ã—ï¼‰
âœ… ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹: ã‚¹ãƒˆãƒ­ãƒ¼ã‚¯æç”» < 16msï¼ˆ60fpsç¶­æŒï¼‰

ã€Phase B å®Œäº†æ¡ä»¶ã€‘
âœ… pointer-handler â†’ drawing-engine â†’ brush-core ã§å‚¾ãä¼é”æˆåŠŸ
âœ… data-models.StrokeData ã« tiltX/tiltY/twist ä¿å­˜ãƒ»ã‚·ãƒªã‚¢ãƒ©ã‚¤ã‚ºæˆåŠŸ
âœ… gl-stroke-processor.createPolygonVertexBuffer() ã§ stride=5 ç”ŸæˆæˆåŠŸ
âœ… å‚¾ããƒ™ãƒ¼ã‚¹å¹…å¤‰èª¿å‹•ä½œç¢ºèªï¼ˆæ¶²ã‚¿ãƒ–å®Ÿæ©Ÿãƒ†ã‚¹ãƒˆï¼‰
âœ… WebGL2ã‚·ã‚§ãƒ¼ãƒ€ãƒ¼ã§å‚¾ãåæ˜ æç”»æˆåŠŸ
âœ… UIè¨­å®šï¼ˆå‚¾ãæ„Ÿåº¦ãƒ»å¹…å¤‰èª¿ON/OFFï¼‰å‹•ä½œç¢ºèª
âœ… 120Hzãƒªãƒ•ãƒ¬ãƒƒã‚·ãƒ¥ãƒ¬ãƒ¼ãƒˆç¶­æŒ

ã€å…¨ä½“å®Œäº†æ¡ä»¶ï¼ˆPhase A + Bï¼‰ã€‘
âœ… MSDF + å‚¾ã åŒæ™‚å‹•ä½œç¢ºèª
âœ… ProcreateDreams / ToonSquid2 ç›¸å½“ã®ãƒšãƒ³å“è³ªé”æˆ
âœ… åº§æ¨™å¤‰æ›ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³å˜ä¸€è²¬å‹™ç¶­æŒ
âœ… WebGL2 / PixiJS è²¬å‹™åˆ†é›¢ç¶­æŒ
âœ… Historyç™»éŒ²æ­£å¸¸å‹•ä½œ
âœ… file:// ç›´é–‹ãå‹•ä½œç¢ºèª
âœ… GPUæç”»ã®ã¿ï¼ˆCPUãƒ©ã‚¹ã‚¿ãƒ©ã‚¤ã‚ºå®Œå…¨å»ƒæ­¢ï¼‰

================================================================================

â–  æ¨å®šå·¥æ•°ãƒ»ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«

Phase Aï¼ˆMSDFçµ±åˆï¼‰: 5-7æ™‚é–“
  - A-1: 2-3æ™‚é–“
  - A-2: 1-2æ™‚é–“
  - A-3: 1æ™‚é–“
  - A-4: 1æ™‚é–“

Phase Bï¼ˆãƒšãƒ³å‚¾ãï¼‰: 8-12æ™‚é–“
  - B-1: 1æ™‚é–“
  - B-2: 1-2æ™‚é–“
  - B-3: 1-2æ™‚é–“
  - B-4: 2-3æ™‚é–“
  - B-5: 1-2æ™‚é–“
  - B-6: 30åˆ†
  - B-7: 1-2æ™‚é–“
  - B-8: 1æ™‚é–“

çµ±åˆãƒ†ã‚¹ãƒˆ: 2-3æ™‚é–“

Phase Cï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰: 3-5æ™‚é–“

åˆè¨ˆï¼ˆPhase A + B + ãƒ†ã‚¹ãƒˆï¼‰: 15-22æ™‚é–“
åˆè¨ˆï¼ˆPhase A + B + C + ãƒ†ã‚¹ãƒˆï¼‰: 18-27æ™‚é–“

æ¨å¥¨å®Ÿè£…æœŸé–“: 2-3é€±é–“ï¼ˆPhase A, B ã®ã¿ï¼‰

================================================================================
End of Document - Rev.20ç‰ˆ
================================================================================