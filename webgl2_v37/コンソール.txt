config.js:509 âœ… config.js v8.14.3 Phase 1.7 ç­†åœ§å¯¾å¿œç‰ˆ loaded
config.js:510    ğŸ”§ thinning: 0.7 (ç­†åœ§ã«ã‚ˆã‚‹å¤ªã•å¤‰åŒ–æœ‰åŠ¹)
config.js:511    ğŸ”§ smoothing: 0.4 (é©åº¦ãªè£œé–“)
config.js:512    ğŸ”§ streamline: 0.3 (å®‰å®šåŒ–)
coordinate-system.js:434 âœ… coordinate-system.js Phase 4.0 åº§æ¨™å¤‰æ›å®Œå…¨ä¿®æ­£ç‰ˆ loaded
coordinate-system.js:435    ğŸ”§ worldToLocal()é€†è¡Œåˆ—è¨ˆç®—å®Œå…¨ä¿®æ­£
coordinate-system.js:436    ğŸ”§ Positionæ¸›ç®—ãƒ»Rotation/Scaleé€†å¤‰æ›é †åºä¿®æ­£
coordinate-system.js:437    ğŸ”§ ã‚«ãƒ¡ãƒ©ãƒ•ãƒ¬ãƒ¼ãƒ å¢ƒç•Œãƒã‚§ãƒƒã‚¯è¿½åŠ 
coordinate-system.js:438    ğŸ”§ åº§æ¨™æ¤œè¨¼å¼·åŒ–ãƒ»çµ±è¨ˆæƒ…å ±è¿½åŠ 
coordinate-system.js:439    ğŸ¯ ãƒ‡ãƒãƒƒã‚°: TegakiDebug.coord.*
data-models.js:276 âœ… data-models.js (backgroundColorè¿½åŠ ç‰ˆ) loaded
batch-api.js:382 âœ… batch-api.js (Phase 6: Historyçµ±åˆç‰ˆ) loaded
debug-utils.js:553 âœ… debug-utils.js loaded
debug-utils.js:554    Type: TegakiDebug.help() for available commands
debug-utils.js:555    Quick check: TegakiDebug.fullDiagnostic()
popup-manager.js:357 âœ… popup-manager.js (quick-accessé™¤å¤–å¯¾å¿œç‰ˆ) loaded
state-manager.js:669 âœ… state-manager.js (Phase 8å®Œå…¨å®Ÿè£…ç‰ˆ) loaded
settings-manager.js:231 âœ… settings-manager.js Phase 2 loaded
settings-manager.js:232    ğŸ”§ exportResolution è¨­å®šé …ç›®è¿½åŠ 
camera-system.js:738 âœ… camera-system.js Phase 3.2 cameraFrameBoundså®Ÿè£…ç‰ˆ loaded
camera-system.js:739    ğŸ”§ cameraFrameBounds ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£è¿½åŠ ï¼ˆåº§æ¨™ã‚¯ãƒªãƒƒãƒ”ãƒ³ã‚°ç”¨ï¼‰
camera-system.js:740    ğŸ”§ gl-stroke-processor.js ãŒå‚ç…§ã™ã‚‹ bounds æƒ…å ±ã‚’æä¾›
camera-system.js:741    âœ… Phase 3.1å®Œå…¨ç¶™æ‰¿
layer-transform.js:1011 âœ… layer-transform.js Phase 6 loaded
layer-transform.js:1012    ğŸ”§ flipLayer(): confirmTransform()å‰Šé™¤ - åè»¢æ™‚ã®ç”»åƒæ¶ˆå¤±ã‚’è§£æ±º
checker-utils.js:163 âœ… system/checker-utils.js çµ±ä¸€å®Ÿè£…ç‰ˆ loaded
layer-system.js:1424 âœ… layer-system.js Phase 9å®Œæˆç‰ˆ loaded
layer-system.js:1425    âœ… setCameraSystem() è¦ªå­é–¢ä¿‚ç¢ºç«‹å®Ÿè£…
layer-system.js:1426    âœ… currentFrameContainer â†’ worldContainer ç¢ºç«‹
layer-system.js:1427    âœ… verifyParentChain() ãƒ‡ãƒãƒƒã‚°ãƒ¡ã‚½ãƒƒãƒ‰è¿½åŠ 
layer-system.js:1428    âœ… Phase 8å®Œå…¨ç¶™æ‰¿ï¼ˆgetLayerByIdå®Ÿè£…ï¼‰
drawing-clipboard.js:827 âœ… drawing-clipboard.js Phase 1 loaded
drawing-clipboard.js:828    ğŸ”§ cutActiveLayer(): æç”»ã®ã¿å‰Šé™¤ï¼ˆãƒ¬ã‚¤ãƒ¤ãƒ¼ä¿æŒï¼‰
drawing-clipboard.js:829    ğŸ¨ ãƒãƒƒãƒ—ã‚¢ãƒƒãƒ—: ãƒ¬ã‚¤ãƒ¤ãƒ¼ã‚³ãƒ”ãƒ¼ã€åˆ‡ã‚Šå–ã‚Š
history.js:343 âœ… history.js Phase 4 mask snapshotå¯¾å¿œå®Œå…¨ç‰ˆ loaded
history.js:344    âœ… pushEraseMask() å®Ÿè£…
history.js:345    âœ… beginAction/endAction/addPoint å®Ÿè£…
gl-texture-bridge.js:201 âœ… gl-texture-bridge.js Phase 5å®Œå…¨ç‰ˆ (PixiJS v8å¯¾å¿œ) loaded
gl-texture-bridge.js:202    âœ… WebGLTexture â†’ PIXI.Spriteå¤‰æ›å®Ÿè£…å®Œäº†
gl-texture-bridge.js:203    âœ… PixiJS v8: Texture.from()ç›´æ¥ä½¿ç”¨ï¼ˆå®šæ•°å•é¡Œè§£æ±ºï¼‰
gl-texture-bridge.js:204    âœ… WebGPUäº’æ›API (createSpriteFromGPUTexture) å¯¾å¿œ
gl-msdf-pipeline.js:684 âœ… gl-msdf-pipeline.js Phase 3.2 ã‚¢ã‚¹ãƒšã‚¯ãƒˆæ¯”ä¿æŒæ”¹å–„ç‰ˆ loaded
gl-msdf-pipeline.js:685    ğŸ”§ ãƒ†ã‚¯ã‚¹ãƒãƒ£ã‚µã‚¤ã‚ºè¨ˆç®—ã§ã‚¢ã‚¹ãƒšã‚¯ãƒˆæ¯”ã‚’å³å¯†ä¿æŒ
gl-msdf-pipeline.js:686    ğŸ”§ 2ã®ç´¯ä¹—ä¸¸ã‚ã«ã‚ˆã‚‹ã‚¹ãƒˆãƒ­ãƒ¼ã‚¯å¤‰å½¢ã‚’é˜²æ­¢
gl-stroke-processor.js:541 âœ… gl-stroke-processor.js Phase 4.0 ã‚«ãƒ¡ãƒ©ãƒ•ãƒ¬ãƒ¼ãƒ å³æ ¼å¯¾å¿œç‰ˆ loaded
gl-stroke-processor.js:542    ğŸ”§ ã‚«ãƒ¡ãƒ©ãƒ•ãƒ¬ãƒ¼ãƒ å¤–ã¸ã®æç”»ã‚’å®Œå…¨é˜²æ­¢
gl-stroke-processor.js:543    ğŸ”§ ãƒã‚¤ãƒ³ãƒˆåº§æ¨™æ¤œè¨¼è¿½åŠ 
gl-stroke-processor.js:544    ğŸ”§ ãƒ•ãƒ¬ãƒ¼ãƒ å¤–ã‚¹ãƒˆãƒ­ãƒ¼ã‚¯ã®æ—©æœŸãƒªã‚¸ã‚§ã‚¯ãƒˆ
gl-stroke-processor.js:545    ğŸ”§ çµ±è¨ˆæƒ…å ±è¿½åŠ 
gl-stroke-processor.js:546    âœ… Phase 3.2å®Œå…¨ç¶™æ‰¿
gl-stroke-processor.js:547    ğŸ¯ ãƒ‡ãƒãƒƒã‚°: TegakiDebug.glStroke.*
webgl2-drawing-layer.js:360 âœ… webgl2-drawing-layer.js Phase 1 å®Œå…¨ä¿®æ­£ç‰ˆ loaded
webgl2-drawing-layer.js:361    ğŸ“Œ window.WebGLContext (ä¸»è¦)
webgl2-drawing-layer.js:362    ğŸ“Œ window.WebGL2DrawingLayer (äº’æ›)
gl-mask-layer.js:473 âœ… gl-mask-layer.js Phase 6å®Œå…¨ç‰ˆ loaded
gl-mask-layer.js:474    âœ… Circle mask renderingå®Ÿè£…
gl-mask-layer.js:475    âœ… Additive blendå¯¾å¿œ
gl-mask-layer.js:476    âœ… Compose Passçµ±åˆæº–å‚™å®Œäº†
pointer-handler.js:252 âœ… pointer-handler.js Phase 1 loaded
pointer-handler.js:253    ğŸ”§ pressureæ­£è¦åŒ–ä¿®æ­£ï¼ˆãƒã‚¦ã‚¹=0, ãƒšãƒ³=e.pressureï¼‰
pointer-handler.js:254    ğŸ”§ EventEmitteré¢¨APIå®Ÿè£…ï¼ˆ.on / .offï¼‰
pressure-handler.js:144 âœ… pressure-handler.js Phase 1 loaded
pressure-handler.js:145    ğŸ”§ ãƒ™ãƒ¼ã‚¹ãƒ©ã‚¤ãƒ³æœªç¢ºå®šæ™‚ã«rawå€¤è¿”å´ï¼ˆ0.5å›ºå®šå‰Šé™¤ï¼‰
stroke-recorder.js:334 âœ… stroke-recorder.js Phase 0 loaded
stroke-recorder.js:335    âœ“ è‡ªå‹•åˆæœŸåŒ–å®Œäº†ï¼ˆinitialize()ä¸è¦ï¼‰
stroke-recorder.js:336    âœ“ Localåº§æ¨™è¨˜éŒ²å°‚ç”¨ï¼ˆåº§æ¨™å¤‰æ›ãªã—ï¼‰
stroke-recorder.js:337    âœ“ PerfectFreehandäº’æ›å½¢å¼å¯¾å¿œ
stroke-renderer.js:199 âœ… stroke-renderer.js (WebGL2ç§»è¡Œç‰ˆ) loaded
stroke-renderer.js:200    ğŸ”§ WebGPU â†’ WebGL2 å‚ç…§å¤‰æ›´å®Œäº†
thumbnail-system.js:507 âœ… thumbnail-system.js (v1.1: çµ±ä¸€ã‚¢ã‚¹ãƒšã‚¯ãƒˆæ¯”å¯¾å¿œ) loaded
brush-settings.js:222 âœ… brush-settings.js (Phase 3-D Clean) loaded
blend-modes.js:24 âœ… BlendMode definitions loaded
vector-operations.js:144 âœ… vector-operations.js Phase 1å®Œå…¨ç‰ˆ loaded
vector-operations.js:145    âœ“ window.VectorOperations.generateStrokePolygon(points, size)
vector-operations.js:146    âœ“ config.js perfectFreehandè¨­å®šè‡ªå‹•é©ç”¨
vector-operations.js:147    ğŸ”¥ PerfectFreehandçµ±åˆåŸºç›¤å®Œæˆ
brush-core.js:747 âœ… brush-core.js Phase 2.4 Spriteé…ç½®ä¿®æ­£ç‰ˆ loaded
brush-core.js:748    ğŸ”§ sprite.width/heightå¼·åˆ¶å¤‰æ›´ã‚’å‰Šé™¤
brush-core.js:749    ğŸ”§ ãƒ†ã‚¯ã‚¹ãƒãƒ£æœ¬æ¥ã®ã‚µã‚¤ã‚ºã‚’ä½¿ç”¨
fill-tool.js:269 âœ… fill-tool.js (WebGPUç«¶åˆä¿®æ­£ç‰ˆ) loaded
fill-tool.js:270    âŒ ç‹¬è‡ªWebGPUåˆæœŸåŒ–ã‚’å‰Šé™¤
fill-tool.js:271    âœ… æ—¢å­˜ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹å‚ç…§ã®ã¿
drawing-engine.js:657 âœ… drawing-engine.js v8.15.0 Phase 4.0 åº§æ¨™æ¤œè¨¼å¼·åŒ–ç‰ˆ loaded
drawing-engine.js:658    ğŸ”§ ã‚«ãƒ¡ãƒ©ãƒ•ãƒ¬ãƒ¼ãƒ å¢ƒç•Œãƒã‚§ãƒƒã‚¯è¿½åŠ 
drawing-engine.js:659    ğŸ”§ ãƒ•ãƒ¬ãƒ¼ãƒ å¤–ãƒã‚¤ãƒ³ãƒˆã®è‡ªå‹•ã‚¹ã‚­ãƒƒãƒ—
drawing-engine.js:660    ğŸ”§ çµ±è¨ˆæƒ…å ±è¿½åŠ 
drawing-engine.js:661    âœ… v8.14.3ã®å…¨ãƒ¡ã‚½ãƒƒãƒ‰ãƒ»æ©Ÿèƒ½ã‚’å®Œå…¨ç¶™æ‰¿
drawing-engine.js:662    ğŸ¯ ãƒ‡ãƒãƒƒã‚°ã‚³ãƒãƒ³ãƒ‰: TegakiDebug.drawing.*
quick-export-ui.js:292 âœ… quick-export-ui.js (ç„¡åŠ¹åŒ–ç‰ˆ) loaded
export-manager.js:531 âœ… export-manager.js v8.33.0 loaded
export-manager.js:532    ğŸ”§ PNGâ†’APNGç¶­æŒ / WEBPâ†’WebMè‡ªå‹•åˆ‡æ›¿å¯¾å¿œ
png-exporter.js:255 âœ… png-exporter.js v8.29.0 loaded
png-exporter.js:256    ğŸ”§ generatePreview()ãƒ¡ã‚½ãƒƒãƒ‰è¿½åŠ 
png-exporter.js:257    ğŸ”§ ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°å¼·åŒ–
png-exporter.js:258    ğŸ”§ Blobç”Ÿæˆã®ç¢ºå®Ÿæ€§å‘ä¸Š
webp-exporter.js:249 âœ… webp-exporter.js v8.33.0 loaded (é™æ­¢ç”»WEBPå°‚ç”¨)
webp-exporter.js:250    âš ï¸ è¤‡æ•°ãƒ•ãƒ¬ãƒ¼ãƒ æ™‚ã¯WebMæ¨å¥¨ï¼ˆã‚¢ãƒ«ãƒ•ã‚¡å€¤ç¶­æŒãƒ»è»½é‡ï¼‰
psd-exporter.js:170 âœ… psd-exporter.js v8.18.0 loaded (Phase 5: ãƒœã‚¿ãƒ³é…ç½®ç”¨)
psd-exporter.js:171    âš ï¸ å®Ÿè£…ã¯å°†æ¥ãƒ•ã‚§ãƒ¼ã‚ºã§è¿½åŠ äºˆå®š
psd-exporter.js:172    âœ“ ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã§é–‹ç™ºä¸­ã‚’é€šçŸ¥
apng-exporter.js:281 âœ… apng-exporter.js v8.31.0 loaded
mp4-exporter.js:30 âœ… mp4-exporter.js (Phase 8å®Œæˆç‰ˆ) loaded
dom-builder.js:527 âœ… dom-builder.js v8.19.0 loaded
dom-builder.js:528    ğŸ”§ ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆãƒœã‚¿ãƒ³: PNG/WEBP/PSDï¼ˆGIF/PDFå‰Šé™¤ï¼‰
dom-builder.js:529    âœ“ Systemæƒ…å ±è¡¨ç¤ºï¼ˆWebGPU/GPUæ¤œå‡ºï¼‰
slider-utils.js:265 âœ… slider-utils.js v8.14.0 loaded
slider-utils.js:266    ğŸ”§ PointerEventé…ä¿¡å•é¡Œä¿®æ­£å®Œäº†
keyboard-handler.js:486 âœ… keyboard-handler.js Phase 6å®Œæˆç‰ˆ loaded
keyboard-handler.js:487    âœ… BS/DEL: æç”»å‰Šé™¤ãŒæ­£å¸¸å‹•ä½œ
keyboard-handler.js:488    âœ… Undo/Redo: childrenå‚ç…§ä¿æŒã§å®Œå…¨å¾©å…ƒ
keyboard-handler.js:489    ğŸ”§ åè»¢å‡¦ç†: ç”»åƒæ¶ˆå¤±å•é¡Œè§£æ±º
layer-panel-renderer.js:663 âœ… layer-panel-renderer.js (Phase 5+6å¯¾å¿œç‰ˆ) loaded
layer-panel-renderer.js:664    âœ“ layer:panel-update-requested ã‚¤ãƒ™ãƒ³ãƒˆãƒªã‚¹ãƒŠãƒ¼è¿½åŠ 
layer-panel-renderer.js:665    âœ“ LayerSystemã‹ã‚‰ã®ç›´æ¥å‘¼ã³å‡ºã—å®Œå…¨æ’é™¤
status-display-renderer.js:317 âœ… ui/status-display-renderer.js å®Œå…¨æ”¹ä¿®ç‰ˆ loaded
timeline-thumbnail-utils.js:258 âœ… ui/timeline-thumbnail-utils.js (Phase 3å®Œå…¨ç‰ˆ) loaded
timeline-thumbnail-utils.js:259    âœ“ Phase 1: layer:transform-updated è³¼èª­è¿½åŠ 
timeline-thumbnail-utils.js:260    âœ“ Phase 3: throttleæœ€é©åŒ–ï¼ˆ100msï¼‰
timeline-thumbnail-utils.js:261    âœ“ Phase 3: immediate ãƒ•ãƒ©ã‚°å¯¾å¿œ
timeline-thumbnail-utils.js:262    âœ“ ã‚¿ã‚¤ãƒ ãƒ©ã‚¤ãƒ³ã‚µãƒ ãƒã‚¤ãƒ«ãŒãƒ¬ã‚¤ãƒ¤ãƒ¼å¤‰å½¢ã«å³åº§è¿½å¾“
timeline-ui.js:981 âœ… timeline-ui.js (Phase 4å®Œäº†: ãƒ¬ã‚¤ãƒ¤ãƒ¼å¤‰å½¢é€£æºç‰ˆ) loaded
album-popup.js:473 âœ… album-popup.js (FRAMEæ”¹ä¿®ç‰ˆ) loaded
settings-popup.js:649 âœ… settings-popup.js Phase 1 loaded
settings-popup.js:650    ğŸ”§ ui:open-settings ãƒªã‚¹ãƒŠãƒ¼è¿½åŠ ï¼ˆCtrl+, å¯¾å¿œï¼‰
quick-access-popup.js:740 âœ… quick-access-popup.js v8.13.17 loaded
export-popup.js:557 âœ… export-popup.js v8.29.0 loaded
export-popup.js:558    ğŸ”§ PNGâ†’APNGç¶­æŒ / WEBPâ†’WebMè‡ªå‹•åˆ‡æ›¿UIå¯¾å¿œ
ui-panels.js:420 âœ… ui-panels.js v8.13.15 loaded
ui-panels.js:421    ğŸ¨ ã‚µã‚¤ãƒ‰ãƒãƒ¼è»½é‡ãƒ‡ã‚¶ã‚¤ãƒ³: ã‚ªãƒ¬ãƒ³ã‚¸æ ã®ã¿
ui-panels.js:422    ğŸ¯ SVGè‰²çµ±ä¸€: å¸¸ã«var(--futaba-maroon)
core-runtime.js:578 âœ… core-runtime.js (Phase 5 - UIä¾‹å¤–ä¿®æ­£ç‰ˆ) loaded
core-engine.js:1041 âœ… core-engine.js Phase 5 DrawingEngineåˆæœŸåŒ–çµ±åˆç‰ˆ loaded
core-engine.js:1042    ğŸ”§ DrawingEngine.initialize()å‘¼ã³å‡ºã—è¿½åŠ 
core-engine.js:1043    ğŸ”§ PointerHandlerã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ä½œæˆã¨æ¥ç¶š
core-engine.js:1044    ğŸ”§ WebGL2ã‚­ãƒ£ãƒ³ãƒã‚¹å‚ç…§ã®ç¢ºå®Ÿãªå—ã‘æ¸¡ã—
core-engine.js:1045    ğŸ”§ åˆæœŸåŒ–ãƒ•ãƒ­ãƒ¼å®Œå…¨çµ±åˆ
core-engine.js:1046    ğŸ”§ Phase 4-C: ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼çµ±åˆç¶­æŒ
core-initializer.js:727 âœ… core-initializer.js Phase 1.2.7 WebGL2ã‚­ãƒ£ãƒ³ãƒã‚¹ã‚µã‚¤ã‚ºä¿®æ­£ç‰ˆ loaded
core-initializer.js:728    ğŸ”§ WebGL2ã‚­ãƒ£ãƒ³ãƒã‚¹ã‚’è«–ç†ã‚­ãƒ£ãƒ³ãƒã‚¹ã‚µã‚¤ã‚ºã«è‡ªå‹•è¨­å®š
core-initializer.js:729    ğŸ”§ ãƒ¦ãƒ¼ã‚¶ãƒ¼å¯å¤‰ã‚­ãƒ£ãƒ³ãƒã‚¹ã‚µã‚¤ã‚ºã«å®Œå…¨å¯¾å¿œ
core-initializer.js:730    âœ… Phase 1.2.6å®Œå…¨ç¶™æ‰¿
index.html:119 ğŸš€ WebGL2 MSDFç‰ˆ èµ·å‹•ä¸­...
core-initializer.js:338 [CoreInit] ğŸ”§ WebGL2 canvas resized to logical canvas size: {width: 400, height: 400}
core-initializer.js:389 [CoreInit] Calling CoreEngine.initialize()...
core-engine.js:815 [CoreEngine] ========================================
core-engine.js:816 [CoreEngine] Starting initialization sequence...
core-engine.js:817 [CoreEngine] ========================================
core-engine.js:820 [CoreEngine] [1/8] Initializing CameraSystem...
core-engine.js:822 [CoreEngine] âœ… CameraSystem initialized
core-engine.js:825 [CoreEngine] [2/8] Initializing LayerSystem...
core-engine.js:827 [CoreEngine] âœ… LayerSystem initialized
core-engine.js:830 [CoreEngine] [3/8] Initializing ClipboardSystem...
core-engine.js:832 [CoreEngine] âœ… ClipboardSystem initialized
core-engine.js:836 [CoreEngine] [4/8] Initializing ThumbnailSystem...
core-engine.js:839 [CoreEngine] âœ… ThumbnailSystem initialized
core-engine.js:845 [CoreEngine] [5/8] Setting up History...
core-engine.js:848 [CoreEngine] âœ… History linked to LayerSystem
core-engine.js:858 [CoreEngine] [6/8] Checking StrokeRecorder...
core-engine.js:869 [CoreEngine] âœ… StrokeRecorder ready
core-engine.js:872 [CoreEngine] [7/8] Checking StrokeRenderer...
core-engine.js:884 [CoreEngine] âœ… StrokeRenderer ready
core-engine.js:887 [CoreEngine] [8/8] Initializing BrushCore...
core-engine.js:901 [CoreEngine] âœ… BrushCore initialized
core-engine.js:904 [CoreEngine] [Phase 5.1] Initializing CoordinateSystem...
core-engine.js:911 [CoreEngine] âœ… CoordinateSystem initialized
core-engine.js:914 [CoreEngine] ========================================
core-engine.js:915 [CoreEngine] [Phase 5] Initializing DrawingEngine...
core-engine.js:922 [CoreEngine] ========================================
core-engine.js:923 [CoreEngine] [Phase 5] Initializing DrawingEngine...
core-engine.js:924 [CoreEngine] ========================================
core-engine.js:733 [CoreEngine] Initializing DrawingEngine...
core-engine.js:744 [CoreEngine] âœ… WebGL2 canvas found: {width: 400, height: 400, id: 'webgl2-canvas'}
core-engine.js:775 [CoreEngine] âœ… PointerHandler created
drawing-engine.js:127 [DrawingEngine] âœ… Initialized v8.15.0 Phase 4.0 {coordSystemReady: true, glCanvasSize: {â€¦}, brushCoreReady: true}
core-engine.js:793 [CoreEngine] âœ… DrawingEngine initialized successfully
core-engine.js:928 [CoreEngine] âœ… DrawingEngine initialization complete
core-engine.js:938 [CoreEngine] Initializing AnimationSystem...
core-engine.js:955 [CoreEngine] Initializing BatchAPI...
core-engine.js:961 [CoreEngine] âœ… BatchAPI initialized
core-engine.js:965 [CoreEngine] Initializing UnifiedKeyHandler...
core-engine.js:977 [CoreEngine] âœ… UnifiedKeyHandler initialized
core-engine.js:1017 [CoreEngine] ========================================
core-engine.js:1018 [CoreEngine] âœ… Initialization complete!
core-engine.js:1019 [CoreEngine] ========================================
core-initializer.js:391 [CoreInit] âœ… CoreEngine.initialize() complete
core-initializer.js:398 [CoreInit] âœ… worldContainer ready: {x: 200, y: 100, scale: 1}
core-initializer.js:407 [CoreInit] Connecting LayerSystem and CameraSystem...
core-initializer.js:419 [CoreInit] Parent-child verification: {currentFrameContainer: true, worldContainer: true, isChild: true, childIndex: 0, worldContainerChildren: 4}
core-initializer.js:441 [CoreInit] âœ… LayerSystem and CameraSystem connected successfully
core-initializer.js:456 [CoreInit] Verifying CoordinateSystem...
core-initializer.js:459 [CoreInit] CoordinateSystem final state: {initialized: true, canvas: '400x400', worldContainer: {â€¦}, stats: {â€¦}}
popup-manager.js:16 âœ… PopupManager initialized
popup-manager.js:42 ğŸ“‹ Popup "settings" registered (priority: 1)
popup-manager.js:42 ğŸ“‹ Popup "quickAccess" registered (priority: 2)
popup-manager.js:42 ğŸ“‹ Popup "album" registered (priority: 3)
popup-manager.js:42 ğŸ“‹ Popup "resize" registered (priority: 4)
popup-manager.js:102 ğŸ”§ Initializing all popups...
popup-manager.js:87 âœ… Popup "settings" initialized successfully
popup-manager.js:87 âœ… Popup "quickAccess" initialized successfully
popup-manager.js:87 âœ… Popup "album" initialized successfully
popup-manager.js:87 âœ… Popup "resize" initialized successfully
popup-manager.js:118 ğŸ“Š Popup initialization: 4 ready, 0 deferred
webgl2-drawing-layer.js:94 [WebGL2DrawingLayer] âœ… Initialized {canvasSize: '400x400', maxTextureSize: 16384, extensions: Array(3)}
core-initializer.js:208 [WebGL2] Drawing Layer initialized
core-initializer.js:216 [WebGL2] GLStrokeProcessor initialized
core-initializer.js:220 [WebGL2] GLMSDFPipeline initialized
gl-texture-bridge.js:51 [GLTextureBridge] âœ… Initialized (PixiJS v8)
core-initializer.js:227 [WebGL2] GLTextureBridge initialized
gl-mask-layer.js:82 [GLMaskLayer] âœ… Initialized {width: 400, height: 400}
core-initializer.js:239 [WebGL2] GLMaskLayer initialized
stroke-renderer.js:76 [StrokeRenderer] âœ… Initialized (WebGL2 mode)
core-initializer.js:253 [WebGL2] StrokeRenderer initialized
core-initializer.js:255 [WebGL2] âœ… Phase 6 initialization complete
core-initializer.js:520 [App] Re-initializing BrushCore with WebGL2 components
core-initializer.js:552 [App] BrushCore already initialized, components updated
core-initializer.js:555 [App] âœ… BrushCore re-initialized with WebGL2 (Phase 6.1) {msdfAvailable: true, maskAvailable: true, initialized: true}
index.html:121 âœ… WebGL2åˆæœŸåŒ–å®Œäº†
core-engine.js:943 [CoreEngine] Initializing ExportManager...
popup-manager.js:42 ğŸ“‹ Popup "export" registered (priority: 5)
core-engine.js:949 [CoreEngine] Initializing LayerTransform...
popup-manager.js:87 âœ… Popup "export" initialized successfully
// === PointerHandler å¼·åˆ¶å†åˆæœŸåŒ– ===
console.log('ğŸ”§ PointerHandler å¼·åˆ¶å†åˆæœŸåŒ–...');

const glCanvas = document.querySelector('#webgl2-canvas');
const drawingEngine = window.drawingEngine;

if (!glCanvas) {
  console.error('âŒ WebGL2ã‚­ãƒ£ãƒ³ãƒã‚¹ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“');
} else if (!drawingEngine) {
  console.error('âŒ DrawingEngineãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“');
} else {
  console.log('âœ“ WebGL2ã‚­ãƒ£ãƒ³ãƒã‚¹:', glCanvas);
  console.log('âœ“ DrawingEngine:', drawingEngine);
  
  // æ—¢å­˜ã®PointerHandlerã‚’å‰Šé™¤
  if (window.pointerHandler) {
    console.log('  æ—¢å­˜ã®PointerHandlerå‰Šé™¤ä¸­...');
    
    // æ—¢å­˜ã®ãƒªã‚¹ãƒŠãƒ¼ã‚’å…¨ã¦å‰Šé™¤
    const events = ['pointerdown', 'pointermove', 'pointerup', 'pointercancel'];
    events.forEach(eventType => {
      const listeners = getEventListeners(glCanvas)[eventType] || [];
      listeners.forEach(listener => {
        // pointer-handlerç”±æ¥ã®ãƒªã‚¹ãƒŠãƒ¼ã®ã¿å‰Šé™¤
        if (listener.listener.toString().includes('_normalizeEvent')) {
          glCanvas.removeEventListener(eventType, listener.listener, listener.useCapture);
          console.log(`    ${eventType} ãƒªã‚¹ãƒŠãƒ¼å‰Šé™¤`);
        }
      });
    });
  }
  
  // æ–°ã—ã„PointerHandlerã‚’ä½œæˆ
  console.log('\n  æ–°ã—ã„PointerHandlerä½œæˆä¸­...');
  
  class PointerHandler {
    constructor(canvas) {
      this.canvas = canvas;
      this._listeners = {
        pointerdown: [],
        pointermove: [],
        pointerup: [],
        pointercancel: []
      };
      
      this._setupListeners();
      console.log('    âœ“ PointerHandleråˆæœŸåŒ–å®Œäº†');
    }
    
    _setupListeners() {
      this.canvas.addEventListener('pointerdown', (e) => {
        if (e.button === 2) return; // å³ã‚¯ãƒªãƒƒã‚¯ç„¡è¦–
        const info = this._normalizeEvent(e);
        this._emit('pointerdown', info);
      });
      
      this.canvas.addEventListener('pointermove', (e) => {
        const info = this._normalizeEvent(e);
        this._emit('pointermove', info);
      });
      
      this.canvas.addEventListener('pointerup', (e) => {
        const info = this._normalizeEvent(e);
        this._emit('pointerup', info);
      });
      
      this.canvas.addEventListener('pointercancel', (e) => {
        const info = this._normalizeEvent(e);
        this._emit('pointercancel', info);
      });
      
      console.log('    âœ“ ã‚¤ãƒ™ãƒ³ãƒˆãƒªã‚¹ãƒŠãƒ¼è¨­å®šå®Œäº†');
    }
    
    _normalizeEvent(e) {
      return {
        clientX: e.clientX,
        clientY: e.clientY,
        pressure: e.pressure || 0.5,
        pointerType: e.pointerType,
        button: e.button
      };
    }
    
    on(eventType, handler) {
      if (this._listeners[eventType]) {
        this._listeners[eventType].push(handler);
        console.log(`    âœ“ ${eventType} ãƒãƒ³ãƒ‰ãƒ©ãƒ¼ç™»éŒ²`);
      }
    }
    
    off(eventType, handler) {
      if (this._listeners[eventType]) {
        const index = this._listeners[eventType].indexOf(handler);
        if (index > -1) {
          this._listeners[eventType].splice(index, 1);
        }
      }
    }
    
    _emit(eventType, data) {
      if (this._listeners[eventType]) {
        this._listeners[eventType].forEach(handler => {
          try {
            handler(data);
          } catch (error) {
            console.error(`Error in ${eventType} handler:`, error);
          }
        });
      }
    }
  }
  
  // æ–°ã—ã„ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ä½œæˆ
  window.pointerHandler = new PointerHandler(glCanvas);
  
  // DrawingEngineã«æ¥ç¶š
  console.log('\n  DrawingEngineã«PointerHandleræ¥ç¶šä¸­...');
  drawingEngine.pointerHandler = window.pointerHandler;
  
  // DrawingEngineã®ãƒãƒ³ãƒ‰ãƒ©ãƒ¼ã‚’å†ç™»éŒ²
  console.log('  DrawingEngineãƒãƒ³ãƒ‰ãƒ©ãƒ¼å†ç™»éŒ²ä¸­...');
  
  window.pointerHandler.on('pointerdown', (e) => {
    drawingEngine._handlePointerDown(e);
  });
  
  window.pointerHandler.on('pointermove', (e) => {
    drawingEngine._handlePointerMove(e);
  });
  
  window.pointerHandler.on('pointerup', (e) => {
    drawingEngine._handlePointerUp(e);
  });
  
  console.log('\nâœ… PointerHandler å†åˆæœŸåŒ–å®Œäº†');
  console.log('ğŸ¯ ä»Šã™ãæç”»ã—ã¦ãƒ†ã‚¹ãƒˆã—ã¦ãã ã•ã„ï¼');
}
VM265:2 ğŸ”§ PointerHandler å¼·åˆ¶å†åˆæœŸåŒ–...
VM265:12 âœ“ WebGL2ã‚­ãƒ£ãƒ³ãƒã‚¹: <canvas id=â€‹"webgl2-canvas" style=â€‹"position:â€‹absolute;â€‹top:â€‹0;â€‹left:â€‹0;â€‹pointer-events:â€‹auto;â€‹touch-action:â€‹none;â€‹z-index:â€‹10;â€‹display:â€‹block;â€‹" width=â€‹"400" height=â€‹"400">â€‹
VM265:13 âœ“ DrawingEngine: DrawingEngineÂ {initialized: true, isDrawing: false, currentMode: 'pen', coordSystem: CoordinateSystem, cameraSystem: CameraSystem,Â â€¦}
VM265:17   æ—¢å­˜ã®PointerHandlerå‰Šé™¤ä¸­...
VM265:27     pointerdown ãƒªã‚¹ãƒŠãƒ¼å‰Šé™¤
VM265:27     pointermove ãƒªã‚¹ãƒŠãƒ¼å‰Šé™¤
VM265:27     pointerup ãƒªã‚¹ãƒŠãƒ¼å‰Šé™¤
VM265:27     pointercancel ãƒªã‚¹ãƒŠãƒ¼å‰Šé™¤
VM265:34 
  æ–°ã—ã„PointerHandlerä½œæˆä¸­...
VM265:72     âœ“ ã‚¤ãƒ™ãƒ³ãƒˆãƒªã‚¹ãƒŠãƒ¼è¨­å®šå®Œäº†
VM265:47     âœ“ PointerHandleråˆæœŸåŒ–å®Œäº†
VM265:118 
  DrawingEngineã«PointerHandleræ¥ç¶šä¸­...
VM265:122   DrawingEngineãƒãƒ³ãƒ‰ãƒ©ãƒ¼å†ç™»éŒ²ä¸­...
VM265:88     âœ“ pointerdown ãƒãƒ³ãƒ‰ãƒ©ãƒ¼ç™»éŒ²
VM265:88     âœ“ pointermove ãƒãƒ³ãƒ‰ãƒ©ãƒ¼ç™»éŒ²
VM265:88     âœ“ pointerup ãƒãƒ³ãƒ‰ãƒ©ãƒ¼ç™»éŒ²
VM265:136 
âœ… PointerHandler å†åˆæœŸåŒ–å®Œäº†
VM265:137 ğŸ¯ ä»Šã™ãæç”»ã—ã¦ãƒ†ã‚¹ãƒˆã—ã¦ãã ã•ã„ï¼
undefined
// === å®Ÿéš›ã®ã‚¤ãƒ™ãƒ³ãƒˆãƒ•ãƒ­ãƒ¼èª¿æŸ» ===
console.log('ğŸ” å®Ÿéš›ã®ã‚¤ãƒ™ãƒ³ãƒˆãƒ•ãƒ­ãƒ¼èª¿æŸ»');

// 1. WebGL2ã‚­ãƒ£ãƒ³ãƒã‚¹ã«ç›´æ¥ãƒªã‚¹ãƒŠãƒ¼ãŒã‚ã‚‹ã‹ç¢ºèª
const glCanvas = document.querySelector('#webgl2-canvas');
console.log('\nğŸ“Œ WebGL2ã‚­ãƒ£ãƒ³ãƒã‚¹ç›´æ¥ãƒªã‚¹ãƒŠãƒ¼ç¢ºèª:');

if (glCanvas) {
  // Chrome DevToolsã®getEventListenersã‚’ä½¿ç”¨
  if (typeof getEventListeners !== 'undefined') {
    const listeners = getEventListeners(glCanvas);
    console.log('  Event types:', Object.keys(listeners));
    
    Object.keys(listeners).forEach(type => {
      console.log(`    ${type}: ${listeners[type].length} listener(s)`);
      listeners[type].forEach((listener, i) => {
        console.log(`      [${i}]`, listener.listener.toString().substring(0, 100) + '...');
      });
    });
  } else {
    console.log('  getEventListeners not available (use Chrome DevTools)');
  }
  
  // æ‰‹å‹•ã§ã‚¤ãƒ™ãƒ³ãƒˆã‚’ãƒˆãƒ¬ãƒ¼ã‚¹
  console.log('\n  æ‰‹å‹•ã‚¤ãƒ™ãƒ³ãƒˆãƒˆãƒ¬ãƒ¼ã‚¹è¨­å®šä¸­...');
  
  const events = ['pointerdown', 'pointermove', 'pointerup'];
  const tracers = {};
  
  events.forEach(eventType => {
    tracers[eventType] = function(e) {
      console.log(`\nğŸ¯ ${eventType} captured on canvas:`, {
        clientX: e.clientX,
        clientY: e.clientY,
        target: e.target.id,
        currentTarget: e.currentTarget?.id
      });
      console.trace('Call stack');
    };
    
    glCanvas.addEventListener(eventType, tracers[eventType], { capture: true, once: true });
  });
  
  console.log('  âœ… ã‚¤ãƒ™ãƒ³ãƒˆãƒˆãƒ¬ãƒ¼ã‚µãƒ¼è¨­å®šå®Œäº†ï¼ˆå„ã‚¤ãƒ™ãƒ³ãƒˆ1å›ã®ã¿ï¼‰');
  console.log('  ğŸ‘‰ ä»Šã™ãã‚­ãƒ£ãƒ³ãƒã‚¹ã«æç”»ã—ã¦ãã ã•ã„ï¼');
} else {
  console.error('  âŒ WebGL2ã‚­ãƒ£ãƒ³ãƒã‚¹ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“');
}

// 2. Pixiã®ã‚¤ãƒ™ãƒ³ãƒˆç¢ºèª
console.log('\nğŸ“Œ Pixi Stage ã‚¤ãƒ™ãƒ³ãƒˆç¢ºèª:');
const stage = window.pixiApp?.stage;
if (stage && stage.eventMode) {
  console.log('  EventMode:', stage.eventMode);
  console.log('  Interactive:', stage.interactive);
  console.log('  InteractiveChildren:', stage.interactiveChildren);
}

// 3. DrawingEngineã®åˆæœŸåŒ–çŠ¶æ…‹ã‚’è©³ç´°ç¢ºèª
console.log('\nğŸ“Œ DrawingEngine åˆæœŸåŒ–çŠ¶æ…‹è©³ç´°:');
const de = window.drawingEngine;
if (de) {
  console.log('  PointerHandler:', {
    exists: !!de.pointerHandler,
    type: typeof de.pointerHandler,
    hasOn: de.pointerHandler && typeof de.pointerHandler.on === 'function'
  });
  
  // PointerHandlerã®å†…éƒ¨çŠ¶æ…‹
  if (de.pointerHandler) {
    const ph = de.pointerHandler;
    console.log('  PointerHandler internal:');
    console.log('    _listeners:', ph._listeners);
    console.log('    listeners:', ph.listeners);
    console.log('    _eventTarget:', ph._eventTarget);
    console.log('    canvas:', ph.canvas);
  }
}

console.log('\nâ³ å¾…æ©Ÿä¸­... ã‚­ãƒ£ãƒ³ãƒã‚¹ã«æç”»ã—ã¦ãã ã•ã„');
VM1936:2 ğŸ” å®Ÿéš›ã®ã‚¤ãƒ™ãƒ³ãƒˆãƒ•ãƒ­ãƒ¼èª¿æŸ»
VM1936:6 
ğŸ“Œ WebGL2ã‚­ãƒ£ãƒ³ãƒã‚¹ç›´æ¥ãƒªã‚¹ãƒŠãƒ¼ç¢ºèª:
VM1936:12   Event types: (7)Â ['contextmenu', 'pointerdown', 'pointermove', 'pointerup', 'pointerenter', 'wheel', 'pointercancel']
VM1936:15     contextmenu: 1 listener(s)
VM1936:17       [0] (e) => e.preventDefault()...
VM1936:15     pointerdown: 2 listener(s)
VM1936:17       [0] (e) => {
                if (this.vKeyPressed) return;
                
                if ((e.bu...
VM1936:17       [1] (e) => {
        if (e.button === 2) return; // å³ã‚¯ãƒªãƒƒã‚¯ç„¡è¦–
        const info = this._normalizeEvent(e)...
VM1936:15     pointermove: 2 listener(s)
VM1936:17       [0] (e) => {
                if (this.isDragging) {
                    const dx = (e.clientX - this.l...
VM1936:17       [1] (e) => {
        const info = this._normalizeEvent(e);
        this._emit('pointermove', info);
    ...
VM1936:15     pointerup: 2 listener(s)
VM1936:17       [0] (e) => {
                if (this.isDragging && (e.button === 2 || !this.spacePressed)) {
        ...
VM1936:17       [1] (e) => {
        const info = this._normalizeEvent(e);
        this._emit('pointerup', info);
      ...
VM1936:15     pointerenter: 1 listener(s)
VM1936:17       [0] () => {
                this._emitCursorUpdate();
            }...
VM1936:15     wheel: 1 listener(s)
VM1936:17       [0] (e) => {
                e.preventDefault();
                
                if (this.vKeyPresse...
VM1936:15     pointercancel: 1 listener(s)
VM1936:17       [0] (e) => {
        const info = this._normalizeEvent(e);
        this._emit('pointercancel', info);
  ...
VM1936:25 
  æ‰‹å‹•ã‚¤ãƒ™ãƒ³ãƒˆãƒˆãƒ¬ãƒ¼ã‚¹è¨­å®šä¸­...
VM1936:44   âœ… ã‚¤ãƒ™ãƒ³ãƒˆãƒˆãƒ¬ãƒ¼ã‚µãƒ¼è¨­å®šå®Œäº†ï¼ˆå„ã‚¤ãƒ™ãƒ³ãƒˆ1å›ã®ã¿ï¼‰
VM1936:45   ğŸ‘‰ ä»Šã™ãã‚­ãƒ£ãƒ³ãƒã‚¹ã«æç”»ã—ã¦ãã ã•ã„ï¼
VM1936:51 
ğŸ“Œ Pixi Stage ã‚¤ãƒ™ãƒ³ãƒˆç¢ºèª:
VM1936:60 
ğŸ“Œ DrawingEngine åˆæœŸåŒ–çŠ¶æ…‹è©³ç´°:
VM1936:63   PointerHandler: {exists: true, type: 'object', hasOn: true}
VM1936:72   PointerHandler internal:
VM1936:73     _listeners: {pointerdown: Array(1), pointermove: Array(1), pointerup: Array(1), pointercancel: Array(0)}
VM1936:74     listeners: undefined
VM1936:75     _eventTarget: undefined
VM1936:76     canvas: <canvas id=â€‹"webgl2-canvas" style=â€‹"position:â€‹absolute;â€‹top:â€‹0;â€‹left:â€‹0;â€‹pointer-events:â€‹auto;â€‹touch-action:â€‹none;â€‹z-index:â€‹10;â€‹display:â€‹block;â€‹" width=â€‹"400" height=â€‹"400">â€‹
VM1936:80 
â³ å¾…æ©Ÿä¸­... ã‚­ãƒ£ãƒ³ãƒã‚¹ã«æç”»ã—ã¦ãã ã•ã„
undefined
VM1936:32 
ğŸ¯ pointermove captured on canvas: {clientX: 399.5, clientY: 258.5, target: 'webgl2-canvas', currentTarget: 'webgl2-canvas'}
VM1936:38 Call stack
tracers.<computed> @ VM1936:38
