<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üé® „Åµ„Åü„Å∞‚òÜ„Å°„ÇÉ„Çì„Å≠„ÇãÈ¢®„Éô„ÇØ„Çø„Éº„ÅäÁµµÊèè„Åç„ÉÑ„Éº„É´ v1rev12 (Á∑äÊÄ•‰øÆÊ≠£Áâà)</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="main-layout">
        <div class="sidebar">
            <div class="tool-button disabled" id="download-tool" title="„ÉÄ„Ç¶„É≥„É≠„Éº„Éâ">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/>
                    <polyline points="7,10 12,15 17,10"/>
                    <line x1="12" y1="15" x2="12" y2="3"/>
                </svg>
            </div>
            
            <div class="tool-button" id="resize-tool" data-popup="resize-settings" title="„É™„Çµ„Ç§„Ç∫">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <rect x="3" y="3" width="18" height="18" rx="2" ry="2"/>
                    <path d="M8 12h8"/>
                    <path d="M12 8v8"/>
                </svg>
            </div>
            
            <div class="tool-separator"></div>
                   
            <div class="tool-button disabled" id="palette-tool" title="„Ç´„É©„Éº„Éë„É¨„ÉÉ„Éà">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <circle cx="13.5" cy="6.5" r=".5"/>
                    <circle cx="17.5" cy="10.5" r=".5"/>
                    <circle cx="8.5" cy="7.5" r=".5"/>
                    <circle cx="6.5" cy="12.5" r=".5"/>
                    <path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z"/>
                </svg>
            </div>
     
            <div class="tool-button active" id="pen-tool" data-popup="pen-settings" title="„Éô„ÇØ„Çø„Éº„Éö„É≥">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M3 21v-4a4 4 0 1 1 4 4h-4"/>
                    <path d="M21 3a16 16 0 0 0 -12.8 10.2"/>
                    <path d="M21 3a16 16 0 0 1 -10.2 12.8"/>
                    <path d="M10.6 9a9 9 0 0 1 4.4 4.4"/>
                </svg>
            </div>
            
            <div class="tool-button" id="eraser-tool" title="Ê∂à„Åó„Ç¥„É†">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M20 20h-10.5l-4.21-4.3a1 1 0 0 1 0-1.41l10-10a1 1 0 0 1 1.41 0l5 5a1 1 0 0 1 0 1.41L11.5 20"/>
                    <path d="M18 13.3l-6.3-6.3"/>
                </svg>
            </div>
            
            <div class="tool-separator"></div>
            
            <div class="tool-button disabled" id="fill-tool" title="Â°ó„Çä„Å§„Å∂„Åó">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M19 11H5m14 0a2 2 0 0 1 2 2v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-6a2 2 0 0 1 2-2m14 0V9a2 2 0 0 0-2-2M5 11V9a2 2 0 0 1 2-2m0 0V5a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v2M7 7h10"/>
                </svg>
            </div>
            
            <div class="tool-button disabled" id="select-tool" title="ÁØÑÂõ≤ÈÅ∏Êäû">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <rect x="4" y="4" width="16" height="16" rx="2" ry="2"/>
                    <path d="M9 9h6v6H9z"/>
                </svg>
            </div>
            
            <div class="tool-separator"></div>
            
            <div class="tool-button disabled" id="settings-tool" title="Ë®≠ÂÆö">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <circle cx="12" cy="12" r="3"/>
                    <path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"/>
                </svg>
            </div>
        </div>
        
        <div class="canvas-area">
            <div class="canvas-container">
                <div id="drawing-canvas"></div>
            </div>
        </div>
    </div>
    
    <!-- „Éö„É≥„ÉÑ„Éº„É´Ë®≠ÂÆö„Éù„ÉÉ„Éó„Ç¢„ÉÉ„ÉóÔºàPhase2A: „Éá„Éï„Ç©„É´„ÉàÂÄ§Â§âÊõ¥ÂØæÂøúÔºâ -->
    <div class="popup-panel pen-settings draggable" id="pen-settings" style="left: 60px; top: 80px;">
        <div class="popup-title">„Éô„ÇØ„Çø„Éº„Éö„É≥„ÉÑ„Éº„É´Ë®≠ÂÆö</div>
        
        <div class="setting-group">
            <div class="size-presets" id="size-presets">
                <div class="size-preset-item" data-size="1">
                    <div class="size-preview-frame">
                        <div class="size-preview-circle" style="width: 1px; height: 1px;"></div>
                    </div>
                    <div class="size-preview-label">1</div>
                    <div class="size-preview-percent">100%</div>
                </div>
                <div class="size-preset-item" data-size="2">
                    <div class="size-preview-frame">
                        <div class="size-preview-circle" style="width: 2px; height: 2px;"></div>
                    </div>
                    <div class="size-preview-label">2</div>
                    <div class="size-preview-percent">100%</div>
                </div>
                <div class="size-preset-item active" data-size="4">
                    <div class="size-preview-frame">
                        <div class="size-preview-circle" style="width: 4px; height: 4px;"></div>
                    </div>
                    <div class="size-preview-label">4</div>
                    <div class="size-preview-percent">100%</div>
                </div>
                <div class="size-preset-item" data-size="8">
                    <div class="size-preview-frame">
                        <div class="size-preview-circle" style="width: 8px; height: 8px;"></div>
                    </div>
                    <div class="size-preview-label">8</div>
                    <div class="size-preview-percent">100%</div>
                </div>
                <div class="size-preset-item" data-size="16">
                    <div class="size-preview-frame">
                        <div class="size-preview-circle" style="width: 16px; height: 16px;"></div>
                    </div>
                    <div class="size-preview-label">16</div>
                    <div class="size-preview-percent">100%</div>
                </div>
                <div class="size-preset-item" data-size="32">
                    <div class="size-preview-frame">
                        <div class="size-preview-circle" style="width: 20px; height: 20px;"></div>
                    </div>
                    <div class="size-preview-label">32</div>
                    <div class="size-preview-percent">100%</div>
                </div>
            </div>
        </div>
        
        <!-- „Çµ„Ç§„Ç∫„Çπ„É©„Ç§„ÉÄ„ÉºÔºàPhase2A: „Éá„Éï„Ç©„É´„ÉàÂÄ§Â§âÊõ¥ÂØæÂøúÔºâ -->
        <div class="slider-container">
            <div class="setting-label">„Çµ„Ç§„Ç∫<span class="slider-value">4.0px</span></div>
            <div class="slider-controls">
                <button class="slider-button small" id="pen-size-decrease-large" title="-10">-10</button>
                <button class="slider-button small" id="pen-size-decrease" title="-1">-1</button>
                <button class="slider-button small" id="pen-size-decrease-small" title="-0.1">-0.1</button>
                <div class="slider" id="pen-size-slider">
                    <div class="slider-track"></div>
                    <div class="slider-handle"></div>
                </div>
                <button class="slider-button small" id="pen-size-increase-small" title="+0.1">+0.1</button>
                <button class="slider-button small" id="pen-size-increase" title="+1">+1</button>
                <button class="slider-button small" id="pen-size-increase-large" title="+10">+10</button>
            </div>
        </div>
        
        <!-- ‰∏çÈÄèÊòéÂ∫¶„Çπ„É©„Ç§„ÉÄ„ÉºÔºàPhase2A: „Éá„Éï„Ç©„É´„ÉàÂÄ§Â§âÊõ¥ÂØæÂøúÔºâ -->
        <div class="slider-container">
            <div class="setting-label">‰∏çÈÄèÊòéÂ∫¶<span class="slider-value">100.0%</span></div>
            <div class="slider-controls">
                <button class="slider-button small" id="pen-opacity-decrease-large" title="-10">-10</button>
                <button class="slider-button small" id="pen-opacity-decrease" title="-1">-1</button>
                <button class="slider-button small" id="pen-opacity-decrease-small" title="-0.1">-0.1</button>
                <div class="slider" id="pen-opacity-slider">
                    <div class="slider-track"></div>
                    <div class="slider-handle"></div>
                </div>
                <button class="slider-button small" id="pen-opacity-increase-small" title="+0.1">+0.1</button>
                <button class="slider-button small" id="pen-opacity-increase" title="+1">+1</button>
                <button class="slider-button small" id="pen-opacity-increase-large" title="+10">+10</button>
            </div>
        </div>
        
        <!-- Á≠ÜÂúß„Çπ„É©„Ç§„ÉÄ„Éº -->
        <div class="slider-container">
            <div class="setting-label">Á≠ÜÂúßÊÑüÂ∫¶<span class="slider-value">50.0%</span></div>
            <div class="slider-controls">
                <button class="slider-button small" id="pen-pressure-decrease-large" title="-10">-10</button>
                <button class="slider-button small" id="pen-pressure-decrease" title="-1">-1</button>
                <button class="slider-button small" id="pen-pressure-decrease-small" title="-0.1">-0.1</button>
                <div class="slider" id="pen-pressure-slider">
                    <div class="slider-track"></div>
                    <div class="slider-handle"></div>
                </div>
                <button class="slider-button small" id="pen-pressure-increase-small" title="+0.1">+0.1</button>
                <button class="slider-button small" id="pen-pressure-increase" title="+1">+1</button>
                <button class="slider-button small" id="pen-pressure-increase-large" title="+10">+10</button>
            </div>
        </div>
        
        <!-- Á∑öË£úÊ≠£„Çπ„É©„Ç§„ÉÄ„Éº -->
        <div class="slider-container">
            <div class="setting-label">Á∑öË£úÊ≠£<span class="slider-value">30.0%</span></div>
            <div class="slider-controls">
                <button class="slider-button small" id="pen-smoothing-decrease-large" title="-10">-10</button>
                <button class="slider-button small" id="pen-smoothing-decrease" title="-1">-1</button>
                <button class="slider-button small" id="pen-smoothing-decrease-small" title="-0.1">-0.1</button>
                <div class="slider" id="pen-smoothing-slider">
                    <div class="slider-track"></div>
                    <div class="slider-handle"></div>
                </div>
                <button class="slider-button small" id="pen-smoothing-increase-small" title="+0.1">+0.1</button>
                <button class="slider-button small" id="pen-smoothing-increase" title="+1">+1</button>
                <button class="slider-button small" id="pen-smoothing-increase-large" title="+10">+10</button>
            </div>
        </div>
        
        <!-- Phase2A: „É™„Çª„ÉÉ„ÉàÊ©üËÉΩ„Éú„Çø„É≥ËøΩÂä† + „Éó„É¨„Éì„É•„Éº„É™„Çª„ÉÉ„Éà„Éú„Çø„É≥ÔºàPhase2D: „Éö„É≥„ÉÑ„Éº„É´„Éó„É¨„Éì„É•„ÉºÈÄ£ÂãïÂØæÂøúÔºâ -->
        <div class="setting-group">
            <div class="setting-label">„É™„Çª„ÉÉ„ÉàÊ©üËÉΩ</div>
            <div style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 6px; margin-bottom: 16px;">
                <button class="resize-button" id="reset-active-preset" title="„Ç¢„ÇØ„ÉÜ„Ç£„Éñ„Éó„É™„Çª„ÉÉ„Éà„Çí„Éá„Éï„Ç©„É´„ÉàÂÄ§„Å´„É™„Çª„ÉÉ„Éà">
                    „Ç¢„ÇØ„ÉÜ„Ç£„Éñ„É™„Çª„ÉÉ„Éà
                </button>
                <button class="resize-button" id="reset-all-presets" title="ÂÖ®„Éó„É™„Çª„ÉÉ„Éà„Çí„Éá„Éï„Ç©„É´„ÉàÂÄ§„Å´„É™„Çª„ÉÉ„Éà">
                    ÂÖ®„Éó„É™„Çª„ÉÉ„Éà„É™„Çª„ÉÉ„Éà
                </button>
                <button class="resize-button secondary" id="reset-preview-values" title="ÂÖ®„Éó„É¨„Éì„É•„Éº„Çí„É©„Ç§„ÉñÂ§âÊõ¥Ââç„Å´Êàª„Åô">
                    „Éó„É¨„Éì„É•„Éº„É™„Çª„ÉÉ„Éà
                </button>
            </div>
            <button class="resize-button primary" id="reset-canvas" title="„Ç≠„É£„É≥„Éê„Çπ„ÇíÊ∂àÂéªÔºàCtrl+Z„ÅßÂæ©ÂÖÉÂèØËÉΩÔºâ">
                „Ç≠„É£„É≥„Éê„Çπ„ÇØ„É™„Ç¢
            </button>
        </div>
        
        <!-- „ÉÅ„Çß„ÉÉ„ÇØ„Éú„ÉÉ„ÇØ„ÇπË®≠ÂÆö -->
        <div class="setting-group">
            <div class="checkbox-container">
                <div class="checkbox-left">
                    <div class="checkbox checked" id="pressure-sensitivity"></div>
                    <span class="checkbox-label">Á≠ÜÂúßÊÑüÂ∫¶</span>
                </div>
                <span class="checkbox-status">ÊúâÂäπ</span>
            </div>
            <div class="checkbox-container">
                <div class="checkbox-left">
                    <div class="checkbox" id="edge-smoothing"></div>
                    <span class="checkbox-label">„Ç®„ÉÉ„Ç∏„Çπ„É†„Éº„Ç∏„É≥„Ç∞</span>
                </div>
                <span class="checkbox-status">ÁÑ°Âäπ</span>
            </div>
            <div class="checkbox-container">
                <div class="checkbox-left">
                    <div class="checkbox checked" id="gpu-acceleration"></div>
                    <span class="checkbox-label">GPUÂä†ÈÄü</span>
                </div>
                <span class="checkbox-status">ÊúâÂäπ</span>
            </div>
        </div>
    </div>
    
    <!-- „É™„Çµ„Ç§„Ç∫Ë®≠ÂÆö„Éù„ÉÉ„Éó„Ç¢„ÉÉ„Éó -->
    <div class="popup-panel resize-settings draggable" id="resize-settings" style="left: 400px; top: 100px;">
        <div class="popup-title">„Ç≠„É£„É≥„Éê„Çπ„Çµ„Ç§„Ç∫Â§âÊõ¥</div>
        
        <div class="size-input-group">
            <div class="size-input-field">
                <div class="setting-label">ÂπÖ (px)</div>
                <input type="number" class="size-input" id="canvas-width" value="400" min="100" max="4000">
            </div>
            <div class="size-multiply">√ó</div>
            <div class="size-input-field">
                <div class="setting-label">È´ò„Åï (px)</div>
                <input type="number" class="size-input" id="canvas-height" value="400" min="100" max="4000">
            </div>
        </div>
        
        <!-- „Éó„É™„Çª„ÉÉ„Éà„Éú„Çø„É≥ -->
        <div class="setting-group">
            <div class="setting-label">„Éó„É™„Çª„ÉÉ„Éà„Çµ„Ç§„Ç∫</div>
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 8px; margin-bottom: 16px;">
                <button class="resize-button" data-size="400,400">400√ó400</button>
                <button class="resize-button" data-size="600,600">600√ó600</button>
                <button class="resize-button" data-size="800,600">800√ó600</button>
                <button class="resize-button" data-size="1024,768">1024√ó768</button>
                <button class="resize-button" data-size="1200,800">1200√ó800</button>
                <button class="resize-button" data-size="1920,1080">1920√ó1080</button>
            </div>
        </div>
        
        <!-- ÈÅ©Áî®„Éú„Çø„É≥ -->
        <div class="resize-buttons">
            <button class="resize-button" id="apply-resize">ÈÅ©Áî®</button>
            <button class="resize-button primary" id="apply-resize-center">ÈÅ©Áî®Ôºà‰∏≠Â§ÆÔºâ</button>
        </div>
        
        <!-- Â±•Ê≠¥ÁÆ°ÁêÜ„Å´Èñ¢„Åô„ÇãÊ≥®Ë®ò -->
        <div style="margin-top: 12px; padding: 8px; background: #f0f8ff; border-radius: 4px; font-size: 12px; color: #666;">
            <strong>üí° Â±•Ê≠¥Ê©üËÉΩ:</strong> „É™„Çµ„Ç§„Ç∫Êìç‰Ωú„ÅØËá™ÂãïÁöÑ„Å´Â±•Ê≠¥„Å´Ë®òÈå≤„Åï„Çå„ÄÅCtrl+Z„Åß„Ç¢„É≥„Éâ„Ç•ÂèØËÉΩ„Åß„Åô
        </div>
    </div>
    
    <!-- „Çπ„ÉÜ„Éº„Çø„Çπ„Éê„Éº -->
    <div class="status-panel">
        <div class="status-group">
            <div class="status-item">
                <span>Tool:</span>
                <span id="current-tool">„Éô„ÇØ„Çø„Éº„Éö„É≥</span>
            </div>
            <div class="status-item">
                <span>Canvas:</span>
                <span id="canvas-info">400√ó400px</span>
            </div>
            <div class="status-item">
                <span>Color:</span>
                <span id="current-color">#800000</span>
            </div>
            <div class="status-item">
                <span>Â∫ßÊ®ô:</span>
                <span id="coordinates">x: 0, y: 0</span>
            </div>
        </div>
        <div class="status-group">
            <div class="status-item">
                <span>Á≠ÜÂúß:</span>
                <span id="pressure-monitor">0.0%</span>
            </div>
            <div class="status-item">
                <span>FPS:</span>
                <span id="fps">60</span>
            </div>
            <div class="status-item">
                <span>GPU:</span>
                <span id="gpu-usage">45%</span>
            </div>
            <div class="status-item">
                <span>Memory:</span>
                <span id="memory-usage">12.3MB</span>
            </div>
        </div>
    </div>

    <!-- üöë Á∑äÊÄ•‰øÆÊ≠£Áâà - ÈáçË§áË™≠„ÅøËæº„ÅøÂâäÈô§„ÉªÁµ±Âêà„Éï„Ç°„Ç§„É´‰ΩøÁî® -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pixi.js/7.4.2/pixi.min.js"></script>
    
    <!-- „Äê„Çπ„ÉÜ„ÉÉ„Éó0„Äë Phase2A: Ë®≠ÂÆöÁµ±‰∏ÄÁÆ°ÁêÜÔºàÊúÄÂàù„Å´Ë™≠„ÅøËæº„ÅøÔºâ-->
    <script src="config.js"></script>
    
    <!-- „Äê„Çπ„ÉÜ„ÉÉ„Éó0.5„Äë Phase2D: Áµ±Âêà„É¶„Éº„ÉÜ„Ç£„É™„ÉÜ„Ç£Ôºàconfig.js‰æùÂ≠ò„Éªmain.jsÂâç„Å´ÂøÖÈ†àÔºâ-->
    <script src="utils.js"></script>
    
    <!-- „Äê„Çπ„ÉÜ„ÉÉ„Éó1„Äë „Ç≥„Ç¢„Ç¢„Éó„É™„Ç±„Éº„Ç∑„Éß„É≥Âü∫Áõ§ -->
    <script src="app-core.js"></script>
    
    <!-- „Äê„Çπ„ÉÜ„ÉÉ„Éó2„Äë Ë®≠ÂÆöÁÆ°ÁêÜ„Ç∑„Çπ„ÉÜ„É†ÔºàÈ´òDPIÁ≠â„ÅÆÂü∫Êú¨Ë®≠ÂÆöÔºâ -->
    <script src="ui/PresetManager.js"></script>
    
    <!-- „Äê„Çπ„ÉÜ„ÉÉ„Éó3„Äë Â±•Ê≠¥ÁÆ°ÁêÜ„Ç∑„Çπ„ÉÜ„É†ÔºàÊèèÁîªÂâç„Å´ÂøÖË¶ÅÔºâ -->
    <script src="history-manager.js"></script>
    
    <!-- „Äê„Çπ„ÉÜ„ÉÉ„Éó4„Äë üöë ÊèèÁîª„ÉÑ„Éº„É´Áæ§ÔºàÁ∑äÊÄ•Âæ©ÊóßÁâà„ÉªÁµ±Âêà„Éï„Ç°„Ç§„É´‰ΩøÁî®Ôºâ -->
    <script src="drawing-tools.js"></script>
    
    <!-- üö® ÈáçË§áË™≠„ÅøËæº„ÅøÂâäÈô§ÔºàÁ∑äÊÄ•‰øÆÊ≠£Ôºâ
         ‰ª•‰∏ã„ÅÆ„Éï„Ç°„Ç§„É´„ÅØdrawing-tools.js„Å®ÈáçË§áÂÆöÁæ©„ÇíËµ∑„Åì„Åô„Åü„ÇÅ‰∏ÄÊôÇÁöÑ„Å´ÁÑ°ÂäπÂåñ
         - drawing-tools/core/base-tool.js
         - drawing-tools/core/tool-manager.js  
         - drawing-tools/core/drawing-tools-system.js
         - drawing-tools/tools/pen-tool.js
         - drawing-tools/tools/eraser-tool.js
         - drawing-tools/ui/pen-tool-ui.js
         
         „Åì„Çå„Çâ„ÅÆÊ©üËÉΩ„ÅØ drawing-tools.js Á∑äÊÄ•Âæ©ÊóßÁâà„Å´Áµ±ÂêàÊ∏à„Åø
    -->
    
    <!-- „Äê„Çπ„ÉÜ„ÉÉ„Éó5„Äë UI„Ç≥„É≥„Éù„Éº„Éç„É≥„ÉàÁæ§ÔºàUIÁµ±ÂêàÁÆ°ÁêÜ„ÅÆÂâç„Å´ÂøÖË¶ÅÔºâ-->
    <script src="ui/components.js"></script>
    
    <!-- „Äê„Çπ„ÉÜ„ÉÉ„Éó6„Äë UIÁµ±ÂêàÁÆ°ÁêÜ„Ç∑„Çπ„ÉÜ„É†ÔºàPhase2A: Á∑äÊÄ•‰øÆÊ≠£ÁâàÔºâ -->
    <script src="ui-manager.js"></script>
    
    <!-- „Äê„Çπ„ÉÜ„ÉÉ„Éó7„Äë Phase2FÊñ∞Ë¶è: „Éá„Éê„ÉÉ„Ç∞„Ç∑„Çπ„ÉÜ„É†Áæ§ÔºàÂàÜÈõ¢„É¢„Ç∏„É•„Éº„É´„Éª„Ç™„Éó„Ç∑„Éß„É≥Ôºâ -->
    <script src="debug/debug-manager.js" onerror="console.warn('„Éá„Éê„ÉÉ„Ç∞„Ç∑„Çπ„ÉÜ„É†„ÅåÂà©Áî®„Åß„Åç„Åæ„Åõ„ÇìÔºàÂü∫Êú¨Ê©üËÉΩ„ÅßÁ∂öË°åÔºâ')"></script>
    <script src="debug/diagnostics.js" onerror="console.warn('Ë®∫Êñ≠„Ç∑„Çπ„ÉÜ„É†„ÅåÂà©Áî®„Åß„Åç„Åæ„Åõ„ÇìÔºàÂü∫Êú¨Ê©üËÉΩ„ÅßÁ∂öË°åÔºâ')"></script>
    <script src="debug/performance-logger.js" onerror="console.warn('„Éë„Éï„Ç©„Éº„Éû„É≥„ÇπÊ∏¨ÂÆö„Ç∑„Çπ„ÉÜ„É†„ÅåÂà©Áî®„Åß„Åç„Åæ„Åõ„ÇìÔºàÂü∫Êú¨Ê©üËÉΩ„ÅßÁ∂öË°åÔºâ')"></script>
    
    <!-- „Äê„Çπ„ÉÜ„ÉÉ„Éó8„Äë Phase2FÊñ∞Ë¶è: Áõ£Ë¶ñ„Ç∑„Çπ„ÉÜ„É†Áæ§ÔºàÂàÜÈõ¢„É¢„Ç∏„É•„Éº„É´„Éª„Ç™„Éó„Ç∑„Éß„É≥Ôºâ -->
    <script src="monitoring/system-monitor.js" onerror="console.warn('„Ç∑„Çπ„ÉÜ„É†Áõ£Ë¶ñ„ÅåÂà©Áî®„Åß„Åç„Åæ„Åõ„ÇìÔºàÂü∫Êú¨Ê©üËÉΩ„ÅßÁ∂öË°åÔºâ')"></script>
    
    <!-- „Äê„Çπ„ÉÜ„ÉÉ„Éó9„Äë Ë®≠ÂÆöÁÆ°ÁêÜ„Ç∑„Çπ„ÉÜ„É†Ôºà„Ç™„Éó„Ç∑„Éß„É≥„ÉªÂü∫Êú¨Ë®≠ÂÆöÂæå„Å´Ë™≠„ÅøËæº„ÅøÔºâ -->
    <script src="settings-manager.js" onerror="console.warn('Êã°ÂºµË®≠ÂÆöÁÆ°ÁêÜ„ÅåÂà©Áî®„Åß„Åç„Åæ„Åõ„ÇìÔºàÂü∫Êú¨Ê©üËÉΩ„ÅßÁ∂öË°åÔºâ')"></script>
    
    <!-- „Äê„Çπ„ÉÜ„ÉÉ„Éó10„Äë UI„Éó„É¨„Éì„É•„ÉºÁÆ°ÁêÜÔºà„Ç™„Éó„Ç∑„Éß„É≥„ÉªUIÊ©üËÉΩÊã°ÂºµÔºâ -->
    <script src="ui/preview-manager.js" onerror="console.warn('„Éó„É¨„Éì„É•„ÉºÁÆ°ÁêÜ„ÅåÂà©Áî®„Åß„Åç„Åæ„Åõ„ÇìÔºàÂü∫Êú¨Ê©üËÉΩ„ÅßÁ∂öË°åÔºâ')"></script>
    
    <!-- „Äê„Çπ„ÉÜ„ÉÉ„Éó11„Äë UIË©≥Á¥∞„Ç§„Éô„É≥„ÉàÂá¶ÁêÜÔºà„Ç™„Éó„Ç∑„Éß„É≥„ÉªUIÊ©üËÉΩÊã°ÂºµÔºâ -->
    <script src="ui/ui-events.js" onerror="console.warn('Êã°ÂºµUI„Ç§„Éô„É≥„ÉàÂá¶ÁêÜ„ÅåÂà©Áî®„Åß„Åç„Åæ„Åõ„ÇìÔºàÂü∫Êú¨Ê©üËÉΩ„ÅßÁ∂öË°åÔºâ')"></script>
    
    <!-- „Äê„Çπ„ÉÜ„ÉÉ„Éó12„Äë „Éë„Éï„Ç©„Éº„Éû„É≥„ÇπÁõ£Ë¶ñUIÔºà„Ç™„Éó„Ç∑„Éß„É≥„ÉªUIÊ©üËÉΩÊã°ÂºµÔºâ -->
    <script src="ui/performance-monitor.js" onerror="console.warn('„Éë„Éï„Ç©„Éº„Éû„É≥„ÇπÁõ£Ë¶ñUI„ÅåÂà©Áî®„Åß„Åç„Åæ„Åõ„ÇìÔºàÂü∫Êú¨Ê©üËÉΩ„ÅßÁ∂öË°åÔºâ')"></script>
    
    <!-- „Äê„Çπ„ÉÜ„ÉÉ„Éó13„Äë „É°„Ç§„É≥ÂàùÊúüÂåñ„Çπ„ÇØ„É™„Éó„ÉàÔºàÂÖ®„Ç∑„Çπ„ÉÜ„É†Áµ±Âêà„Éªutils.js‰æùÂ≠ò„Éªconfig.jsÈÄ£Êê∫ÁâàÔºâ-->
    <script src="main.js"></script>
    
    <!-- üöë Á∑äÊÄ•‰øÆÊ≠£ÁâàË™¨Êòé -->
    <!--
    üöë Á∑äÊÄ•‰øÆÊ≠£ÂÜÖÂÆπÔºàÈáçË§áË™≠„ÅøËæº„ÅøÂâäÈô§„Éª„Ç∑„Çπ„ÉÜ„É†ÂÆâÂÆöÂåñÔºâ:
    
    „ÄêËß£Ê±∫„Åï„Çå„ÅüÂïèÈ°å„Äë
    1. ‚úÖ ÈáçË§á„ÇØ„É©„ÇπÂÆöÁæ©„Ç®„É©„ÉºËß£Ê±∫ÔºàÂàÜÂâ≤„Éï„Ç°„Ç§„É´Ë™≠„ÅøËæº„ÅøÁÑ°ÂäπÂåñÔºâ
    2. ‚úÖ DrawingToolsSystemÂàùÊúüÂåñ„Ç®„É©„ÉºËß£Ê±∫
    3. ‚úÖ main.jsÂàùÊúüÂåñÂ§±Êïó„ÅÆËß£Ê±∫
    4. ‚úÖ Âü∫Êú¨ÊèèÁîªÊ©üËÉΩ„ÅÆÂæ©Êóß
    
    „ÄêÁ∑äÊÄ•‰øÆÊ≠£È†ÖÁõÆ„Äë
    ‚úÖ drawing-tools.js: Áµ±ÂêàÁâà„Å´Â§âÊõ¥ÔºàÂÖ®„ÇØ„É©„ÇπÁµ±ÂêàÔºâ
    ‚úÖ ÂàÜÂâ≤„Éï„Ç°„Ç§„É´Ë™≠„ÅøËæº„ÅøÂâäÈô§ÔºàÈáçË§áÂÆöÁæ©ÂõûÈÅøÔºâ
    ‚úÖ „Ç™„Éó„Ç∑„Éß„É≥„Éï„Ç°„Ç§„É´Ë™≠„ÅøËæº„ÅøËøΩÂä†Ôºàonerror„Åß„Éï„Ç©„Éº„É´„Éê„ÉÉ„ÇØÔºâ
    ‚úÖ Phase2FÂàÜÈõ¢„Ç∑„Çπ„ÉÜ„É†Áµ±ÂêàÂØæÂøúÔºà„Éá„Éê„ÉÉ„Ç∞„ÉªÁõ£Ë¶ñ„Ç∑„Çπ„ÉÜ„É†Ôºâ
    
    „ÄêË™≠„ÅøËæº„ÅøÈ†ÜÂ∫èÔºàÁ∑äÊÄ•‰øÆÊ≠£ÁâàÔºâ„Äë
    0. config.jsÔºàË®≠ÂÆöÁµ±‰∏ÄÁÆ°ÁêÜÔºâ
    0.5. utils.jsÔºàÁµ±Âêà„É¶„Éº„ÉÜ„Ç£„É™„ÉÜ„Ç£Ôºâ
    1. app-core.jsÔºàPixiJS„Ç¢„Éó„É™„Ç±„Éº„Ç∑„Éß„É≥Âü∫Áõ§Ôºâ
    2. ui/PresetManager.jsÔºà„Éó„É™„Çª„ÉÉ„ÉàÁÆ°ÁêÜÔºâ
    3. history-manager.jsÔºàÂ±•Ê≠¥„Ç∑„Çπ„ÉÜ„É†Ôºâ
    4. drawing-tools.jsÔºàÁ∑äÊÄ•Âæ©ÊóßÁâà„ÉªÁµ±Âêà„Éï„Ç°„Ç§„É´Ôºâ‚òÖ‰øÆÊ≠£
    5. ui/components.jsÔºàUI„Ç≥„É≥„Éù„Éº„Éç„É≥„ÉàÔºâ
    6. ui-manager.jsÔºàUIÁµ±ÂêàÁÆ°ÁêÜÔºâ
    7-12. Êã°Âºµ„Ç∑„Çπ„ÉÜ„É†Áæ§Ôºà„Ç™„Éó„Ç∑„Éß„É≥„Éª„Ç®„É©„ÉºÊôÇ„Çπ„Ç≠„ÉÉ„ÉóÔºâ
    13. main.jsÔºà„Ç∑„Çπ„ÉÜ„É†Áµ±ÂêàÔºâ
    
    „ÄêPhase2FÂàÜÈõ¢„Ç∑„Çπ„ÉÜ„É†ÂØæÂøú„Äë
    ‚úÖ debug/debug-manager.js: Áµ±Âêà„Éá„Éê„ÉÉ„Ç∞Ê©üËÉΩÔºà„Ç™„Éó„Ç∑„Éß„É≥Ôºâ
    ‚úÖ debug/diagnostics.js: „Ç∑„Çπ„ÉÜ„É†Ë®∫Êñ≠Ê©üËÉΩÔºà„Ç™„Éó„Ç∑„Éß„É≥Ôºâ
    ‚úÖ debug/performance-logger.js: „Éë„Éï„Ç©„Éº„Éû„É≥„ÇπÊ∏¨ÂÆöÔºà„Ç™„Éó„Ç∑„Éß„É≥Ôºâ
    ‚úÖ monitoring/system-monitor.js: „Ç∑„Çπ„ÉÜ„É†Áõ£Ë¶ñÔºà„Ç™„Éó„Ç∑„Éß„É≥Ôºâ
    
    „Äê„Ç®„É©„ÉºÂá¶ÁêÜÂº∑Âåñ„Äë
    ‚úÖ onerrorÂ±ûÊÄß„Åß„Éï„Ç©„Éº„É´„Éê„ÉÉ„ÇØÂá¶ÁêÜ
    ‚úÖ Âü∫Êú¨Ê©üËÉΩÂÑ™ÂÖà„ÉªÊã°ÂºµÊ©üËÉΩ„Ç™„Éó„Ç∑„Éß„É≥Âåñ
    ‚úÖ „Ç∑„Çπ„ÉÜ„É†ÂàùÊúüÂåñ„Ç®„É©„Éº„ÅÆÊÆµÈöéÁöÑÂõûÈÅø
    
    „ÄêÊ¨°„ÅÆ„Çπ„ÉÜ„ÉÉ„ÉóÔºàÂÆâÂÆöÂãï‰ΩúÁ¢∫Ë™çÂæåÔºâ„Äë
    1. Âü∫Êú¨Ê©üËÉΩ„ÅÆÂãï‰ΩúÁ¢∫Ë™ç
    2. Êã°Âºµ„Ç∑„Çπ„ÉÜ„É†„ÅÆÊÆµÈöéÁöÑÁµ±Âêà
    3. „É¢„Ç∏„É•„Éº„É´ÂàÜÂâ≤„ÅÆÊ≠£„Åó„ÅÑÂÆüË£Ö
    4. UIË≤¨ÂãôÁßªË≠≤„ÅÆÂÜçÈñã
    -->
    
    <!-- Á∑äÊÄ•Âæ©Êóß„ÉÜ„Çπ„Éà -->
    <script>
    // Á∑äÊÄ•Âæ©ÊóßÊàêÂäüÁ¢∫Ë™ç
    window.addEventListener('load', function() {
        setTimeout(function() {
            if (typeof window.testEmergencyFix === 'function') {
                console.log('üöë Á∑äÊÄ•Âæ©Êóß„ÉÜ„Çπ„ÉàËá™ÂãïÂÆüË°å...');
                const result = window.testEmergencyFix();
                if (result) {
                    console.log('‚úÖ Á∑äÊÄ•Âæ©ÊóßÊàêÂäüÔºÅ„Ç∑„Çπ„ÉÜ„É†ÂàùÊúüÂåñ„ÅåÂèØËÉΩ„Å´„Å™„Çä„Åæ„Åó„Åü');
                } else {
                    console.error('‚ùå Á∑äÊÄ•Âæ©ÊóßÂ§±Êïó„ÄÇËøΩÂä†„ÅÆ‰øÆÊ≠£„ÅåÂøÖË¶Å„Åß„Åô');
                }
            }
        }, 2000);
    });
    </script>
</body>
</html>