 âœ… config.js (P/E+ãƒ‰ãƒ©ãƒƒã‚°æ©Ÿèƒ½å¯¾å¿œç‰ˆ) loaded
    ğŸ†• tools: ãƒšãƒ³/æ¶ˆã—ã‚´ãƒ ã®ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆè¨­å®šè¿½åŠ 
    ğŸ†• sizeSlots: ã‚µã‚¤ã‚ºã‚¹ãƒ­ãƒƒãƒˆè¨­å®šè¿½åŠ 
    ğŸ†• dragAdjustment: ãƒ‰ãƒ©ãƒƒã‚°èª¿æ•´æ„Ÿåº¦è¨­å®šè¿½åŠ 
    ğŸ†• dragAdjustment.visual: è¦–è¦šãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯è¨­å®šè¿½åŠ 
 ğŸ§­ CoordinateSystem: ã‚·ã‚¹ãƒ†ãƒ çµ±åˆæ”¹ä¿®ç‰ˆ åˆæœŸåŒ–
 âœ… coordinate-system.js loaded (ã‚·ã‚¹ãƒ†ãƒ çµ±åˆæ”¹ä¿®ç‰ˆ)
 ğŸ”§ æ”¹ä¿®å®Œäº†é …ç›®:
   ğŸ†• applyLayerTransform(): çµ±ä¸€ãƒ¬ã‚¤ãƒ¤ãƒ¼å¤‰å½¢API
   ğŸ†• normalizeTransform(): å¤‰å½¢ãƒ‡ãƒ¼ã‚¿æ­£è¦åŒ–
   ğŸ†• combineTransforms(): å¤‰å½¢åˆæˆ
   ğŸ†• screenToWorld/worldToScreen(): ã‚­ãƒ£ãƒƒã‚·ãƒ¥å¯¾å¿œåº§æ¨™å¤‰æ›
   ğŸ†• localToWorld/worldToLocal(): ãƒ¬ã‚¤ãƒ¤ãƒ¼åº§æ¨™å¤‰æ›
   ğŸ†• getLayerBounds(): çµ±ä¸€å¢ƒç•Œå–å¾—
   ğŸ†• distance/angle/normalizeAngle(): æ•°å­¦é–¢æ•°çµ±åˆ
   ğŸ†• normalizeVector/dotProduct/crossProduct(): ãƒ™ã‚¯ãƒˆãƒ«è¨ˆç®—
   ğŸ†• diagnoseReferences(): ã‚·ã‚¹ãƒ†ãƒ çµ±åˆè¨ºæ–­
   ğŸ†• runTransformTests(): åº§æ¨™å¤‰æ›ãƒ†ã‚¹ãƒˆ
   ğŸ†• runPerformanceTest(): ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æ¸¬å®š
   ğŸ”§ EventBuså®Œå…¨çµ±åˆãƒ»ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚·ã‚¹ãƒ†ãƒ 
   ğŸ”§ LayerSystem/CameraSystem/AnimationSystemå‚ç…§çµ±åˆ
   ğŸ”§ åº§æ¨™ç³»æ··åœ¨å•é¡Œãƒ»APIæ–­ç‰‡åŒ–è§£æ¶ˆ
   âœ… PixiJS v8.13 å®Œå…¨å¯¾å¿œ
   âœ… ã‚·ã‚¹ãƒ†ãƒ é–“é€£æºå¼·åŒ–
 âœ… data-models.js (Phase 2: meshVerticeså¯¾å¿œ) loaded
 âœ… system/event-bus.js loaded
 âœ… batch-api.js (Phase 6: Historyçµ±åˆç‰ˆ) loaded
 âœ… tool-size-manager.js v3 loaded (å®Ÿã‚µã‚¤ã‚ºåæ˜ ç¢ºå®ŸåŒ–)
 âœ… system/settings-manager.js loaded
    - è²¬å‹™: è¨­å®šã®æ°¸ç¶šåŒ–ãƒ»ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆç®¡ç†
    - SOLIDåŸå‰‡æº–æ‹ : å˜ä¸€è²¬ä»»
    - EventBusçµ±åˆ: è¨­å®šå¤‰æ›´ã®è³¼èª­ã¨é€šçŸ¥
 âœ… camera-system.js (Phase 4.2: æ‹¡ç¸®ä¸Šä¸‹ä¿®æ­£ç‰ˆ) loaded successfully
    - ğŸ”¥ Space+Shift+ãƒ‰ãƒ©ãƒƒã‚°: ä¸Š=æ‹¡å¤§ã€ä¸‹=ç¸®å°ã«ä¿®æ­£
    - ğŸ”¥ Space+Shift+â†‘: æ‹¡å¤§ã€Space+Shift+â†“: ç¸®å°ã«ä¿®æ­£
 âœ… layer-transform.js loaded
 âœ… layer-system.js (GPT5æ¡ˆä¿®æ­£å®Œå…¨ç‰ˆ) loaded
 âœ… drawing-clipboard.js Phase4æ”¹ä¿®ç‰ˆ+ç¢ºå®šã‚¤ãƒ™ãƒ³ãƒˆ loaded
    - âœ… CTRL+V behavior: overwrite active layer
    - âœ… Commit events: paste:commit, operation:commit
    - âœ… Thumbnail auto-update on paste
 âœ… history.js (Phase 2: EventBusä¿®æ­£ç‰ˆ) loaded
 âœ… animation-system.js (Phase 4.1: CUTè‡ªå‹•æ¡ç•ªå¯¾å¿œç‰ˆ) loaded
 ğŸ”§ [BrushSettings] Starting registration...
 âœ… [BrushSettings] Created window.TegakiDrawing namespace
 âœ… [BrushSettings] Registered successfully:
    - window.TegakiDrawing.BrushSettings: true
brush-settings.js:311    - window.BrushSettings: true
brush-settings.js:312    - globalThis.BrushSettings: true
brush-settings.js:314 âœ… brush-settings.js loaded completely
drawing-engine.js:442 âœ… drawing-engine.js loaded
export-manager.js:259 âœ… export-manager.js loaded
png-exporter.js:85 âœ… png-exporter.js (å˜ä¸€ãƒ•ãƒ¬ãƒ¼ãƒ å°‚ç”¨ãƒ»ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼å¯¾å¿œ) loaded
apng-exporter.js:236 âœ… apng-exporter.js (PixiJS v8.13å®Œå…¨å¯¾å¿œç‰ˆ) loaded
gif-exporter.js:300 âœ… gif-exporter.js (PixiJS v8.13å®Œå…¨å¯¾å¿œç‰ˆ) loaded
slider-utils.js:197 âœ… ui/slider-utils.js loaded
slider-utils.js:198    - è²¬å‹™: ã‚¹ãƒ©ã‚¤ãƒ€ãƒ¼UIã®çµ±ä¸€å®Ÿè£…
slider-utils.js:199    - DRYåŸå‰‡: settings-popup.js ã¨ ui-panels.js ã§å…±æœ‰
slider-utils.js:200    - API: createSlider() / createSimpleSlider()
drag-visual-feedback.js:182 âœ… drag-visual-feedback.js loaded (ã‚«ãƒ¼ã‚½ãƒ«è¿½å¾“æ”¹å–„)
keyboard-handler.js:598 âœ… keyboard-handler.js loaded (P/E+ãƒ‰ãƒ©ãƒƒã‚°ä¿®æ­£ç‰ˆ)
timeline-ui.js:977 âœ… timeline-ui.js (Phase 5.2: ã‚­ãƒ¼å‡¦ç†ä¸€å…ƒåŒ–ç‰ˆ) loaded
timeline-ui.js:978    - ğŸ”¥ setupKeyboardShortcuts()ã‚’å‰Šé™¤ï¼ˆã‚­ãƒ¼å‡¦ç†ã¯UnifiedKeyHandlerã«ä¸€å…ƒåŒ–ï¼‰
timeline-ui.js:979    - ğŸ”¥ goToPreviousCutSafe()ã¨goToNextCutSafe()ã¯publicãƒ¡ã‚½ãƒƒãƒ‰ã¨ã—ã¦ç¶­æŒ
timeline-ui.js:980    - ğŸ”¥ togglePlayStop()ã‚‚publicãƒ¡ã‚½ãƒƒãƒ‰ã¨ã—ã¦ç¶­æŒ
core-initializer.js:455 âœ… core-initializer.js (P/E+ãƒ‰ãƒ©ãƒƒã‚°å¯¾å¿œç‰ˆ) loaded
core-runtime.js:781 âœ… core-runtime.js v2.1 loaded
core-runtime.js:782   âœ… Phase 12: PixiJS EventSystemçµ±åˆ
core-runtime.js:783   âœ… FederatedPointerEventå¯¾å¿œ
core-runtime.js:784   âœ… stage.eventModeè¨­å®š
core-runtime.js:785   âœ… ğŸ†• v2.1: è¨­å®šé–¢é€£APIè¿½åŠ 
core-runtime.js:786      - setPressureCorrection()
core-runtime.js:787      - setSmoothing()
core-runtime.js:788      - setPressureCurve()
core-runtime.js:789      - getSettings()
core-runtime.js:790      - updateSettings()
core-runtime.js:791      - resetSettings()
core-runtime.js:792      - getSettingsManager()
core-runtime.js:793   âœ… window.startTegakiApp() registered
core-runtime.js:794   âœ… APNGExporterç™»éŒ²å¯¾å¿œ
core-runtime.js:795   âœ… æ—¢å­˜æ©Ÿèƒ½å®Œå…¨ç¶­æŒ
core-engine.js:850 âœ… core-engine.js (GPT5æ¡ˆä¿®æ­£å®Œå…¨ç‰ˆ) loaded
coordinate-system.js:63 ğŸ”— CoordinateSystem EventBus integration configured
coordinate-system.js:47 âœ… CoordinateSystem initialized with canvas: 344x135
coordinate-system.js:757 ğŸ”„ CoordinateSystem auto-initialized
index.html:78 ğŸš€ Starting application with P/E+Drag feature...
index.html:84 ğŸ“¦ Checking dependencies...
index.html:85   PIXI: true
index.html:86   TegakiDrawing: true
index.html:87   BrushSettings: true
index.html:88   ToolSizeManager: true
index.html:89   KeyboardHandler: true
drawing-clipboard.js:19 DrawingClipboard: Initializing...
drawing-clipboard.js:26 âœ… DrawingClipboard initialized (Phase4æ”¹ä¿®ç‰ˆ + ç¢ºå®šã‚¤ãƒ™ãƒ³ãƒˆ)
coordinate-system.js:75 ğŸ”— CameraSystem reference set in CoordinateSystem
coordinate-system.js:70 ğŸ”— LayerSystem reference set in CoordinateSystem
coordinate-system.js:80 ğŸ”— AnimationSystem reference set in CoordinateSystem
core-runtime.js:51 === CoreRuntime Phase 12: PixiJS EventSystemçµ±åˆç‰ˆ åˆæœŸåŒ–é–‹å§‹ ===
core-runtime.js:203 âœ… CUTä½œæˆ: CUT1 (344x135)
core-runtime.js:231 ğŸ”„ CUTåˆ‡æ›¿: CUT1
core-runtime.js:101 âœ… PixiJS EventSystemè¨­å®šå®Œäº†
core-runtime.js:68 âœ… CoreRuntime åˆæœŸåŒ–å®Œäº†ï¼ˆPhase 12å¯¾å¿œï¼‰
index.html:97 âœ… Application ready!
index.html:98 ğŸ“ Usage:
index.html:99   - Press P + drag: Adjust pen size/opacity
index.html:100   - Press E + drag: Adjust eraser size/opacity
index.html:101   - Drag Left/Right: Change size
index.html:102   - Drag Up/Down: Change opacity
core-runtime.js:689 âœ… ExportSystem initialized (PNG/APNG/GIF/WebP)
/**
 * P/E+ãƒ‰ãƒ©ãƒƒã‚°æ©Ÿèƒ½ãƒ‡ãƒãƒƒã‚°ã‚³ãƒãƒ³ãƒ‰é›†
 * 
 * ãƒ–ãƒ©ã‚¦ã‚¶ã®ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã«è²¼ã‚Šä»˜ã‘ã¦å®Ÿè¡Œã—ã¦ãã ã•ã„
 */

// ==========================================
// 1. ã‚·ã‚¹ãƒ†ãƒ å…¨ä½“ã®çŠ¶æ…‹ç¢ºèª
// ==========================================
window.debugPenDrag = {
    /**
     * å…¨ä½“çŠ¶æ³ã‚’ãƒã‚§ãƒƒã‚¯
     */
    checkAll() {
        console.log('=== P/E+ãƒ‰ãƒ©ãƒƒã‚° ã‚·ã‚¹ãƒ†ãƒ çŠ¶æ…‹ ===\n');
        
        // EventBus
        console.log('1. EventBus:');
        console.log('  å­˜åœ¨:', !!window.TegakiEventBus);
        console.log('  ãƒªã‚¹ãƒŠãƒ¼æ•°:', window.TegakiEventBus?._events ? 
            Object.keys(window.TegakiEventBus._events).length : 0);
        
        // ToolSizeManager
        console.log('\n2. ToolSizeManager:');
        const tsm = window.toolSizeManager;
        if (tsm) {
            console.log('  å­˜åœ¨: âœ…');
            const info = tsm.getDebugInfo();
            console.log('  ãƒšãƒ³ã‚µã‚¤ã‚º:', info.penSize);
            console.log('  ãƒšãƒ³ä¸é€æ˜åº¦:', info.penOpacity);
            console.log('  ãƒ‰ãƒ©ãƒƒã‚°ä¸­:', !!info.dragState);
            console.log('  BrushSettingså–å¾—å¯:', info.brushSettings);
            if (info.brushSettingsDetails) {
                console.log('  ç¾åœ¨ã®BrushSettings:', info.brushSettingsDetails);
            }
        } else {
            console.log('  å­˜åœ¨: âŒ');
        }
        
        // DrawingEngine
        console.log('\n3. DrawingEngine:');
        const de = window.coreEngine?.drawingEngine || window.drawingApp?.drawingEngine;
        if (de) {
            console.log('  å­˜åœ¨: âœ…');
            console.log('  settings:', !!de.settings);
            console.log('  brushSettings:', !!de.brushSettings);
            if (de.settings) {
                console.log('  settings.size:', de.settings.size);
                console.log('  settings.opacity:', de.settings.opacity);
            }
        } else {
            console.log('  å­˜åœ¨: âŒ');
        }
        
        // KeyboardHandler
        console.log('\n4. KeyboardHandler:');
        if (window.KeyboardHandler) {
            const state = window.KeyboardHandler.getDebugState?.();
            if (state) {
                console.log('  Pã‚­ãƒ¼æŠ¼ä¸‹:', state.pKeyPressed);
                console.log('  Eã‚­ãƒ¼æŠ¼ä¸‹:', state.eKeyPressed);
                console.log('  ãƒ‰ãƒ©ãƒƒã‚°ä¸­:', state.isDragging);
                console.log('  ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ãƒ„ãƒ¼ãƒ«:', state.activeTool);
            }
        }
        
        // DragVisualFeedback
        console.log('\n5. DragVisualFeedback:');
        const feedback = document.getElementById('drag-visual-feedback');
        console.log('  DOMè¦ç´ :', !!feedback);
        console.log('  è¡¨ç¤ºä¸­:', feedback?.style.display !== 'none');
        
        console.log('\n=====================================');
    },
    
    /**
     * BrushSettingsã¸ã®ãƒ‘ã‚¹ã‚’ç¢ºèª
     */
    checkBrushSettingsPath() {
        console.log('=== BrushSettings å–å¾—ãƒ‘ã‚¹ç¢ºèª ===\n');
        
        const paths = [
            { name: 'window.coreEngine.drawingEngine.settings', 
              value: window.coreEngine?.drawingEngine?.settings },
            { name: 'window.drawingApp.drawingEngine.settings', 
              value: window.drawingApp?.drawingEngine?.settings },
            { name: 'window.CoreEngine.drawingEngine.settings', 
              value: window.CoreEngine?.drawingEngine?.settings },
            { name: 'window.drawingEngine.settings', 
              value: window.drawingEngine?.settings },
            { name: 'window.TegakiDrawing.BrushSettings', 
              value: window.TegakiDrawing?.BrushSettings },
            { name: 'window.BrushSettings', 
              value: window.BrushSettings }
        ];
        
        paths.forEach(p => {
            console.log(`${p.name}:`, p.value ? 'âœ…' : 'âŒ');
            if (p.value && typeof p.value === 'object' && p.value.size !== undefined) {
                console.log(`  -> size: ${p.value.size}, opacity: ${p.value.opacity}`);
            }
        });
        
        console.log('\n=====================================');
    },
    
    /**
     * EventBusã®ãƒªã‚¹ãƒŠãƒ¼ã‚’ç¢ºèª
     */
    checkEventListeners() {
        console.log('=== EventBus ãƒªã‚¹ãƒŠãƒ¼ç¢ºèª ===\n');
        
        if (!window.TegakiEventBus?._events) {
            console.log('EventBusæœªåˆæœŸåŒ–');
            return;
        }
        
        const events = window.TegakiEventBus._events;
        const targetEvents = [
            'tool:drag-size-start',
            'tool:drag-size-update',
            'tool:drag-size-end',
            'tool:size-opacity-changed',
            'brushSizeChanged',
            'brushOpacityChanged'
        ];
        
        targetEvents.forEach(evt => {
            const listeners = events[evt];
            console.log(`${evt}:`, listeners ? `${listeners.length}å€‹` : '0å€‹');
        });
        
        console.log('\n=====================================');
    },
    
    /**
     * æ‰‹å‹•ã§ã‚µã‚¤ã‚ºå¤‰æ›´ã‚’ãƒ†ã‚¹ãƒˆ
     */
    testSizeChange(size, opacity) {
        console.log(`\n=== æ‰‹å‹•ã‚µã‚¤ã‚ºå¤‰æ›´ãƒ†ã‚¹ãƒˆ (${size}px, ${opacity}) ===`);
        
        const de = window.coreEngine?.drawingEngine || window.drawingApp?.drawingEngine;
        if (!de) {
            console.error('âŒ DrawingEngine ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“');
            return;
        }
        
        if (!de.settings) {
            console.error('âŒ DrawingEngine.settings ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“');
            return;
        }
        
        console.log('å¤‰æ›´å‰:', {
            size: de.settings.size,
            opacity: de.settings.opacity
        });
        
        if (typeof de.settings.setBrushSize === 'function') {
            de.settings.setBrushSize(size);
        } else {
            de.settings.size = size;
        }
        
        if (typeof de.settings.setBrushOpacity === 'function') {
            de.settings.setBrushOpacity(opacity);
        } else {
            de.settings.opacity = opacity;
        }
        
        console.log('å¤‰æ›´å¾Œ:', {
            size: de.settings.size,
            opacity: de.settings.opacity
        });
        
        console.log('âœ… æ‰‹å‹•å¤‰æ›´å®Œäº†');
    },
    
    /**
     * EventBusã§ç›´æ¥ã‚¤ãƒ™ãƒ³ãƒˆã‚’ç™ºè¡Œã—ã¦ãƒ†ã‚¹ãƒˆ
     */
    testEventEmit() {
        console.log('\n=== EventBusç™ºè¡Œãƒ†ã‚¹ãƒˆ ===');
        
        if (!window.TegakiEventBus) {
            console.error('âŒ EventBus ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“');
            return;
        }
        
        console.log('1. tool:drag-size-start ã‚’ç™ºè¡Œ...');
        window.TegakiEventBus.emit('tool:drag-size-start', {
            tool: 'pen',
            startSize: 10,
            startOpacity: 0.8
        });
        
        setTimeout(() => {
            console.log('2. tool:drag-size-update ã‚’ç™ºè¡Œ...');
            window.TegakiEventBus.emit('tool:drag-size-update', {
                tool: 'pen',
                deltaX: 50,
                deltaY: -20
            });
        }, 500);
        
        setTimeout(() => {
            console.log('3. tool:drag-size-end ã‚’ç™ºè¡Œ...');
            window.TegakiEventBus.emit('tool:drag-size-end');
            
            setTimeout(() => {
                const de = window.coreEngine?.drawingEngine || window.drawingApp?.drawingEngine;
                if (de?.settings) {
                    console.log('\nçµæœ:', {
                        size: de.settings.size,
                        opacity: de.settings.opacity
                    });
                }
            }, 100);
        }, 1000);
    },
    
    /**
     * ç¾åœ¨ã®ãƒ„ãƒ¼ãƒ«ã¨ã‚µã‚¤ã‚ºã‚’è¡¨ç¤º
     */
    showCurrent() {
        const de = window.coreEngine?.drawingEngine || window.drawingApp?.drawingEngine;
        if (!de) {
            console.error('âŒ DrawingEngine ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“');
            return;
        }
        
        console.log('=== ç¾åœ¨ã®è¨­å®š ===');
        console.log('ãƒ„ãƒ¼ãƒ«:', de.currentTool || 'unknown');
        if (de.settings) {
            console.log('ã‚µã‚¤ã‚º:', de.settings.size);
            console.log('ä¸é€æ˜åº¦:', de.settings.opacity);
            console.log('è‰²:', de.settings.color);
        }
    },
    
    /**
     * ãƒ„ãƒ¼ãƒ«åˆ‡æ›¿ãƒ†ã‚¹ãƒˆ
     */
    switchTool(tool) {
        if (!['pen', 'eraser'].includes(tool)) {
            console.error('âŒ ãƒ„ãƒ¼ãƒ«ã¯ "pen" ã¾ãŸã¯ "eraser" ã‚’æŒ‡å®šã—ã¦ãã ã•ã„');
            return;
        }
        
        console.log(`\n=== ãƒ„ãƒ¼ãƒ«åˆ‡æ›¿: ${tool} ===`);
        
        if (window.CoreRuntime?.api?.setTool) {
            window.CoreRuntime.api.setTool(tool);
            console.log('âœ… CoreRuntime.api.setTool() ã§åˆ‡æ›¿å®Œäº†');
        } else {
            const de = window.coreEngine?.drawingEngine || window.drawingApp?.drawingEngine;
            if (de?.setTool) {
                de.setTool(tool);
                console.log('âœ… DrawingEngine.setTool() ã§åˆ‡æ›¿å®Œäº†');
            } else {
                console.error('âŒ ãƒ„ãƒ¼ãƒ«åˆ‡æ›¿ãƒ¡ã‚½ãƒƒãƒ‰ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“');
            }
        }
        
        this.showCurrent();
    }
};

// ä½¿ã„æ–¹ã‚’è¡¨ç¤º
console.log(`
ğŸ”§ P/E+ãƒ‰ãƒ©ãƒƒã‚° ãƒ‡ãƒãƒƒã‚°ã‚³ãƒãƒ³ãƒ‰

ä»¥ä¸‹ã®ã‚³ãƒãƒ³ãƒ‰ã‚’ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã§å®Ÿè¡Œã—ã¦ãã ã•ã„:

1. å…¨ä½“çŠ¶æ…‹ç¢ºèª
   debugPenDrag.checkAll()

2. BrushSettingså–å¾—ãƒ‘ã‚¹ç¢ºèª
   debugPenDrag.checkBrushSettingsPath()

3. EventBusãƒªã‚¹ãƒŠãƒ¼ç¢ºèª
   debugPenDrag.checkEventListeners()

4. æ‰‹å‹•ã‚µã‚¤ã‚ºå¤‰æ›´ãƒ†ã‚¹ãƒˆ
   debugPenDrag.testSizeChange(20, 0.9)

5. EventBusç™ºè¡Œãƒ†ã‚¹ãƒˆ
   debugPenDrag.testEventEmit()

6. ç¾åœ¨ã®è¨­å®šè¡¨ç¤º
   debugPenDrag.showCurrent()

7. ãƒ„ãƒ¼ãƒ«åˆ‡æ›¿ãƒ†ã‚¹ãƒˆ
   debugPenDrag.switchTool('pen')
   debugPenDrag.switchTool('eraser')
`);
VM1700:269 
ğŸ”§ P/E+ãƒ‰ãƒ©ãƒƒã‚° ãƒ‡ãƒãƒƒã‚°ã‚³ãƒãƒ³ãƒ‰

ä»¥ä¸‹ã®ã‚³ãƒãƒ³ãƒ‰ã‚’ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã§å®Ÿè¡Œã—ã¦ãã ã•ã„:

1. å…¨ä½“çŠ¶æ…‹ç¢ºèª
   debugPenDrag.checkAll()

2. BrushSettingså–å¾—ãƒ‘ã‚¹ç¢ºèª
   debugPenDrag.checkBrushSettingsPath()

3. EventBusãƒªã‚¹ãƒŠãƒ¼ç¢ºèª
   debugPenDrag.checkEventListeners()

4. æ‰‹å‹•ã‚µã‚¤ã‚ºå¤‰æ›´ãƒ†ã‚¹ãƒˆ
   debugPenDrag.testSizeChange(20, 0.9)

5. EventBusç™ºè¡Œãƒ†ã‚¹ãƒˆ
   debugPenDrag.testEventEmit()

6. ç¾åœ¨ã®è¨­å®šè¡¨ç¤º
   debugPenDrag.showCurrent()

7. ãƒ„ãƒ¼ãƒ«åˆ‡æ›¿ãƒ†ã‚¹ãƒˆ
   debugPenDrag.switchTool('pen')
   debugPenDrag.switchTool('eraser')

undefined
debugPenDrag.checkAll()
VM1700:15 === P/E+ãƒ‰ãƒ©ãƒƒã‚° ã‚·ã‚¹ãƒ†ãƒ çŠ¶æ…‹ ===

VM1700:18 1. EventBus:
VM1700:19   å­˜åœ¨: true
VM1700:20   ãƒªã‚¹ãƒŠãƒ¼æ•°: 0
VM1700:24 
2. ToolSizeManager:
VM1700:27   å­˜åœ¨: âœ…
VM1700:29   ãƒšãƒ³ã‚µã‚¤ã‚º: 10
VM1700:30   ãƒšãƒ³ä¸é€æ˜åº¦: 0.85
VM1700:31   ãƒ‰ãƒ©ãƒƒã‚°ä¸­: false
VM1700:32   BrushSettingså–å¾—å¯: true
VM1700:34   ç¾åœ¨ã®BrushSettings: {size: 10, color: 0, opacity: 0.85, pressureCorrection: 1, smoothing: 0.5,Â â€¦}
VM1700:41 
3. DrawingEngine:
VM1700:44   å­˜åœ¨: âœ…
VM1700:45   settings: true
VM1700:46   brushSettings: false
VM1700:48   settings.size: 10
VM1700:49   settings.opacity: 0.85
VM1700:56 
4. KeyboardHandler:
VM1700:60   Pã‚­ãƒ¼æŠ¼ä¸‹: false
VM1700:61   Eã‚­ãƒ¼æŠ¼ä¸‹: false
VM1700:62   ãƒ‰ãƒ©ãƒƒã‚°ä¸­: false
VM1700:63   ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ãƒ„ãƒ¼ãƒ«: null
VM1700:68 
5. DragVisualFeedback:
VM1700:70   DOMè¦ç´ : true
VM1700:71   è¡¨ç¤ºä¸­: false
VM1700:73 
=====================================
undefined
debugPenDrag.checkBrushSettingsPath()
VM1700:80 === BrushSettings å–å¾—ãƒ‘ã‚¹ç¢ºèª ===

VM1700:98 window.coreEngine.drawingEngine.settings: âœ…
VM1700:100   -> size: 10, opacity: 0.85
VM1700:98 window.drawingApp.drawingEngine.settings: âœ…
VM1700:100   -> size: 10, opacity: 0.85
VM1700:98 window.CoreEngine.drawingEngine.settings: âŒ
VM1700:98 window.drawingEngine.settings: âŒ
VM1700:98 window.TegakiDrawing.BrushSettings: âœ…
VM1700:98 window.BrushSettings: âœ…
VM1700:104 
=====================================
undefined
debugPenDrag.checkEventListeners()
VM1700:111 === EventBus ãƒªã‚¹ãƒŠãƒ¼ç¢ºèª ===

VM1700:130 tool:drag-size-start: 0å€‹
VM1700:130 tool:drag-size-update: 0å€‹
VM1700:130 tool:drag-size-end: 0å€‹
VM1700:130 tool:size-opacity-changed: 0å€‹
VM1700:130 brushSizeChanged: 0å€‹
VM1700:130 brushOpacityChanged: 0å€‹
VM1700:133 
=====================================
undefined
debugPenDrag.testSizeChange(20, 0.9)
VM1700:140 
=== æ‰‹å‹•ã‚µã‚¤ã‚ºå¤‰æ›´ãƒ†ã‚¹ãƒˆ (20px, 0.9) ===
VM1700:153 å¤‰æ›´å‰: {size: 10, opacity: 0.85}
VM1700:170 å¤‰æ›´å¾Œ: {size: 20, opacity: 0.9}
VM1700:175 âœ… æ‰‹å‹•å¤‰æ›´å®Œäº†
undefined
debugPenDrag.testEventEmit()
VM1700:182 
=== EventBusç™ºè¡Œãƒ†ã‚¹ãƒˆ ===
VM1700:189 1. tool:drag-size-start ã‚’ç™ºè¡Œ...
undefined
VM1700:197 2. tool:drag-size-update ã‚’ç™ºè¡Œ...
VM1700:206 3. tool:drag-size-end ã‚’ç™ºè¡Œ...
VM1700:212 
çµæœ: {size: 15, opacity: 0.8}
debugPenDrag.showCurrent()
VM1700:231 === ç¾åœ¨ã®è¨­å®š ===
VM1700:232 ãƒ„ãƒ¼ãƒ«: pen
VM1700:234 ã‚µã‚¤ã‚º: 15
VM1700:235 ä¸é€æ˜åº¦: 0.8
VM1700:236 è‰²: 0
undefined
debugPenDrag.showCurrent()
VM1700:231 === ç¾åœ¨ã®è¨­å®š ===
VM1700:232 ãƒ„ãƒ¼ãƒ«: pen
VM1700:234 ã‚µã‚¤ã‚º: 15
VM1700:235 ä¸é€æ˜åº¦: 0.8
VM1700:236 è‰²: 0
undefined
   debugPenDrag.switchTool('pen')
   debugPenDrag.switchTool('eraser')
VM1700:249 
=== ãƒ„ãƒ¼ãƒ«åˆ‡æ›¿: pen ===
VM1700:253 âœ… CoreRuntime.api.setTool() ã§åˆ‡æ›¿å®Œäº†
VM1700:231 === ç¾åœ¨ã®è¨­å®š ===
VM1700:232 ãƒ„ãƒ¼ãƒ«: pen
VM1700:234 ã‚µã‚¤ã‚º: 15
VM1700:235 ä¸é€æ˜åº¦: 0.8
VM1700:236 è‰²: 0
VM1700:249 
=== ãƒ„ãƒ¼ãƒ«åˆ‡æ›¿: eraser ===
VM1700:253 âœ… CoreRuntime.api.setTool() ã§åˆ‡æ›¿å®Œäº†
VM1700:231 === ç¾åœ¨ã®è¨­å®š ===
VM1700:232 ãƒ„ãƒ¼ãƒ«: eraser
VM1700:234 ã‚µã‚¤ã‚º: 15
VM1700:235 ä¸é€æ˜åº¦: 0.8
VM1700:236 è‰²: 0
undefined
